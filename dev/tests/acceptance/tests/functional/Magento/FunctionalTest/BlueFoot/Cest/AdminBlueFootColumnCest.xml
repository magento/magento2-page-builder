<?xml version="1.0" encoding="UTF-8"?>
<!--
 /**
  * Copyright Â© Magento, Inc. All rights reserved.
  * See COPYING.txt for license details.
  */
-->

<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="../../../../../../vendor/magento/magento2-functional-testing-framework/src/Magento/FunctionalTestingFramework/Test/etc/testSchema.xsd">
    <cest name="AdminBlueFootColumnCest">
        <annotations>
            <features value="BlueFoot CMS"/>
            <stories value="Bluefoot Column Configuration"/>
            <group value="bluefoot"/>
            <env value="chrome"/>
            <env value="firefox"/>
            <env value="phantomjs"/>
        </annotations>
        <after>
            <amOnPage url="admin/admin/auth/logout" mergeKey="amOnLogoutPage"/>
            <waitForPageLoad mergeKey="waitForAdminLoginPageLoad"/>
        </after>
        <before>
            <loginAsAdmin mergeKey="loginAsAdmin"/>
            <actionGroup ref="navigateToAPageWithBlueFoot" mergeKey="navigateToAPageWithBlueFoot"/>
            <actionGroup ref="switchToBlueFootStage" mergeKey="switchToBlueFootStage"/>
        </before>
        <test name="CanAddColumn">
            <annotations>
                <title value="Add a column into a row"/>
                <description value="A user should be able to add a column into a row."/>
                <severity value="CRITICAL"/>
                <testCaseId value="MAGETWO-82860"/>
                <group value="bluefoot"/>
            </annotations>
            <actionGroup ref="addBlueFootRowToStage" mergeKey="addFirstRow"/>
            <actionGroup ref="dragBlueFootColumnIntoStage" mergeKey="dragColumnIntoStage"/>
        </test>
        <test name="CanRemoveColumn">
            <annotations>
                <title value="Remove a column from a row"/>
                <description value="A user should be able to remove columns from rows."/>
                <severity value="CRITICAL"/>
                <testCaseId value="MAGETWO-82861"/>
                <group value="bluefoot"/>
            </annotations>
            <actionGroup ref="addBlueFootRowToStage" mergeKey="addFirstRow"/>
            <actionGroup ref="dragBlueFootColumnIntoStage" mergeKey="dragColumnIntoStage"/>
            <actionGroup ref="removeBlueFootColumn" mergeKey="removeColumn"/>
            <waitForLoadingMaskToDisappear mergeKey="waitForLoadingMask"/>
            <dontSeeElement selector="{{BlueFootColumnSection.column}}" mergeKey="dontSeeColumn"/>
        </test>
        <test name="SlideOutPanelWithSettingsContainRequiredFields">
            <annotations>
                <title value="Displays requires column settings"/>
                <description value="Slide out panel with required settings appear"/>
                <severity value="CRITICAL"/>
                <testCaseId value="MAGETWO-82227"/>
                <group value="bluefoot"/>
            </annotations>
            <actionGroup ref="dragBlueFootColumnIntoStage" mergeKey="dragFirstColumn"/>
            <actionGroup ref="dragBlueFootColumnIntoStage" mergeKey="dragSecondColumn"/>
            <actionGroup ref="openBlueFootEditColumnPanel" mergeKey="openEditPanel"/>
            <actionGroup ref="validateSlideOutPanelField" mergeKey="seeAppearanceMinHeightProperty">
                <argument name="property" value="BlueFootAppearanceMinHeightProperty"/>
            </actionGroup>
            <actionGroup ref="validateSlideOutPanelField" mergeKey="seeBackgroundColorProperty">
                <argument name="property" value="BlueFootBackgroundColorProperty"/>
            </actionGroup>
            <actionGroup ref="validateSlideOutPanelField" mergeKey="seeBackgroundImageProperty">
                <argument name="property" value="BlueFootBackgroundImageProperty"/>
            </actionGroup>
            <actionGroup ref="validateSlideOutPanelField" mergeKey="seeBackgroundPositionProperty">
                <argument name="property" value="BlueFootBackgroundPositionProperty"/>
            </actionGroup>
            <actionGroup ref="validateSlideOutPanelField" mergeKey="seeBackgroundSizeProperty">
                <argument name="property" value="BlueFootBackgroundSizeProperty"/>
            </actionGroup>
            <actionGroup ref="validateSlideOutPanelField" mergeKey="seeBackgroundRepeatProperty">
                <argument name="property" value="BlueFootBackgroundRepeatProperty"/>
            </actionGroup>
            <actionGroup ref="validateSlideOutPanelField" mergeKey="seeBackgroundAttachmentProperty">
                <argument name="property" value="BlueFootBackgroundAttachmentProperty"/>
            </actionGroup>
            <actionGroup ref="validateSlideOutPanelFieldIsRequired" mergeKey="seeBackgroundPositionPropertyIsRequired">
                <argument name="property" value="BlueFootBackgroundPositionProperty"/>
            </actionGroup>
            <actionGroup ref="validateSlideOutPanelFieldIsRequired" mergeKey="seeBackgroundSizePropertyIsRequired">
                <argument name="property" value="BlueFootBackgroundSizeProperty"/>
            </actionGroup>
            <actionGroup ref="validateSlideOutPanelFieldIsRequired" mergeKey="seeBackgroundRepeatPropertyIsRequired">
                <argument name="property" value="BlueFootBackgroundRepeatProperty"/>
            </actionGroup>
            <actionGroup ref="validateSlideOutPanelFieldIsRequired" mergeKey="seeBackgroundAttachmentPropertyIsRequired">
                <argument name="property" value="BlueFootBackgroundAttachmentProperty"/>
            </actionGroup>
            <actionGroup ref="validateSlideOutPanelFieldIsRequired" mergeKey="seeBackgroundAttachmentPropertyIsRequired">
                <argument name="property" value="BlueFootBackgroundAttachmentProperty"/>
            </actionGroup>
        </test>
        <test name="ColumnCanInteractEditPanel">
            <annotations>
                <title value="Can close the edit panel"/>
                <description value="A user should be able to open the edit form on an added column."/>
                <severity value="CRITICAL"/>
                <testCaseId value="MAGETWO-82862"/>
                <group value="bluefoot"/>
            </annotations>
            <actionGroup ref="dragBlueFootColumnIntoStage" mergeKey="dragFirstColumn"/>
            <actionGroup ref="dragBlueFootColumnIntoStage" mergeKey="dragSecondColumn"/>
            <actionGroup ref="openBlueFootEditColumnPanel" mergeKey="openEditPanel"/>
            <seeElement selector="{{BlueFootActionsSection.editForm}}" mergeKey="seeEditForm"/>
            <waitForLoadingMaskToDisappear mergeKey="waitForLoadingMask"/>
            <waitForElementNotVisible time="2" selector="{{BlueFootColumnSection.editFormSpinner}}" mergeKey="waitForSpinner" />
            <waitForElementVisible time="2" selector="{{BlueFootActionsSection.editFormCancel}}" mergeKey="waitForEditFormCancel"/>
            <click selector="{{BlueFootActionsSection.editFormCancel}}" mergeKey="clickEditFormCancel"/>
            <waitForElementNotVisible time="2" selector="{{BlueFootActionsSection.editForm}}" mergeKey="waitClose" />
            <dontSeeElement selector="{{BlueFootActionsSection.editForm}}" mergeKey="dontSeeEditForm"/>
        </test>
        <test name="ColumnSettingsAppearOnFrontend">
            <annotations>
                <title value="Column settings appear on frontend"/>
                <description value="Validate selected column settings appear on the frontend"/>
                <severity value="CRITICAL"/>
                <group value="bluefoot"/>
            </annotations>
            <fillField selector="{{CmsPageSection.pageTitle}}" userInput="{{BlueFootFirstColumnInStage.pageName}}" mergeKey="enterPageTitle"/>
            <actionGroup ref="dragBlueFootColumnIntoStage" mergeKey="dragFirstColumn"/>
            <actionGroup ref="dragBlueFootColumnIntoStage" mergeKey="dragSecondColumn"/>
            <actionGroup ref="openBlueFootEditColumnPanel" mergeKey="openEditPanel"/>
            <actionGroup ref="fillSlideOutPanelField" mergeKey="enterMinHeightProperty1">
                <argument name="property" value="BlueFootAppearanceMinHeightProperty"/>
            </actionGroup>
            <actionGroup ref="fillSlideOutPanelField" mergeKey="enterBackgroundColorProperty">
                <argument name="property" value="BlueFootBackgroundColorProperty"/>
            </actionGroup>
            <actionGroup ref="selectSlideOutPanelField" mergeKey="enterBackgroundPositionProperty">
                <argument name="property" value="BlueFootBackgroundPositionProperty"/>
            </actionGroup>
            <actionGroup ref="selectSlideOutPanelField" mergeKey="enterBackgroundSizePropertyContain">
                <argument name="property" value="BlueFootBackgroundSizePropertyContain"/>
            </actionGroup>
            <actionGroup ref="selectSlideOutPanelField" mergeKey="enterBackgroundWidthProperty">
                <argument name="property" value="BlueFootBackgroundWidthProperty"/>
            </actionGroup>
            <actionGroup ref="selectSlideOutPanelField" mergeKey="enterBackgroundAppearancePropertyBottom">
                <argument name="property" value="BlueFootBackgroundAppearanceProperty"/>
            </actionGroup>
            <click selector="{{BlueFootColumnSection.backgroundRepeatSwitch}}" mergeKey="clickBackgroundProperty"/>
            <wait time="1" mergeKey="waitForClick10"/>
            <actionGroup ref="selectSlideOutPanelField" mergeKey="enterBackgroundAttachmentProperty">
                <argument name="property" value="BlueFootBackgroundAttachmentProperty"/>
            </actionGroup>
            <wait time="1" mergeKey="wait5"/>
            <actionGroup ref="attachFileSlideOutProperty" mergeKey="attachBlueFootFile">
                <argument name="property" value="BlueFootBackgroundImageProperty"/>
            </actionGroup>
            <wait time="1" mergeKey="wait6"/>
            <actionGroup ref="saveColumnSettings" mergeKey="saveColumnSettings"/>
            <actionGroup ref="openBlueFootEditColumnPanel2" mergeKey="openEditPanel2"/>
            <actionGroup ref="fillSlideOutPanelField" mergeKey="enterMinHeightProperty2">
                <argument name="property" value="BlueFootAppearanceMinHeightProperty"/>
            </actionGroup>
            <wait time="1" mergeKey="wait7"/>
            <actionGroup ref="saveColumnSettings" mergeKey="saveColumnSettings2"/>
            <actionGroup ref="saveCmsPage" mergeKey="saveCmsPage"/>
            <amOnPage url="{{BlueFootFirstColumnInStage.pageName}}" mergeKey="amOnBlueFootPage"/>
            <seeElement selector="{{RowsOnFrontend.row1Display}}" mergeKey="seeDefaultRow1DisplayApplied"/>
            <seeElement selector="{{ColumnsOnFrontend.column1Height}}" mergeKey="seeColumn1MinHeightApplied"/>
            <seeElement selector="{{ColumnsOnFrontend.column1BackgroundColor}}" mergeKey="seeColumn1BackgroundColorApplied"/>
            <seeElement selector="{{ColumnsOnFrontend.column1BackgroundSize}}" mergeKey="seeColumn1BackgroundSizeApplied"/>
            <seeElement selector="{{ColumnsOnFrontend.column1BackgroundRepeatApplied}}" mergeKey="seeColumn1BackgroundRepeatApplied"/>
            <seeElement selector="{{ColumnsOnFrontend.column1BackgroundAttachment}}" mergeKey="seeColumn1BackgroundAttachmentFixedApplied"/>
            <seeElement selector="{{ColumnsOnFrontend.column1BackgroundImage}}" mergeKey="seeColumn1BackgroundImageApplied"/>
            <seeElement selector="{{ColumnsOnFrontend.column1BackgroundWidth}}" mergeKey="seeColumn1WidthApplied"/>
            <seeElement selector="{{ColumnsOnFrontend.column1Appearance}}"  mergeKey="seeColumn1AppearanceBottomApplied"/>
            <seeElement selector="{{ColumnsOnFrontend.column2BackgroundWidth}}" mergeKey="seeColumn2DefaultWidthApplied"/>
            <seeElement selector="{{ColumnsOnFrontend.column2Height}}" mergeKey="seeColumn2HeightApplied"/>
            <seeElement selector="{{ColumnsOnFrontend.column2BackgroundSize}}" mergeKey="seeColumn2BackgroundSizeAutoApplied"/>
            <seeElement selector="{{ColumnsOnFrontend.column2BackgroundRepeatNotApplied}}" mergeKey="seeColumn2BackgroundRepeatNotApplied"/>
            <seeElement selector="{{ColumnsOnFrontend.column2BackgroundAttachment}}" mergeKey="seeColumn2BackgroundAttachmentScrollApplied"/>
        </test>
        <test name="ColumnAppearanceSettingsShowOnFrontend">
            <annotations>
                <title value="Column appearance settings show on frontend"/>
                <description value="Validate column appearance settings appear on the frontend"/>
                <severity value="CRITICAL"/>
                <group value="bluefoot"/>
            </annotations>
            <actionGroup ref="dragBlueFootColumnIntoStage" mergeKey="dragFirstColumn"/>
            <actionGroup ref="dragBlueFootColumnIntoStage" mergeKey="dragSecondColumn"/>
            <actionGroup ref="dragBlueFootColumnIntoStage" mergeKey="dragThirdColumn"/>
            <fillField selector="{{CmsPageSection.pageTitle}}" userInput="{{BlueFootFirstColumnInStage.pageName}}" mergeKey="enterPageTitle"/>
            <actionGroup ref="openBlueFootEditColumnPanel" mergeKey="openEditPanel"/>
            <actionGroup ref="fillSlideOutPanelField" mergeKey="enterMinHeightProperty">
                <argument name="property" value="BlueFootAppearanceMinHeightProperty"/>
            </actionGroup>
            <actionGroup ref="selectSlideOutPanelField" mergeKey="enterBackgroundWidthProperty">
                <argument name="property" value="BlueFootBackgroundWidthProperty"/>
            </actionGroup>
            <actionGroup ref="selectSlideOutPanelField" mergeKey="enterBackgroundAppearancePropertyBottom">
                <argument name="property" value="BlueFootBackgroundAppearanceProperty"/>
            </actionGroup>
            <actionGroup ref="saveColumnSettings" mergeKey="saveColumnSettings"/>
            <actionGroup ref="openBlueFootEditColumnPanel2" mergeKey="openEditPanel2"/>
            <actionGroup ref="fillSlideOutPanelField" mergeKey="enterMinHeightProperty2">
                <argument name="property" value="BlueFootAppearanceMinHeightProperty"/>
            </actionGroup>
            <actionGroup ref="selectSlideOutPanelField" mergeKey="enterBackgroundAppearancePropertyCentered">
                <argument name="property" value="BlueFootBackgroundAppearancePropertyCentered"/>
            </actionGroup>
            <wait time="1" mergeKey="wait1"/>
            <actionGroup ref="saveColumnSettings" mergeKey="saveColumnSettings2"/>
            <actionGroup ref="openBlueFootEditColumnPanel3" mergeKey="openEditPanel3"/>
            <actionGroup ref="fillSlideOutPanelField" mergeKey="enterMinHeightProperty3">
                <argument name="property" value="BlueFootAppearanceMinHeightProperty"/>
            </actionGroup>
            <actionGroup ref="saveColumnSettings" mergeKey="saveColumnSettings3"/>
            <actionGroup ref="saveCmsPage" mergeKey="saveCmsPage"/>
            <amOnPage url="{{BlueFootFirstColumnInStage.pageName}}" mergeKey="amOnBlueFootPage"/>
            <seeElement selector="{{RowsOnFrontend.row1Display}}" mergeKey="seeRow1DisplayApplied"/>
            <seeElement selector="{{ColumnsOnFrontend.column1Height}}" mergeKey="seeColumn1MinHeightApplied"/>
            <seeElement selector="{{ColumnsOnFrontend.column1BackgroundWidth}}" mergeKey="seeColumn1WidthApplied"/>
            <seeElement selector="{{ColumnsOnFrontend.column1Appearance}}"  mergeKey="seeColumn1AppearanceBottomApplied"/>
            <seeElementInDOM selector="{{ColumnsOnFrontend.column2BackgroundWidth}}" mergeKey="seeColumn2DefaultWidthApplied"/>
            <seeElementInDOM selector="{{ColumnsOnFrontend.column2Appearance}}"  mergeKey="seeColumn2AppearanceCenteredApplied"/>
            <seeElementInDOM selector="{{ColumnsOnFrontend.column3Appearance}}"  mergeKey="seeColumn3AppearanceTopDefaultApplied"/>
        </test>
        <test name="ColumnChangesPreserved">
            <annotations>
                <title value="Column settings appear on the column form after page save"/>
                <description value="Validate selected column settings appear on the form after page save"/>
                <severity value="CRITICAL"/>
                <testCaseId value=""/>
                <group value="bluefoot"/>
            </annotations>
            <fillField selector="{{CmsPageSection.pageTitle}}" userInput="{{BlueFootFirstColumnInStage.pageName}}" mergeKey="enterPageTitle"/>
            <actionGroup ref="dragBlueFootColumnIntoStage" mergeKey="dragFirstColumn"/>
            <actionGroup ref="dragBlueFootColumnIntoStage" mergeKey="dragSecondColumn"/>
            <actionGroup ref="openBlueFootEditColumnPanel" mergeKey="openEditPanel1"/>
            <actionGroup ref="fillSlideOutPanelField" mergeKey="enterMinHeightProperty">
                <argument name="property" value="BlueFootAppearanceMinHeightProperty"/>
            </actionGroup>
            <actionGroup ref="fillSlideOutPanelField" mergeKey="enterBackgroundColorProperty">
                <argument name="property" value="BlueFootBackgroundColorProperty_087E8B"/>
            </actionGroup>
            <actionGroup ref="selectSlideOutPanelField" mergeKey="enterBackgroundPositionProperty">
                <argument name="property" value="BlueFootBackgroundPositionProperty"/>
            </actionGroup>
            <actionGroup ref="selectSlideOutPanelField" mergeKey="enterBackgroundSizePropertyCover">
                <argument name="property" value="BlueFootBackgroundSizeProperty"/>
            </actionGroup>
            <wait time="1" mergeKey="wait3"/>
            <actionGroup ref="attachFileSlideOutProperty" mergeKey="attachBlueFootFile">
                <argument name="property" value="BlueFootBackgroundImageProperty"/>
            </actionGroup>
            <click selector="{{BlueFootColumnSection.backgroundRepeatSwitch}}" mergeKey="clickBackgroundProperty"/>
            <wait time="1" mergeKey="waitForClick{{property.fieldName}}"/>
            <actionGroup ref="selectSlideOutPanelField" mergeKey="enterBackgroundAttachmentProperty">
                <argument name="property" value="BlueFootBackgroundAttachmentProperty"/>
            </actionGroup>
            <actionGroup ref="saveColumnSettings" mergeKey="saveColumnSettings"/>
            <actionGroup ref="saveCmsPage" mergeKey="saveCmsPage2"/>
            <waitForPageLoad mergeKey="waitForCmsPagesGridLoad"/>
            <waitForElementVisible time="5" selector="{{CmsPageGrid.cmsPageSearchInput}}" mergeKey="waitForSearchField" />
            <waitForElementVisible time="5" selector="{{CmsPageGrid.searchButton}}" mergeKey="waitForButton" />
            <fillField selector="{{CmsPageGrid.cmsPageSearchInput}}" userInput='"{{BlueFootFirstColumnInStage.pageName}}"' mergeKey="enterPageNameInSearch"/>
            <waitForElementNotVisible selector="{{CmsPageGrid.spinner}}" mergeKey="waitForSpinnerNotVisible" />
            <click selector="{{CmsPageGrid.searchButton}}" mergeKey="clickSearchButton"/>
            <waitForElement time="10" selector="{{CmsPageGrid.firstItemSelectButton}}" mergeKey="waitForFirstItemButton" />
            <waitForPageLoad mergeKey="waitForSpinner" />
            <waitForElementVisible time="10" selector="{{CmsPageGrid.firstItemSelectButton}}" mergeKey="waitForFirstItemButton" />
            <waitForElementNotVisible selector="{{CmsPageGrid.spinner}}" mergeKey="waitForSpinnerNotVisible1" />
            <click selector="{{CmsPageGrid.firstItemSelectButton}}" mergeKey="clickSelectButtonOnFirstItem"/>
            <waitForPageLoad mergeKey="waitForSpinner2" />
            <waitForElementVisible time="10" selector="{{CmsPageGrid.firstItemEditButton}}" mergeKey="waitForFirstItemEditButton" />
            <waitForElementNotVisible selector="{{CmsPageGrid.spinner}}" mergeKey="waitForSpinnerNotVisible2" />
            <click selector="{{CmsPageGrid.firstItemEditButton}}" mergeKey="clickSelectEditOnFirstItem"/>
            <waitForElementVisible time="5" selector="{{CmsNewPagePageContentSection.header}}" mergeKey="waitForContentHeader" />
            <waitForElementNotVisible time="10" selector="{{CmsPageSection.spinner}}" mergeKey="waitForCmsPageSpinner" />
            <click selector="{{CmsNewPagePageContentSection.header}}" mergeKey="clickExpandContent"/>
            <waitForElementVisible time="10" selector="{{BlueFootRowSection.row}}" mergeKey="waitForBlueFootRow" />
            <actionGroup ref="openBlueFootEditColumnPanel" mergeKey="openEditPanel2"/>
            <actionGroup ref="seeInFieldSlideOutProperty" mergeKey="BlueFootAppearanceMinHeightProperty">
                <argument name="property" value="BlueFootAppearanceMinHeightProperty"/>
            </actionGroup>
            <actionGroup ref="seeInFieldSlideOutProperty" mergeKey="seeBackgroundColorProperty">
                <argument name="property" value="BlueFootBackgroundColorProperty_087E8B"/>
            </actionGroup>
            <seeElementInDOM selector="{{BlueFootColumnSection.backgroundImagePreview}}" mergeKey="backgroundImagePreview"/>
            <actionGroup ref="seeOptionIsSelectedSlideOutProperty" mergeKey="seeBackgroundPositionProperty">
                <argument name="property" value="BlueFootBackgroundPositionProperty"/>
            </actionGroup>
            <actionGroup ref="seeOptionIsSelectedSlideOutProperty" mergeKey="seeBackgroundSizeProperty">
                <argument name="property" value="BlueFootBackgroundSizeProperty"/>
            </actionGroup>
            <actionGroup ref="seeOptionIsCheckedSlideOutProperty" mergeKey="seeBackgroundRepeatProperty">
                <argument name="property" value="BlueFootBackgroundRepeatProperty"/>
            </actionGroup>
            <actionGroup ref="seeOptionIsSelectedSlideOutProperty" mergeKey="seeBackgroundAttachmentProperty">
                <argument name="property" value="BlueFootBackgroundAttachmentProperty"/>
            </actionGroup>
        </test>
        <test name="CantDragColumnIntoColumn">
            <annotations>
                <title value="Columns cannot be dragged into other columns"/>
                <description value="Validate that a user cannot drag one column into another"/>
                <severity value="CRITICAL"/>
                <group value="bluefoot"/>
            </annotations>
            <actionGroup ref="dragBlueFootColumnIntoStage" mergeKey="dragFirstColumn"/>
            <actionGroup ref="dragBlueFootColumnIntoStage" mergeKey="dragSecondColumn"/>
            <dragAndDrop selector1="{{BlueFootColumnSection.draggableColumnInPanel}}" selector2="{{BlueFootColumnSection.columnInStage2DropArea}}" mergeKey="dropColumnIntoStage"/>
            <seeNumberOfElements selector="{{BlueFootColumnSection.columnInStage2Children}}" userInput="0" mergeKey="seeNoChildren"/>
        </test>
        <test name="CantSortColumnIntoColumn">
            <annotations>
                <title value="Columns cannot be sorted into other columns"/>
                <description value="Validate that a user cannot drag one column into another"/>
                <severity value="CRITICAL"/>
                <group value="bluefoot"/>
            </annotations>
            <actionGroup ref="dragBlueFootColumnIntoStage" mergeKey="dragFirstColumn"/>
            <actionGroup ref="dragBlueFootColumnIntoStage" mergeKey="dragSecondColumn"/>
            <moveMouseOver selector="{{BlueFootColumnSection.columnInStage}}" mergeKey="onMouseOverColumn"/>
            <seeElement selector="{{BlueFootColumnSection.columnOptionsMenu}}" mergeKey="seeColumnOptionsMenu"/>
            <dragAndDrop selector1="{{BlueFootColumnSection.dragColumn}}" selector2="{{BlueFootColumnSection.columnInStage2DropArea}}" mergeKey="dropColumnOntoColumn"/>
            <seeNumberOfElements selector="{{BlueFootColumnSection.columnInStage2Children}}" userInput="0" mergeKey="seeNoChildren"/>
        </test>
        <test name="PreviewBackgroundImage">
            <annotations>
                <title value="Upload and preview an image for column background style"/>
                <description value="Upload an image file to edit column form and see a preview in the admin panel"/>
                <severity value="CRITICAL"/>
                <group value="bluefoot"/>
            </annotations>
            <actionGroup ref="dragBlueFootColumnIntoStage" mergeKey="dragFirstColumn"/>
            <actionGroup ref="dragBlueFootColumnIntoStage" mergeKey="dragSecondColumn"/>
            <actionGroup ref="openBlueFootEditColumnPanel" mergeKey="openEditPanel"/>
            <wait time="1" mergeKey="wait3"/>
            <actionGroup ref="attachFileSlideOutProperty" mergeKey="attachBlueFootFile">
                <argument name="property" value="BlueFootBackgroundImageProperty"/>
            </actionGroup>
            <seeElementInDOM selector="{{BlueFootColumnSection.backgroundImagePreview}}" mergeKey="backgroundImagePreview"/>
        </test>
        <test name="ValidateBackgroundImageUrl">
            <annotations>
                <title value="Background Image Url is displayed on front end"/>
                <description value="Validate background image appears on the frontend"/>
                <severity value="CRITICAL"/>
                <group value="bluefoot"/>
                <group value="skip"/>
            </annotations>
            <fillField selector="{{CmsPageSection.pageTitle}}" userInput="{{BlueFootFirstColumnInStage.pageName}}" mergeKey="enterPageTitle"/>
            <actionGroup ref="dragBlueFootColumnIntoStage" mergeKey="dragFirstColumn"/>
            <actionGroup ref="dragBlueFootColumnIntoStage" mergeKey="dragSecondColumn"/>
            <actionGroup ref="openBlueFootEditColumnPanel" mergeKey="openEditPanel"/>
            <wait time="1" mergeKey="wait1"/>
            <actionGroup ref="attachFileSlideOutProperty" mergeKey="attachBlueFootFile">
                <argument name="property" value="BlueFootBackgroundImageProperty"/>
            </actionGroup>
            <click selector="{{BlueFootColumnSection.columnSaveButton}}" mergeKey="clickSaveColumn"/>
            <wait time="1" mergeKey="waitForDataStoreUpdate"/>
            <waitForElementVisible time="2" selector="{{CmsPageSection.cmsPageSaveButton}}" mergeKey="waitForSavePage" />
            <click selector="{{CmsPageSection.cmsPageSaveButton}}" mergeKey="clickSaveCmsPage"/>
            <wait time="1" mergeKey="wait3"/>
            <amOnPage url="{{BlueFootFirstColumnInStage.pageName}}" mergeKey="amOnBlueFootPage"/>
            <wait time="5" mergeKey="wait5"/>
            <dontSeeInPageSource userInput=".png%22" mergeKey="dontSeeEscapedQuoteInPageSource"/>
        </test>
        <test name="ColumnBackgroundColorPreserved">
            <annotations>
                <title value="Column background color is preserved on edit"/>
                <description value="Validate column background color is preserved on edit"/>
                <severity value="CRITICAL"/>
                <group value="bluefoot"/>
            </annotations>
            <actionGroup ref="dragBlueFootColumnIntoStage" mergeKey="dragFirstColumn"/>
            <actionGroup ref="dragBlueFootColumnIntoStage" mergeKey="dragSecondColumn"/>
            <actionGroup ref="dragBlueFootColumnIntoStage" mergeKey="dragThirdColumn"/>
            <fillField selector="{{CmsPageSection.pageTitle}}" userInput="{{BlueFootFirstColumnInStage.pageName}}" mergeKey="enterPageTitle"/>
            <actionGroup ref="openBlueFootEditColumnPanel" mergeKey="openEditPanel"/>
            <actionGroup ref="selectSlideOutPanelField" mergeKey="enterBackgroundWidthProperty1">
                <argument name="property" value="BlueFootBackgroundWidthProperty_Third"/>
            </actionGroup>
            <actionGroup ref="selectSlideOutPanelField" mergeKey="enterBackgroundAppearanceProperty1">
                <argument name="property" value="BlueFootBackgroundAppearanceProperty"/>
            </actionGroup>
            <actionGroup ref="fillSlideOutPanelField" mergeKey="enterMinHeightProperty1">
                <argument name="property" value="BlueFootAppearanceMinHeightProperty"/>
            </actionGroup>
            <actionGroup ref="fillSlideOutPanelField" mergeKey="enterBackgroundColorProperty1">
                <argument name="property" value="BlueFootBackgroundColorProperty_087E8B"/>
            </actionGroup>
            <actionGroup ref="saveColumnSettings" mergeKey="saveColumnSettings1"/>
            <actionGroup ref="openBlueFootEditColumnPanel2" mergeKey="openEditPanel2"/>
            <actionGroup ref="selectSlideOutPanelField" mergeKey="enterBackgroundWidthProperty2">
                <argument name="property" value="BlueFootBackgroundWidthProperty_Third"/>
            </actionGroup>
            <actionGroup ref="selectSlideOutPanelField" mergeKey="enterBackgroundAppearanceProperty2">
                <argument name="property" value="BlueFootBackgroundAppearancePropertyCentered"/>
            </actionGroup>
            <actionGroup ref="fillSlideOutPanelField" mergeKey="enterMinHeightProperty2">
                <argument name="property" value="BlueFootAppearanceMinHeightProperty_300"/>
            </actionGroup>
            <actionGroup ref="fillSlideOutPanelField" mergeKey="enterBackgroundColorProperty2">
                <argument name="property" value="BlueFootBackgroundColorProperty_FF5A5F"/>
            </actionGroup>
            <wait time="1" mergeKey="wait1"/>
            <actionGroup ref="saveColumnSettings" mergeKey="saveColumnSettings2"/>
            <actionGroup ref="openBlueFootEditColumnPanel3" mergeKey="openEditPanel3"/>
            <actionGroup ref="selectSlideOutPanelField" mergeKey="enterBackgroundWidthProperty3">
                <argument name="property" value="BlueFootBackgroundWidthProperty_Third"/>
            </actionGroup>
            <actionGroup ref="fillSlideOutPanelField" mergeKey="enterMinHeightProperty3">
                <argument name="property" value="BlueFootAppearanceMinHeightProperty_200"/>
            </actionGroup>

            <actionGroup ref="fillSlideOutPanelField" mergeKey="enterBackgroundColorProperty3">
                <argument name="property" value="BlueFootBackgroundColorProperty_3C3C3C"/>
            </actionGroup>

            <actionGroup ref="saveColumnSettings" mergeKey="saveColumnSettings3"/>
            <actionGroup ref="saveAndContinueEditCmsPage" mergeKey="saveAndContinueEditCmsPage"/>
            <see userInput="{{BlueFootFirstColumnInStage.pageName}}" selector="{{CmsPageSection.cmsPageTitle}}" mergeKey="assertTitleSavedCmsPage"/>
            <grabFromCurrentUrl returnVariable="cmsPageUri" mergeKey="grabFromCurrentUrl"/>

            <amOnPage url="{{BlueFootFirstColumnInStage.pageName}}" mergeKey="amOnBlueFootPage"/>
            <seeElement selector="{{RowsOnFrontend.row1Display}}" mergeKey="seeRow1DisplayApplied"/>
            <seeElement selector="{{ColumnsOnFrontend.column1Height}}" mergeKey="seeColumn1MinHeightApplied"/>
            <seeElement selector="{{ColumnsOnFrontend.column1BackgroundWidthThird}}" mergeKey="seeColumn1WidthApplied"/>
            <seeElement selector="{{ColumnsOnFrontend.column1Appearance}}"  mergeKey="seeColumn1AppearanceApplied"/>
            <seeElement selector="{{ColumnsOnFrontend.column1BackgroundColorPeacock}}"  mergeKey="seeColumn1BackgroundColorApplied"/>
            <seeElement selector="{{ColumnsOnFrontend.column2Height300}}" mergeKey="seeColumn2MinHeightApplied"/>
            <seeElement selector="{{ColumnsOnFrontend.column2BackgroundWidthThird}}" mergeKey="seeColumn2WidthApplied"/>
            <seeElement selector="{{ColumnsOnFrontend.column2Appearance}}"  mergeKey="seeColumn2AppearanceApplied"/>
            <seeElement selector="{{ColumnsOnFrontend.column2BackgroundColorSalmon}}"  mergeKey="seeColumn2BackgroundColorApplied"/>
            <seeElement selector="{{ColumnsOnFrontend.column3Height200}}" mergeKey="seeColumn3MinHeightApplied"/>
            <seeElement selector="{{ColumnsOnFrontend.column3BackgroundWidthThird}}" mergeKey="seeColumn3WidthApplied"/>
            <seeElement selector="{{ColumnsOnFrontend.column3Appearance}}"  mergeKey="seeColumn3AppearanceApplied"/>
            <seeElement selector="{{ColumnsOnFrontend.column3BackgroundColorGrey}}"  mergeKey="seeColumn3BackgroundColorApplied"/>
            <amOnPage variable="cmsPageUri" mergeKey="navigateBackToEditPage"/>
            <waitForElementVisible time="5" selector="{{CmsNewPagePageContentSection.header}}" mergeKey="waitForContentHeader" />
            <waitForElementNotVisible time="10" selector="{{CmsPageSection.spinner}}" mergeKey="waitForCmsPageSpinner" />
            <click selector="{{CmsNewPagePageContentSection.header}}" mergeKey="clickExpandContent"/>
            <waitForElementVisible time="10" selector="{{BlueFootRowSection.row}}" mergeKey="waitForBlueFootRow" />
            <actionGroup ref="openBlueFootEditColumnPanel2" mergeKey="openEditPanel2AfterSave"/>
            <actionGroup ref="seeInFieldSlideOutProperty" mergeKey="seeBackgroundWidthProperty">
                <argument name="property" value="BlueFootBackgroundWidthProperty_Third"/>
            </actionGroup>
            <actionGroup ref="seeInFieldSlideOutProperty" mergeKey="seeBlueFootAppearanceProperty">
                <argument name="property" value="BlueFootBackgroundAppearancePropertyCentered"/>
            </actionGroup>
            <actionGroup ref="seeInFieldSlideOutProperty" mergeKey="seeBlueFootAppearanceMinHeightProperty">
                <argument name="property" value="BlueFootAppearanceMinHeightProperty_300"/>
            </actionGroup>
            <actionGroup ref="seeInFieldSlideOutProperty" mergeKey="seeBackgroundColorProperty">
                <argument name="property" value="BlueFootBackgroundColorProperty_FF5A5F"/>
            </actionGroup>
            <actionGroup ref="saveColumnSettings" mergeKey="saveColumnSettingsWithoutModifying"/>
            <actionGroup ref="saveCmsPage" mergeKey="saveCmsPage"/>
            <amOnPage url="{{BlueFootFirstColumnInStage.pageName}}" mergeKey="amOnBlueFootPage"/>
            <seeElement selector="{{RowsOnFrontend.row1Display}}" mergeKey="seeRow1DisplayApplied"/>
            <seeElement selector="{{ColumnsOnFrontend.column1Height}}" mergeKey="seeColumn1MinHeightApplied"/>
            <seeElement selector="{{ColumnsOnFrontend.column1BackgroundWidthThird}}" mergeKey="seeColumn1WidthApplied"/>
            <seeElement selector="{{ColumnsOnFrontend.column1Appearance}}"  mergeKey="seeColumn1AppearanceApplied"/>
            <seeElement selector="{{ColumnsOnFrontend.column1BackgroundColorPeacock}}"  mergeKey="seeColumn1BackgroundColorApplied"/>
            <seeElement selector="{{ColumnsOnFrontend.column2Height300}}" mergeKey="seeColumn2MinHeightApplied"/>
            <seeElement selector="{{ColumnsOnFrontend.column2BackgroundWidthThird}}" mergeKey="seeColumn2WidthApplied"/>
            <seeElement selector="{{ColumnsOnFrontend.column2Appearance}}"  mergeKey="seeColumn2AppearanceApplied"/>
            <seeElement selector="{{ColumnsOnFrontend.column2BackgroundColorSalmon}}"  mergeKey="seeColumn2BackgroundColorApplied"/>
            <seeElement selector="{{ColumnsOnFrontend.column3Height200}}" mergeKey="seeColumn3MinHeightApplied"/>
            <seeElement selector="{{ColumnsOnFrontend.column3BackgroundWidthThird}}" mergeKey="seeColumn3WidthApplied"/>
            <seeElement selector="{{ColumnsOnFrontend.column3Appearance}}"  mergeKey="seeColumn3AppearanceApplied"/>
            <seeElement selector="{{ColumnsOnFrontend.column3BackgroundColorGrey}}"  mergeKey="seeColumn3BackgroundColorApplied"/>
        </test>
        <test name="ColumnHasAdvancedFormSection">
            <annotations>
                <title value="Column has Advanced form section"/>
                <description value="A user should be able to configure advanced settings for a column"/>
                <severity value="CRITICAL"/>
                <testCaseId value="MAGETWO-84912"/>
                <group value="bluefoot"/>
            </annotations>
            <fillField selector="{{CmsPageSection.pageTitle}}" userInput="{{BlueFootFirstColumnInStage.pageName}}" mergeKey="enterPageTitle"/>
            <actionGroup ref="dragBlueFootColumnIntoStage" mergeKey="dragFirstColumn"/>
            <actionGroup ref="dragBlueFootColumnIntoStage" mergeKey="dragSecondColumn"/>
            <actionGroup ref="openBlueFootEditColumnPanel" mergeKey="openEditPanel"/>
            <waitForElementVisible time="2" selector="{{AdvancedForm.advancedSectionName}}" mergeKey="waitForAdvancedForm"/>
            <seeElement selector="{{AdvancedForm.advancedSectionName}}" mergeKey="seeAdvancedFormSection"/>
            <click selector="{{AdvancedForm.advancedSectionName}}" mergeKey="clickAdvancedFormSection"/>
            <actionGroup ref="validateSlideOutPanelField" mergeKey="seeAdvancedCssClassesProperty">
                <argument name="property" value="PageBuilderAdvancedCssClassesProperty"/>
            </actionGroup>
            <actionGroup ref="validateSlideOutPanelField" mergeKey="seeAdvancedCssClassesProperty">
                <argument name="property" value="PageBuilderAdvancedCssClassesProperty"/>
            </actionGroup>
            <actionGroup ref="validateSlideOutPanelField" mergeKey="seeAdvancedAlignmentProperty">
                <argument name="property" value="PageBuilderAdvancedAlignmentProperty"/>
            </actionGroup>
            <actionGroup ref="validateSlideOutPanelField" mergeKey="seeAdvancedMarginsAndPaddingProperty">
                <argument name="property" value="PageBuilderAdvancedMarginsAndPaddingProperty"/>
            </actionGroup>
        </test>
    </cest>
</config>
