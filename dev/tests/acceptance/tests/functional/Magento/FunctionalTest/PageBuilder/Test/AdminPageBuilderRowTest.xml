<?xml version="1.0" encoding="UTF-8"?>
<!--
 /**
  * Copyright Â© Magento, Inc. All rights reserved.
  * See COPYING.txt for license details.
  */
-->

<tests xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="../../../../../../vendor/magento/magento2-functional-testing-framework/src/Magento/FunctionalTestingFramework/Test/etc/testSchema.xsd">
    <test name="AddBackgroundColorForRow">
        <annotations>
            <features value="[Pagebuilder] Bluefoot Column MAGETWO-83768"/>
            <stories value="[UI Component] Color Picker MAGETWO-71622"/>
            <title value="Add background color to PageBuilder using Color Picker UI component"/>
            <description value="Color picker extends input field in the form and allows user conveniently specify color value."/>
            <severity value="CRITICAL"/>
            <testCaseId value="MAGETWO-89768 MAGETWO-89770 "/>
            <group value="pagebuilder"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdmin" stepKey="loginAsAdmin"/>
            <actionGroup ref="EnabledWYSIWYG" stepKey="enableWYSIWYG"/>
            <actionGroup ref="enablePageBuilderSetting" stepKey="enablePageBuilderSetting"/>
            <createData entity="_defaultCmsPage" stepKey="createCMSPage" />
        </before>
        <after>
            <deleteData createDataKey="createCMSPage" stepKey="deletePreReqCMSPage" />
            <actionGroup ref="DisabledWYSIWYG" stepKey="disableWYSIWYG"/>
            <actionGroup ref="logout" stepKey="logout"/>
            <waitForPageLoad stepKey="waitForAdminLoginPageLoad"/>
        </after>
        <actionGroup ref="navigateToCreatedCMSPage" stepKey="navigateToCreatedCMSPage">
            <argument name="CMSPage" value="$$createCMSPage$$"/>
        </actionGroup>
        <actionGroup ref="dragContentBlockToStage" stepKey="dragRowIntoStage">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="openPageBuilderEditPanel" stepKey="openEditMenuOnStage1">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <waitForElementVisible time="2" selector="{{RowOnBackend.backgroundSectionName}}" stepKey="waitForBackgroundForm"/>
        <!--I see empty color swatch and empty color input field-->
        <seeElement selector="//div[contains(@class,'sp-preview-inner sp-clear-display')]" stepKey="seeColorSwatch" />
        <seeElement selector="//input[@placeholder='No Color']" stepKey="seeEmptyField" />

        <!--I input HEX color code into input field-->
        <fillField selector="{{BackgroundColor.colorInputField}}" userInput="test" stepKey="inputWrongFormatColorCodeIntoInputField"/>
        <click selector="{{BackgroundColor.label}}" stepKey="lostFocusFromInputField1"/>
        <see userInput="Wrong color format. Please specify color in HEX, RGBa, HSVa, HSLa or use color name." stepKey="seeValidationMsg" />
        <fillField selector="{{BackgroundColor.colorInputField}}" userInput="{{PageBuilderBackgroundColorProperty.yellowHEX}}" stepKey="inputColorCodeIntoInputField1"/>
        <click selector="{{BackgroundColor.label}}" stepKey="lostFocusFromInputField2"/>
        <seeInField selector="{{BackgroundColor.colorInputField}}" userInput="{{PageBuilderBackgroundColorProperty.yellowHEX}}" stepKey="seeHEXInField1"/>
        <seeElement selector="//div[contains(concat(' ',normalize-space(@class),' '),'sp-preview')]/div[@style='background-color: rgb(255, 255, 13);']" stepKey="seeSwatchInRed" />
        <click selector="{{BackgroundColor.colorSwatch}}" stepKey="clickColorSwatch1" />
        <seeElement selector="{{ColorPicker.colorWheel}}" stepKey="seeColorPickerWindow" />
        <seeInField selector="{{ColorPicker.inputField}}" userInput="{{PageBuilderBackgroundColorProperty.yellowHEX}}" stepKey="seeYellowHEXOnInputFieldOfColorPicker" />


        <!--I input HSL color code into input field-->
        <fillField selector="{{BackgroundColor.colorInputField}}" userInput="{{PageBuilderBackgroundColorProperty.orangeHSL}}" stepKey="inputColorCodeIntoInputField2"/>
        <click selector="{{BackgroundColor.label}}" stepKey="lostFocusFromInputField3"/>
        <seeInField selector="{{BackgroundColor.colorInputField}}" userInput="{{PageBuilderBackgroundColorProperty.orangeHEX}}" stepKey="seeHEXInField2"/>
        <click selector="{{BackgroundColor.colorSwatch}}" stepKey="clickColorSwatch2" />
        <seeInField selector="{{ColorPicker.inputField}}" userInput="{{PageBuilderBackgroundColorProperty.orangeHEX}}" stepKey="seeOrangeHEXOnInputFieldOfColorPicker" />


        <!--I input RGB color code into input field-->
        <fillField selector="{{BackgroundColor.colorInputField}}" userInput="{{PageBuilderBackgroundColorProperty.greenRGB}}" stepKey="inputColorCodeIntoInputField3"/>
        <click selector="{{BackgroundColor.label}}" stepKey="lostFocusFromInputField4"/>
        <seeInField selector="{{BackgroundColor.colorInputField}}" userInput="{{PageBuilderBackgroundColorProperty.greenHEX}}" stepKey="seeHEXInField3"/>
        <click selector="{{BackgroundColor.colorSwatch}}" stepKey="clickColorSwatch3" />
        <seeInField selector="{{ColorPicker.inputField}}" userInput="{{PageBuilderBackgroundColorProperty.greenHEX}}" stepKey="seeGreenHEXOnInputFieldOfColorPicker" />


        <!--I input RGBA color code into input field-->
        <fillField selector="{{BackgroundColor.colorInputField}}" userInput="{{PageBuilderBackgroundColorProperty.blueRGBA}}" stepKey="inputColorCodeIntoInputField4"/>
        <click selector="{{BackgroundColor.label}}" stepKey="lostFocusFromInputField5"/>
        <seeInField selector="{{BackgroundColor.colorInputField}}" userInput="{{PageBuilderBackgroundColorProperty.blueRGBA}}" stepKey="seeHEXInField4"/>
        <click selector="{{BackgroundColor.colorSwatch}}" stepKey="clickColorSwatch4" />
        <seeInField selector="{{ColorPicker.inputField}}" userInput="{{PageBuilderBackgroundColorProperty.blueRGBA}}" stepKey="seeBlueRGBAOnInputFieldOfColorPicker" />

        <!--I input color name into input field-->
        <fillField selector="{{BackgroundColor.colorInputField}}" userInput="purple" stepKey="inputColorCodeIntoInputField5"/>
        <click selector="{{BackgroundColor.label}}" stepKey="lostFocusFromInputField6"/>
        <seeInField selector="{{BackgroundColor.colorInputField}}" userInput="{{PageBuilderBackgroundColorProperty.purpleHEX}}" stepKey="seeHEXInField5"/>
        <click selector="{{BackgroundColor.colorSwatch}}" stepKey="clickColorSwatch5" />
        <seeInField selector="{{ColorPicker.inputField}}" userInput="{{PageBuilderBackgroundColorProperty.purpleHEX}}" stepKey="seePurpleHEXOnInputFieldOfColorPicker" />


        <click selector="{{ColorPicker.firstColorBox}}" stepKey="clickOnRedColorBoxOfColorPicker" />
        <click selector="{{ColorPicker.colorWheel}}" stepKey="clickOnColorWheel" />
        <click selector="{{ColorPicker.applyBtn}}" stepKey="clickOnApplyBtn" />
        <seeInField selector="{{BackgroundColor.colorInputField}}" userInput="#804042" stepKey="seeColorCode804042InInputField1" />
        <seeElement selector="//div[contains(concat(' ',normalize-space(@class),' '),'sp-preview')]/div[@style='background-color: rgb(128, 64, 66);']" stepKey="seeSwatchInBrown1" />

        <!--Verify color picking from input field and  Cancel button-->
        <click selector="{{BackgroundColor.colorSwatch}}" stepKey="clickColorSwatch6" />
        <fillField selector="{{ColorPicker.inputField}}" userInput=" " stepKey="inputBlueHEXcodeIntoInputField1" />
        <pressKey selector="{{ColorPicker.inputField}}" parameterArray="['#0000FF',\Facebook\WebDriver\WebDriverKeys::ENTER]" stepKey="pressKeyEnter"/>
        <seeInField selector="{{BackgroundColor.colorInputField}}" userInput="#0000ff" stepKey="seeBlueColorCodeInInputField1" />
        <click selector="{{ColorPicker.cancelBtn}}" stepKey="cancelSelection"/>
        <seeInField selector="{{BackgroundColor.colorInputField}}" userInput="#804042" stepKey="seeColorCode804042InInputField2" />
        <seeElement selector="//div[contains(concat(' ',normalize-space(@class),' '),'sp-preview')]/div[@style='background-color: rgb(128, 64, 66);']" stepKey="seeSwatchInBrown2" />
        <click selector="{{BackgroundColor.colorSwatch}}" stepKey="clickColorSwatch7" />
        <fillField selector="{{ColorPicker.inputField}}" userInput="#0000FF" stepKey="inputBlueHEXcodeIntoInputField2" />
        <click selector="{{ColorPicker.applyBtn}}" stepKey="applySelection"/>
        <seeInField selector="{{BackgroundColor.colorInputField}}" userInput="#0000ff" stepKey="seeBlueColorCodeInInputField2" />

        <!--click Out Side color picker to select a color-->
        <click selector="{{BackgroundColor.colorSwatch}}" stepKey="clickColorSwatch8" />
        <fillField selector="{{ColorPicker.inputField}}" userInput="#ff0000" stepKey="inputRedHEXcodeIntoInputField" />
        <click selector="{{BackgroundColor.label}}" stepKey="lostFocusFromInputField8"/>
        <seeInField selector="{{BackgroundColor.colorInputField}}" userInput="#ff0000" stepKey="seeRedColorCodeInInputField2" />

        <actionGroup ref="saveEditPanelSettings" stepKey="saveEditPanelSettings1"/>
        <seeElement selector="//div[contains(concat(' ',normalize-space(@class),' '),'pagebuilder-row') and (contains(@style,'background-color: rgb(255, 0, 0);'))]" stepKey="seePreviewColorOnStage"/>
        <actionGroup ref="saveAndContinueEditCmsPage" stepKey="saveAndContinueEditCmsPage"/>
        <amOnPage url="$$createCMSPage.identifier$$" stepKey="amOnPageTestPage"/>
        <seeElement selector="//div[@data-role='row' and contains(@style,'background-color: rgb(255, 0, 0)')]" stepKey="seeColorBackground"/>
    </test>
    <test name="RowInitializeWithRow">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="MAGETWO-72398"/>
            <title value="Row exists on initialise"/>
            <description value="The stage should contain a row on initialise."/>
            <severity value="CRITICAL"/>
            <testCaseId value="MAGETWO-82841"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-row"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdmin" stepKey="loginAsAdmin"/>
            <actionGroup ref="EnabledWYSIWYG" stepKey="enableWYSIWYG"/>
            <actionGroup ref="enablePageBuilderSetting" stepKey="enablePageBuilderSetting"/>
            <actionGroup ref="navigateToAPageWithPageBuilder" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="switchToPageBuilderStage" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="DisabledWYSIWYG" stepKey="disableWYSIWYG"/>
            <actionGroup ref="logout" stepKey="logout"/>
        </after>
        <waitForElementVisible selector="{{RowOnStage.base('1')}}" stepKey="seeElementRow"/>
    </test>
    <test name="RowCanAddAdditionalRow">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="MAGETWO-72398"/>
            <title value="Can add an additional row"/>
            <description value="The user should be able to add additional rows."/>
            <severity value="CRITICAL"/>
            <testCaseId value="MAGETWO-82857"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-row"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdmin" stepKey="loginAsAdmin"/>
            <actionGroup ref="EnabledWYSIWYG" stepKey="enableWYSIWYG"/>
            <actionGroup ref="enablePageBuilderSetting" stepKey="enablePageBuilderSetting"/>
            <actionGroup ref="navigateToAPageWithPageBuilder" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="switchToPageBuilderStage" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="DisabledWYSIWYG" stepKey="disableWYSIWYG"/>
            <actionGroup ref="logout" stepKey="logout"/>
        </after>
        <actionGroup ref="dragContentBlockToStage" stepKey="dragRowIntoStage">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <seeNumberOfElements selector="{{RowOnStage.allRows}}" userInput="2" stepKey="seeElementRow"/>
    </test>
    <test name="RowRemoveRowFromStage">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="MAGETWO-72398"/>
            <title value="Can remove a row"/>
            <description value="A user should be able to remove a row from the stage"/>
            <severity value="CRITICAL"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-row"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdmin" stepKey="loginAsAdmin"/>
            <actionGroup ref="EnabledWYSIWYG" stepKey="enableWYSIWYG"/>
            <actionGroup ref="enablePageBuilderSetting" stepKey="enablePageBuilderSetting"/>
            <actionGroup ref="navigateToAPageWithPageBuilder" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="switchToPageBuilderStage" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="DisabledWYSIWYG" stepKey="disableWYSIWYG"/>
            <actionGroup ref="logout" stepKey="logout"/>
        </after>
        <actionGroup ref="dragContentBlockToStage" stepKey="dragRowIntoStage">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <seeNumberOfElements selector="{{RowOnStage.allRows}}" userInput="2" stepKey="seeTwoRows"/>
        <actionGroup ref="removeEmptyContentBlockFromStage" stepKey="removeRow">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <seeNumberOfElements selector="{{RowOnStage.allRows}}" userInput="1" stepKey="seeOneRow"/>
    </test>
    <test name="RowCantRemoveLastRow">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="MAGETWO-72398"/>
            <title value="Can't remove last row"/>
            <description value="A user shouldn't be able to remove the final row from the stage"/>
            <severity value="CRITICAL"/>
            <testCaseId value="MAGETWO-82859"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-row"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdmin" stepKey="loginAsAdmin"/>
            <actionGroup ref="EnabledWYSIWYG" stepKey="enableWYSIWYG"/>
            <actionGroup ref="enablePageBuilderSetting" stepKey="enablePageBuilderSetting"/>
            <actionGroup ref="navigateToAPageWithPageBuilder" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="switchToPageBuilderStage" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="DisabledWYSIWYG" stepKey="disableWYSIWYG"/>
            <actionGroup ref="logout" stepKey="logout"/>
        </after>
        <actionGroup ref="dragContentBlockToStage" stepKey="dragRowIntoStage">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <seeNumberOfElements selector="{{RowOnStage.allRows}}" userInput="2" stepKey="seeTwoRows"/>
        <actionGroup ref="removeEmptyContentBlockFromStage" stepKey="removeRow">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <seeNumberOfElements selector="{{RowOnStage.allRows}}" userInput="1" stepKey="seeOneRow"/>
        <moveMouseOver selector="{{PageBuilderActionsSection.contentBlockInStage('row')}}" stepKey="onMouseOverContentBlockStage"/>
        <waitForElementVisible selector="{{PageBuilderActionsSection.contentBlockOptionsMenu('row')}}" stepKey="waitForOptionsVisible" />
        <seeElement selector="{{PageBuilderActionsSection.contentBlockDeleteDisabled}}" stepKey="seeDisabledRemoveBlockButton" />
        <seeNumberOfElements selector="{{RowOnStage.allRows}}" userInput="1" stepKey="seeOneRow1"/>
    </test>
    <test name="RowPlaceholderAndDisplayLabelInAdminPreview">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="MAGETWO-75136"/>
            <title value="Row placeholder and display label in admin preview"/>
            <description value="A user should see the row display label and preview with a placeholder that suggests any content blocks can be dragged there"/>
            <severity value="CRITICAL"/>
            <testCaseId value="MAGETWO-88296"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-row"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdmin" stepKey="loginAsAdmin"/>
            <actionGroup ref="EnabledWYSIWYG" stepKey="enableWYSIWYG"/>
            <actionGroup ref="enablePageBuilderSetting" stepKey="enablePageBuilderSetting"/>
            <actionGroup ref="navigateToAPageWithPageBuilder" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="switchToPageBuilderStage" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="DisabledWYSIWYG" stepKey="disableWYSIWYG"/>
            <actionGroup ref="logout" stepKey="logout"/>
        </after>
        <waitForElementVisible selector="{{RowOnStage.empty('1')}}" stepKey="waitForEmptyRow"/>
        <see selector="{{RowOnStage.base('1')}}" userInput="Drag content blocks or columns here" stepKey="seeRowPlaceholder"/>
        <see selector="{{RowOnStage.displayLabel('1')}}" userInput="Row" stepKey="seeRowDisplayLabel"/>
        <actionGroup ref="dragContentBlockToStage" stepKey="dragHeaderToRow">
            <argument name="contentBlockType" value="PageBuilderHeadingContentBlock"/>
        </actionGroup>
        <dontSee selector="{{RowOnStage.empty('1')}}" stepKey="dontSeeRowPlaceholder"/>
    </test>
    <test name="RowHeightAdjustsToContent">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="MAGETWO-75136"/>
            <title value="Row height adjusts to content"/>
            <description value="A user should see the row height adjust when content is added to the row"/>
            <severity value="CRITICAL"/>
            <testCaseId value="MAGETWO-88297"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-row"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdmin" stepKey="loginAsAdmin"/>
            <actionGroup ref="EnabledWYSIWYG" stepKey="enableWYSIWYG"/>
            <actionGroup ref="enablePageBuilderSetting" stepKey="enablePageBuilderSetting"/>
            <actionGroup ref="navigateToAPageWithPageBuilder" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="switchToPageBuilderStage" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="DisabledWYSIWYG" stepKey="disableWYSIWYG"/>
            <actionGroup ref="logout" stepKey="logout"/>
        </after>
        <!-- Assert row height is 320px when empty -->
        <comment userInput="Assert row height is 320px when empty" stepKey="comment1"/>
        <executeJS function="document.querySelectorAll('{{RowOnStage.baseCss}}')[0].setAttribute('divHeight', document.querySelectorAll('{{RowOnStage.baseCss}}')[0].clientHeight)" stepKey="setEmptyRowHeight"/>
        <grabAttributeFrom selector="{{RowOnStage.base('1')}}" userInput="divHeight" stepKey="getEmptyRowHeight"/>
        <assertEquals stepKey="assertEmptyRowHeight">
            <expectedResult type="string">320</expectedResult>
            <actualResult type="variable">getEmptyRowHeight</actualResult>
        </assertEquals>
        <actionGroup ref="dragContentBlockToStage" stepKey="dragHeaderToRow">
            <argument name="contentBlockType" value="PageBuilderHeadingContentBlock"/>
        </actionGroup>
        <!-- Assert row height has changed when content added -->
        <comment userInput="Assert row height has changed when content added" stepKey="comment2"/>
        <executeJS function="document.querySelectorAll('{{RowOnStage.baseCss}}')[0].setAttribute('divHeight', document.querySelectorAll('{{RowOnStage.baseCss}}')[0].clientHeight)" stepKey="setNewRowHeight"/>
        <grabAttributeFrom selector="{{RowOnStage.base('1')}}" userInput="divHeight" stepKey="getNewRowHeight"/>
        <assertNotEquals stepKey="assertNewRowHeight">
            <expectedResult type="variable">getEmptyRowHeight</expectedResult>
            <actualResult type="variable">getNewRowHeight</actualResult>
        </assertNotEquals>
        <assertNotEquals stepKey="assertNewRowHeight2">
            <expectedResult type="string">0</expectedResult>
            <actualResult type="variable">getNewRowHeight</actualResult>
        </assertNotEquals>
        <actionGroup ref="removeEmptyContentBlockFromStage" stepKey="removeHeaderFromRow">
            <argument name="contentBlockType" value="PageBuilderHeadingContentBlock"/>
        </actionGroup>
        <!-- Assert row height is 320px after removing children -->
        <comment userInput="Assert row height is 320px after removing children" stepKey="comment3"/>
        <executeJS function="document.querySelectorAll('{{RowOnStage.baseCss}}')[0].setAttribute('divHeight', document.querySelectorAll('{{RowOnStage.baseCss}}')[0].clientHeight)" stepKey="setNewRowHeight2"/>
        <grabAttributeFrom selector="{{RowOnStage.base('1')}}" userInput="divHeight" stepKey="getNewRowHeight2"/>
        <assertEquals stepKey="assertNewRowHeight3">
            <expectedResult type="variable">getEmptyRowHeight</expectedResult>
            <actualResult type="variable">getNewRowHeight2</actualResult>
        </assertEquals>
    </test>
    <test name="RowUpdateBackgroundFormSection">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="MAGETWO-66349"/>
            <title value="Row - Update All Background Form Attributes"/>
            <description value="See that the background tab in row form works"/>
            <severity value="CRITICAL"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-row"/>
            <group value="skip"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdmin" stepKey="loginAsAdmin"/>
            <actionGroup ref="EnabledWYSIWYG" stepKey="enableWYSIWYG"/>
            <actionGroup ref="enablePageBuilderSetting" stepKey="enablePageBuilderSetting"/>
            <actionGroup ref="navigateToAPageWithPageBuilder" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="switchToPageBuilderStage" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="DisabledWYSIWYG" stepKey="disableWYSIWYG"/>
            <actionGroup ref="logout" stepKey="logout"/>
        </after>
        <actionGroup ref="addPageBuilderPageTitle" stepKey="enterPageTitle">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="openPageBuilderEditPanel" stepKey="openEditMenuOnStage">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="fillSlideOutPanelFieldGeneral" stepKey="enterIdentifierProperty">
            <argument name="property" value="PageBuilderRowBackgroundColor_CCCCCC"/>
        </actionGroup>
        <actionGroup ref="attachFileSlideOutProperty" stepKey="attachPageBuilderFile">
            <argument name="property" value="PageBuilderRowBackgroundImage_MagentoJpg"/>
        </actionGroup>
        <actionGroup ref="selectSlideOutPanelField" stepKey="enterBackgroundPositionProperty">
            <argument name="property" value="PageBuilderRowBackgroundPosition_TopAligned"/>
        </actionGroup>
        <actionGroup ref="selectSlideOutPanelField" stepKey="enterSizeProperty">
            <argument name="property" value="PageBuilderRowBackgroundSize_Cover"/>
        </actionGroup>
        <actionGroup ref="clickSlideOutPanelFieldGeneral" stepKey="clickBackgroundRepeat">
            <argument name="property" value="PageBuilderRowBackgroundRepeat_Enabled"/>
        </actionGroup>
        <actionGroup ref="selectSlideOutPanelField" stepKey="enterAttachmentProperty">
            <argument name="property" value="PageBuilderRowBackgroundAttachment_Fixed"/>
        </actionGroup>
        <actionGroup ref="saveEditPanelSettings" stepKey="saveEditPanelSettings"/>
        <actionGroup ref="saveAndContinueEditCmsPage" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="switchToPageBuilderStage" stepKey="switchToPageBuilderStage"/>
        <!-- Validate Stage -->
        <comment userInput="Validate Stage" stepKey="commentValidateStage"/>
        <waitForElementVisible selector="{{RowOnStage.backgroundColor('1', PageBuilderRowBackgroundColor_CCCCCC.rgb)}}" stepKey="seeBackgroundColorAdminPreview"/>
        <waitForElementVisible selector="{{RowOnStage.backgroundImage('1', PageBuilderRowBackgroundImage_MagentoJpg.baseFileName, PageBuilderRowBackgroundImage_MagentoJpg.fileType)}}" stepKey="seeBackgroundImageAdminPreview"/>
        <waitForElementVisible selector="{{RowOnStage.backgroundPosition('1', PageBuilderRowBackgroundPosition_TopAligned.styleValue)}}" stepKey="seeBackgroundPositionAdminPreview"/>
        <waitForElementVisible selector="{{RowOnStage.backgroundSize('1', PageBuilderRowBackgroundSize_Cover.value)}}" stepKey="seeBackgroundSizeAdminPreview"/>
        <waitForElementVisible selector="{{RowOnStage.backgroundRepeat('1', PageBuilderRowBackgroundRepeat_Enabled.styleValue)}}" stepKey="seeBackgroundRepeatAdminPreview"/>
        <waitForElementVisible selector="{{RowOnStage.backgroundAttachment('1', PageBuilderRowBackgroundAttachment_Fixed.value)}}" stepKey="seeBackgroundAttachmentAdminPreview"/>
        <actionGroup ref="openPageBuilderEditPanel" stepKey="openSavedEditMenuOnStage">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <!-- Validate Edit Panel -->
        <comment userInput="Validate Edit Panel" stepKey="commentValidateEditPanel"/>
        <actionGroup ref="seeInFieldSlideOutProperty" stepKey="validateBackgroundColor">
            <argument name="property" value="PageBuilderRowBackgroundColor_CCCCCC"/>
        </actionGroup>
        <actionGroup ref="seeImageUploadedOnSlideOut" stepKey="validateUploadedImage">
            <argument name="property" value="PageBuilderRowBackgroundImage_MagentoJpg"/>
        </actionGroup>
        <actionGroup ref="seeOptionIsSelectedSlideOutProperty" stepKey="validateBackgroundPosition">
            <argument name="property" value="PageBuilderRowBackgroundPosition_TopAligned"/>
        </actionGroup>
        <actionGroup ref="seeOptionIsSelectedSlideOutProperty" stepKey="validateBackgroundSize">
            <argument name="property" value="PageBuilderRowBackgroundSize_Cover"/>
        </actionGroup>
        <actionGroup ref="seeOptionIsCheckedSlideOutProperty" stepKey="validateBackgroundRepeat">
            <argument name="property" value="PageBuilderRowBackgroundRepeat_Enabled"/>
        </actionGroup>
        <actionGroup ref="seeOptionIsSelectedSlideOutProperty" stepKey="validateBackgroundAttachment">
            <argument name="property" value="PageBuilderRowBackgroundAttachment_Fixed"/>
        </actionGroup>
        <actionGroup ref="navigateToStoreFront" stepKey="navigateToStoreFront">
            <argument name="prefix" value="row"/>
        </actionGroup>
        <!-- Validate Storefront -->
        <comment userInput="Validate Storefront" stepKey="commentValidateStorefront"/>
        <waitForElementVisible selector="{{RowOnStorefront.backgroundColor('1', PageBuilderRowBackgroundColor_CCCCCC.rgb)}}" stepKey="seeBackgroundColorSet"/>
        <waitForElementVisible selector="{{RowOnStorefront.backgroundImage('1', PageBuilderRowBackgroundImage_MagentoJpg.baseFileName, PageBuilderRowBackgroundImage_MagentoJpg.fileType)}}" stepKey="seeBackgroundImageSet"/>
        <waitForElementVisible selector="{{RowOnStorefront.backgroundPosition('1', PageBuilderRowBackgroundPosition_TopAligned.styleValue)}}" stepKey="seeBackgroundPositionSet"/>
        <waitForElementVisible selector="{{RowOnStorefront.backgroundSize('1', PageBuilderRowBackgroundSize_Cover.value)}}" stepKey="seeBackgroundSizeSet"/>
        <waitForElementVisible selector="{{RowOnStorefront.backgroundRepeat('1', PageBuilderRowBackgroundRepeat_Enabled.styleValue)}}" stepKey="seeBackgroundRepeatSet"/>
        <waitForElementVisible selector="{{RowOnStorefront.backgroundAttachment('1', PageBuilderRowBackgroundAttachment_Fixed.value)}}" stepKey="seeBackgroundAttachmentSet"/>
    </test>
    <test name="RowCanAddParallaxBackground">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="MAGETWO-66349"/>
            <title value="Add parallax to background image"/>
            <description value="A user should be able to apply parallax to a background image"/>
            <severity value="CRITICAL"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-row"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdmin" stepKey="loginAsAdmin"/>
            <actionGroup ref="EnabledWYSIWYG" stepKey="enableWYSIWYG"/>
            <actionGroup ref="enablePageBuilderSetting" stepKey="enablePageBuilderSetting"/>
            <actionGroup ref="navigateToAPageWithPageBuilder" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="switchToPageBuilderStage" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="DisabledWYSIWYG" stepKey="disableWYSIWYG"/>
            <actionGroup ref="logout" stepKey="logout"/>
        </after>
        <actionGroup ref="addPageBuilderPageTitle" stepKey="enterPageTitle">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="openPageBuilderEditPanel" stepKey="openEditMenuOnStage">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="expandConfigurationSection" stepKey="expandParallaxSection">
            <argument name="section" value="ParallaxBackgroundForm"/>
        </actionGroup>
        <actionGroup ref="validateSlideOutPanelField" stepKey="seeParallaxEnabledProperty">
            <argument name="property" value="PageBuilderRowParallax_Enabled"/>
        </actionGroup>
        <actionGroup ref="validateSlideOutPanelField" stepKey="seeParallaxSpeedProperty">
            <argument name="property" value="PageBuilderRowParallaxSpeed_2"/>
        </actionGroup>
        <actionGroup ref="clickSlideOutPanelFieldGeneral" stepKey="enterParallaxEnabled">
            <argument name="property" value="PageBuilderRowParallax_Enabled"/>
        </actionGroup>
        <actionGroup ref="fillSlideOutPanelFieldGeneral" stepKey="enterParallaxSpeedProperty">
            <argument name="property" value="PageBuilderRowParallaxSpeed_2"/>
        </actionGroup>
        <actionGroup ref="saveEditPanelSettings" stepKey="saveEditPanelSettings3"/>
        <actionGroup ref="saveAndContinueEditCmsPage" stepKey="saveAndContinueEditCmsPage3"/>
        <actionGroup ref="navigateToStoreFront" stepKey="navigateToStoreFront">
            <argument name="prefix" value="row"/>
        </actionGroup>
        <seeElementInDOM selector="{{RowOnStorefront.parallaxClass('1')}}" stepKey="seeParallaxBackgroundSet"/>
        <seeElementInDOM selector="{{RowOnStorefront.parallaxSpeed('1', PageBuilderRowParallaxSpeed_2.value)}}" stepKey="seeParallaxSpeedSet"/>
    </test>
    <test name="RowHasParallaxDefaultSettings">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="MAGETWO-88247"/>
            <title value="Row has parallax default settings"/>
            <description value="A user should see the default settings for parallax row"/>
            <severity value="CRITICAL"/>
            <testCaseId value="MAGETWO-88899"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-row"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdmin" stepKey="loginAsAdmin"/>
            <actionGroup ref="EnabledWYSIWYG" stepKey="enableWYSIWYG"/>
            <actionGroup ref="enablePageBuilderSetting" stepKey="enablePageBuilderSetting"/>
            <actionGroup ref="navigateToAPageWithPageBuilder" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="switchToPageBuilderStage" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="DisabledWYSIWYG" stepKey="disableWYSIWYG"/>
            <actionGroup ref="logout" stepKey="logout"/>
        </after>
        <actionGroup ref="addPageBuilderPageTitle" stepKey="enterPageTitle">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="openPageBuilderEditPanel" stepKey="openEditMenuOnStage">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="expandConfigurationSection" stepKey="expandParallaxSection">
            <argument name="section" value="ParallaxBackgroundForm"/>
        </actionGroup>
        <actionGroup ref="validateSlideOutPanelField" stepKey="seeEnableParallaxProperty">
            <argument name="property" value="PageBuilderRowParallax_Default"/>
        </actionGroup>
        <actionGroup ref="seeOptionIsNotCheckedSlideOutProperty" stepKey="seeEnabledParallaxDefault">
            <argument name="property" value="PageBuilderRowParallax_Default"/>
        </actionGroup>
        <actionGroup ref="validateSlideOutPanelFieldIsDisabled" stepKey="seeParallaxSpeedIsDisabled">
            <argument name="property" value="PageBuilderRowParallaxSpeed_Default"/>
        </actionGroup>
        <actionGroup ref="seeInFieldSlideOutProperty" stepKey="seeParallaxSpeed">
            <argument name="property" value="PageBuilderRowParallaxSpeed_Default"/>
        </actionGroup>
        <actionGroup ref="clickSlideOutPanelFieldGeneral" stepKey="enterParallaxEnabled">
            <argument name="property" value="PageBuilderRowParallax_Default"/>
        </actionGroup>
        <actionGroup ref="seeOptionIsCheckedSlideOutProperty" stepKey="seeParallaxEnabled">
            <argument name="property" value="PageBuilderRowParallax_Enabled"/>
        </actionGroup>
        <moveMouseOver selector="{{RowOnBackend.parallaxSpeedToolTip}}" stepKey="moveMouseOverParallaxSpeedToolTip"/>
        <waitForElementVisible selector="{{RowOnBackend.parallaxSpeedToolTipContent}}" stepKey="seeParallaxSpeedToolTipContent"/>
        <see selector="{{RowOnBackend.parallaxSpeedNotice}}" userInput="{{PageBuilderRowParallaxSpeed_Default.notice}}" stepKey="seeParallaxSpeedNotice"/>
    </test>
    <test name="RowValidateAdvancedConfigurationDefaultValues">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="MAGETWO-83415"/>
            <title value="Row - Validate Advanced Configuration Default Values"/>
            <description value="Validate the default values for every attribute in the Advanced Configuration form and on Stage for Row."/>
            <severity value="CRITICAL"/>
            <testCaseId value="MAGETWO-89361"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-row"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdmin" stepKey="loginAsAdmin"/>
            <actionGroup ref="EnabledWYSIWYG" stepKey="enableWYSIWYG"/>
            <actionGroup ref="enablePageBuilderSetting" stepKey="enablePageBuilderSetting"/>
            <actionGroup ref="navigateToAPageWithPageBuilder" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="switchToPageBuilderStage" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="DisabledWYSIWYG" stepKey="disableWYSIWYG"/>
            <actionGroup ref="logout" stepKey="logout"/>
        </after>
        <actionGroup ref="addPageBuilderPageTitle" stepKey="enterPageTitle">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="openPageBuilderEditPanel" stepKey="openEditMenuOnStage">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="expandConfigurationSection" stepKey="expandConfigurationSection"/>
        <!-- Validate Default Values -->
        <comment userInput="Validate Default Values" stepKey="CommentValidateDefaultValues"/>
        <actionGroup ref="seeOptionIsSelectedSlideOutProperty" stepKey="validateAlignment">
            <argument name="property" value="PageBuilderAdvancedAlignmentPropertyDefault"/>
        </actionGroup>
        <actionGroup ref="seeOptionIsSelectedSlideOutProperty" stepKey="validateBorder">
            <argument name="property" value="PageBuilderAdvancedBorderPropertyNone"/>
        </actionGroup>
        <grabValueFrom selector="{{PageBuilderColumnSection.panelFieldControl(PageBuilderAdvancedBorderColorDefaultProperty.section, PageBuilderAdvancedBorderColorDefaultProperty.fieldName)}}" stepKey="getBorderColor"/>
        <assertEmpty actual="getBorderColor" actualType="variable" message="Text field has text: $getBorderColor" stepKey="assertBorderColor"/>
        <actionGroup ref="seeInFieldSlideOutProperty" stepKey="validateBorderWidth">
            <argument name="property" value="PageBuilderAdvancedBorderWidthPropertyDefault"/>
        </actionGroup>
        <actionGroup ref="seeInFieldSlideOutProperty" stepKey="validateBorderRadius">
            <argument name="property" value="PageBuilderAdvancedBorderRadiusDefaultProperty"/>
        </actionGroup>
        <grabValueFrom selector="{{PageBuilderColumnSection.panelFieldControl(PageBuilderAdvancedCssClassesDefaultProperty.section, PageBuilderAdvancedCssClassesDefaultProperty.fieldName)}}" stepKey="getCssClasses"/>
        <assertEmpty actual="getCssClasses" actualType="variable" message="Text field was not empty. Had text: $getCssClasses" stepKey="assertCssClasses"/>
        <actionGroup ref="seeInMarginFieldsSlideOutPanel" stepKey="validateMargins">
            <argument name="property" value="PageBuilderMarginsPropertyRowDefault"/>
        </actionGroup>
        <actionGroup ref="seeInPaddingFieldsSlideOutPanel" stepKey="validatePadding">
            <argument name="property" value="PageBuilderPaddingProperty10"/>
        </actionGroup>
        <actionGroup ref="closeEditPanelSettings" stepKey="closeEditPanelSettings"/>
        <!-- Validate Stage -->
        <comment userInput="Validate Stage" stepKey="commentValidateStage"/>
        <actionGroup ref="validateAdvancedStyleWithNoAlignment" stepKey="validateStage">
            <argument name="page" value="RowOnStage"/>
            <argument name="border" value="PageBuilderAdvancedBorderPropertyNone"/>
            <argument name="borderWidth" value="PageBuilderAdvancedBorderWidthPropertyDefault"/>
            <argument name="borderRadius" value="PageBuilderAdvancedBorderRadiusDefaultProperty"/>
            <argument name="margin" value="PageBuilderMarginsPropertyRowDefault"/>
            <argument name="padding" value="PageBuilderPaddingProperty10"/>
            <argument name="index" value="1"/>
        </actionGroup>
        <actionGroup ref="saveAndContinueEditCmsPage" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="switchToPageBuilderStage" stepKey="switchToPageBuilderStage"/>
        <!-- Validate Stage After Save -->
        <comment userInput="Validate Stage After Save" stepKey="commentValidateStage2"/>
        <actionGroup ref="validateAdvancedStyleWithNoAlignment" stepKey="validateStage2">
            <argument name="page" value="RowOnStage"/>
            <argument name="border" value="PageBuilderAdvancedBorderPropertyNone"/>
            <argument name="borderWidth" value="PageBuilderAdvancedBorderWidthPropertyDefault"/>
            <argument name="borderRadius" value="PageBuilderAdvancedBorderRadiusDefaultProperty"/>
            <argument name="margin" value="PageBuilderMarginsPropertyRowDefault"/>
            <argument name="padding" value="PageBuilderPaddingProperty10"/>
            <argument name="index" value="1"/>
        </actionGroup>
        <actionGroup ref="openPageBuilderEditPanel" stepKey="openEditMenuOnStage2">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="expandConfigurationSection" stepKey="expandConfigurationSection2"/>
        <!-- Validate Edit Panel After Save -->
        <comment userInput="Validate Edit Panel After Save" stepKey="commentValidateEditPanel2"/>
        <actionGroup ref="seeOptionIsSelectedSlideOutProperty" stepKey="validateAlignment2">
            <argument name="property" value="PageBuilderAdvancedAlignmentPropertyDefault"/>
        </actionGroup>
        <actionGroup ref="seeOptionIsSelectedSlideOutProperty" stepKey="validateBorder2">
            <argument name="property" value="PageBuilderAdvancedBorderPropertyNone"/>
        </actionGroup>
        <grabValueFrom selector="{{PageBuilderColumnSection.panelFieldControl(PageBuilderAdvancedBorderColorDefaultProperty.section, PageBuilderAdvancedBorderColorDefaultProperty.fieldName)}}" stepKey="getBorderColor2"/>
        <assertEmpty actual="getBorderColor2" actualType="variable" message="Text field has text: $getBorderColor2" stepKey="assertBorderColor2"/>
        <actionGroup ref="seeInFieldSlideOutProperty" stepKey="validateBorderWidth2">
            <argument name="property" value="PageBuilderAdvancedBorderWidthPropertyDefault"/>
        </actionGroup>
        <actionGroup ref="seeInFieldSlideOutProperty" stepKey="validateBorderRadius2">
            <argument name="property" value="PageBuilderAdvancedBorderRadiusDefaultProperty"/>
        </actionGroup>
        <grabValueFrom selector="{{PageBuilderColumnSection.panelFieldControl(PageBuilderAdvancedCssClassesDefaultProperty.section, PageBuilderAdvancedCssClassesDefaultProperty.fieldName)}}" stepKey="getCssClasses2"/>
        <assertEmpty actual="getCssClasses2" actualType="variable" message="Text field was not empty. Had text: $getCssClasses2" stepKey="assertCssClasses2"/>
        <actionGroup ref="seeInMarginFieldsSlideOutPanel" stepKey="validateMargins2">
            <argument name="property" value="PageBuilderMarginsPropertyRowDefault"/>
        </actionGroup>
        <actionGroup ref="seeInPaddingFieldsSlideOutPanel" stepKey="validatePadding2">
            <argument name="property" value="PageBuilderPaddingProperty10"/>
        </actionGroup>
        <actionGroup ref="navigateToStoreFront" stepKey="navigateToStoreFront">
            <argument name="prefix" value="row"/>
        </actionGroup>
        <!-- Validate Storefront -->
        <comment userInput="Validate Storefront" stepKey="commentValidateStorefront"/>
        <actionGroup ref="validateAdvancedStyleWithNoAlignment" stepKey="validateStorefront">
            <argument name="page" value="RowOnStorefront"/>
            <argument name="border" value="PageBuilderAdvancedBorderPropertyNone"/>
            <argument name="borderWidth" value="PageBuilderAdvancedBorderWidthPropertyDefault"/>
            <argument name="borderRadius" value="PageBuilderAdvancedBorderRadiusDefaultProperty"/>
            <argument name="margin" value="PageBuilderMarginsPropertyRowDefault"/>
            <argument name="padding" value="PageBuilderPaddingProperty10"/>
            <argument name="index" value="1"/>
        </actionGroup>
    </test>
    <test name="RowUpdateAdvancedConfigurationValues">
        <annotations>
            <features value="Pagebuilder"/>
            <stories value="MAGETWO-89190"/>
            <title value="Row - Update Advanced Configuration Values"/>
            <description value="Validate that updating every attribute in the Advanced Configuration form for Row will update the Stage and Storefront correctly."/>
            <severity value="CRITICAL"/>
            <testCaseId value="MAGETWO-90054"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-row"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdmin" stepKey="loginAsAdmin"/>
            <actionGroup ref="EnabledWYSIWYG" stepKey="enableWYSIWYG"/>
            <actionGroup ref="enablePageBuilderSetting" stepKey="enablePageBuilderSetting"/>
            <actionGroup ref="navigateToAPageWithPageBuilder" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="switchToPageBuilderStage" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="DisabledWYSIWYG" stepKey="disableWYSIWYG"/>
            <actionGroup ref="logout" stepKey="logout"/>
        </after>
        <actionGroup ref="addPageBuilderPageTitle" stepKey="enterPageTitle">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="openPageBuilderEditPanel" stepKey="openEditMenuOnStage">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="expandConfigurationSection" stepKey="expandConfigurationSection"/>
        <!-- Update Values -->
        <comment userInput="Update Values" stepKey="commentUpdateValues"/>
        <actionGroup ref="selectSlideOutPanelField" stepKey="enterAlignment">
            <argument name="property" value="PageBuilderAdvancedAlignmentPropertyCenter"/>
        </actionGroup>
        <actionGroup ref="selectSlideOutPanelField" stepKey="enterBorder">
            <argument name="property" value="PageBuilderAdvancedBorderPropertyDouble"/>
        </actionGroup>
        <actionGroup ref="fillSlideOutPanelFieldGeneral" stepKey="enterBorderColor">
            <argument name="property" value="PageBuilderAdvancedBorderColorProperty_green"/>
        </actionGroup>
        <actionGroup ref="fillSlideOutPanelFieldGeneral" stepKey="enterBorderWidth">
            <argument name="property" value="PageBuilderAdvancedBorderWidthProperty10"/>
        </actionGroup>
        <actionGroup ref="fillSlideOutPanelFieldGeneral" stepKey="enterBorderRadius">
            <argument name="property" value="PageBuilderAdvancedBorderRadiusProperty12"/>
        </actionGroup>
        <actionGroup ref="fillSlideOutPanelFieldGeneral" stepKey="enterCssClasses">
            <argument name="property" value="PageBuilderAdvancedCssClassesPropertyThreeClasses"/>
        </actionGroup>
        <actionGroup ref="fillSlideOutPanelFieldMargins" stepKey="enterMargins">
            <argument name="property" value="PageBuilderMarginsPropertyUnique"/>
        </actionGroup>
        <actionGroup ref="fillSlideOutPanelFieldPadding" stepKey="enterPadding">
            <argument name="property" value="PageBuilderPaddingPropertyUnique"/>
        </actionGroup>
        <actionGroup ref="saveEditPanelSettings" stepKey="saveEditPanelSettings"/>
        <!-- Validate Stage -->
        <comment userInput="Validate Stage" stepKey="commentValidateStage"/>
        <actionGroup ref="validateAdvancedStyleWithAllUpdated" stepKey="validateAllAdvancedStage">
            <argument name="page" value="RowOnStage"/>
            <argument name="alignment" value="PageBuilderAdvancedAlignmentPropertyCenter"/>
            <argument name="border" value="PageBuilderAdvancedBorderPropertyDouble"/>
            <argument name="borderColor" value="PageBuilderAdvancedBorderColorProperty_green"/>
            <argument name="borderWidth" value="PageBuilderAdvancedBorderWidthProperty10"/>
            <argument name="borderRadius" value="PageBuilderAdvancedBorderRadiusProperty12"/>
            <argument name="cssClasses" value="PageBuilderAdvancedCssClassesPropertyThreeClasses"/>
            <argument name="margin" value="PageBuilderMarginsPropertyUnique"/>
            <argument name="padding" value="PageBuilderPaddingPropertyUnique"/>
            <argument name="index" value="1"/>
        </actionGroup>
        <actionGroup ref="openPageBuilderEditPanel" stepKey="openEditMenuOnStage2">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="expandConfigurationSection" stepKey="expandConfigurationSection2"/>
        <!-- Validate Edit Panel -->
        <comment userInput="Validate Edit Panel" stepKey="commentValidateEditPanel"/>
        <actionGroup ref="seeOptionIsSelectedSlideOutProperty" stepKey="validateAlignment">
            <argument name="property" value="PageBuilderAdvancedAlignmentPropertyCenter"/>
        </actionGroup>
        <actionGroup ref="seeOptionIsSelectedSlideOutProperty" stepKey="validateBorder">
            <argument name="property" value="PageBuilderAdvancedBorderPropertyDouble"/>
        </actionGroup>
        <actionGroup ref="seeInFieldSlideOutProperty" stepKey="validateBorderColor">
            <argument name="property" value="PageBuilderAdvancedBorderColorProperty_green"/>
        </actionGroup>
        <actionGroup ref="seeInFieldSlideOutProperty" stepKey="validateBorderWidth">
            <argument name="property" value="PageBuilderAdvancedBorderWidthProperty10"/>
        </actionGroup>
        <actionGroup ref="seeInFieldSlideOutProperty" stepKey="validateBorderRadius">
            <argument name="property" value="PageBuilderAdvancedBorderRadiusProperty12"/>
        </actionGroup>
        <actionGroup ref="seeInFieldSlideOutProperty" stepKey="validateCssClasses">
            <argument name="property" value="PageBuilderAdvancedCssClassesPropertyThreeClasses"/>
        </actionGroup>
        <actionGroup ref="seeInMarginFieldsSlideOutPanel" stepKey="validateMargins">
            <argument name="property" value="PageBuilderMarginsPropertyUnique"/>
        </actionGroup>
        <actionGroup ref="seeInPaddingFieldsSlideOutPanel" stepKey="validatePadding">
            <argument name="property" value="PageBuilderPaddingPropertyUnique"/>
        </actionGroup>
        <actionGroup ref="closeEditPanelSettings" stepKey="closeEditPanelSettings"/>
        <actionGroup ref="saveAndContinueEditCmsPage" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="switchToPageBuilderStage" stepKey="switchToPageBuilderStage"/>
        <!-- Validate Stage After Save -->
        <comment userInput="Validate Stage After Save" stepKey="commentValidateStage2"/>
        <actionGroup ref="validateAdvancedStyleWithAllUpdated" stepKey="validateAllAdvancedStage2">
            <argument name="page" value="RowOnStage"/>
            <argument name="alignment" value="PageBuilderAdvancedAlignmentPropertyCenter"/>
            <argument name="border" value="PageBuilderAdvancedBorderPropertyDouble"/>
            <argument name="borderColor" value="PageBuilderAdvancedBorderColorProperty_green"/>
            <argument name="borderWidth" value="PageBuilderAdvancedBorderWidthProperty10"/>
            <argument name="borderRadius" value="PageBuilderAdvancedBorderRadiusProperty12"/>
            <argument name="cssClasses" value="PageBuilderAdvancedCssClassesPropertyThreeClasses"/>
            <argument name="margin" value="PageBuilderMarginsPropertyUnique"/>
            <argument name="padding" value="PageBuilderPaddingPropertyUnique"/>
            <argument name="index" value="1"/>
        </actionGroup>
        <actionGroup ref="openPageBuilderEditPanel" stepKey="openEditMenuOnStage3">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="expandConfigurationSection" stepKey="expandConfigurationSection3"/>
        <!-- Validate Edit Panel After Save -->
        <comment userInput="Validate Edit Panel After Save" stepKey="commentValidateEditPanel2"/>
        <actionGroup ref="seeOptionIsSelectedSlideOutProperty" stepKey="validateAlignment2">
            <argument name="property" value="PageBuilderAdvancedAlignmentPropertyCenter"/>
        </actionGroup>
        <actionGroup ref="seeOptionIsSelectedSlideOutProperty" stepKey="validateBorder2">
            <argument name="property" value="PageBuilderAdvancedBorderPropertyDouble"/>
        </actionGroup>
        <actionGroup ref="seeInFieldSlideOutProperty" stepKey="validateBorderColor2">
            <argument name="property" value="PageBuilderAdvancedBorderColorProperty_green"/>
        </actionGroup>
        <actionGroup ref="seeInFieldSlideOutProperty" stepKey="validateBorderWidth2">
            <argument name="property" value="PageBuilderAdvancedBorderWidthProperty10"/>
        </actionGroup>
        <actionGroup ref="seeInFieldSlideOutProperty" stepKey="validateBorderRadius2">
            <argument name="property" value="PageBuilderAdvancedBorderRadiusProperty12"/>
        </actionGroup>
        <actionGroup ref="seeInFieldSlideOutProperty" stepKey="validateCssClasses2">
            <argument name="property" value="PageBuilderAdvancedCssClassesPropertyThreeClasses"/>
        </actionGroup>
        <actionGroup ref="seeInMarginFieldsSlideOutPanel" stepKey="validateMargins2">
            <argument name="property" value="PageBuilderMarginsPropertyUnique"/>
        </actionGroup>
        <actionGroup ref="seeInPaddingFieldsSlideOutPanel" stepKey="validatePadding2">
            <argument name="property" value="PageBuilderPaddingPropertyUnique"/>
        </actionGroup>
        <actionGroup ref="navigateToStoreFront" stepKey="navigateToStoreFront">
            <argument name="prefix" value="row"/>
        </actionGroup>
        <!-- Validate Storefront -->
        <comment userInput="Validate Storefront" stepKey="commentValidateStorefront"/>
        <actionGroup ref="validateAdvancedStyleWithAllUpdated" stepKey="validateAllAdvancedStorefront">
            <argument name="page" value="RowOnStorefront"/>
            <argument name="alignment" value="PageBuilderAdvancedAlignmentPropertyCenter"/>
            <argument name="border" value="PageBuilderAdvancedBorderPropertyDouble"/>
            <argument name="borderColor" value="PageBuilderAdvancedBorderColorProperty_green"/>
            <argument name="borderWidth" value="PageBuilderAdvancedBorderWidthProperty10"/>
            <argument name="borderRadius" value="PageBuilderAdvancedBorderRadiusProperty12"/>
            <argument name="cssClasses" value="PageBuilderAdvancedCssClassesPropertyThreeClasses"/>
            <argument name="margin" value="PageBuilderMarginsPropertyUnique"/>
            <argument name="padding" value="PageBuilderPaddingPropertyUnique"/>
            <argument name="index" value="1"/>
        </actionGroup>
    </test>
    <test name="RowCanAddUnlimitedRows">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="MAGETWO-72398"/>
            <title value="Can add unlimited rows"/>
            <description value="The user should be able to unlimited rows. For testing we use 20 rows"/>
            <severity value="CRITICAL"/>
            <testCaseId value="MAGETWO-85692"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-row"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdmin" stepKey="loginAsAdmin"/>
            <actionGroup ref="EnabledWYSIWYG" stepKey="enableWYSIWYG"/>
            <actionGroup ref="enablePageBuilderSetting" stepKey="enablePageBuilderSetting"/>
            <actionGroup ref="navigateToAPageWithPageBuilder" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="switchToPageBuilderStage" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="DisabledWYSIWYG" stepKey="disableWYSIWYG"/>
            <actionGroup ref="logout" stepKey="logout"/>
        </after>
        <actionGroup ref="dragContentBlockToStage" stepKey="dragRowIntoStage1">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="dragContentBlockToStage" stepKey="dragRowIntoStage2">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="dragContentBlockToStage" stepKey="dragRowIntoStage3">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="dragContentBlockToStage" stepKey="dragRowIntoStage4">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="dragContentBlockToStage" stepKey="dragRowIntoStage5">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="dragContentBlockToStage" stepKey="dragRowIntoStage6">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="dragContentBlockToStage" stepKey="dragRowIntoStage7">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="dragContentBlockToStage" stepKey="dragRowIntoStage8">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="dragContentBlockToStage" stepKey="dragRowIntoStage9">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="dragContentBlockToStage" stepKey="dragRowIntoStage10">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="dragContentBlockToStage" stepKey="dragRowIntoStage11">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="dragContentBlockToStage" stepKey="dragRowIntoStage12">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="dragContentBlockToStage" stepKey="dragRowIntoStage13">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="dragContentBlockToStage" stepKey="dragRowIntoStage14">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="dragContentBlockToStage" stepKey="dragRowIntoStage15">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="dragContentBlockToStage" stepKey="dragRowIntoStage16">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="dragContentBlockToStage" stepKey="dragRowIntoStage17">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="dragContentBlockToStage" stepKey="dragRowIntoStage18">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="dragContentBlockToStage" stepKey="dragRowIntoStage19">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="dragContentBlockToStage" stepKey="dragRowIntoStage20">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <seeNumberOfElements selector="{{RowOnStage.allRows}}" userInput="21" stepKey="seeElementRow"/>
    </test>
    <test name="RowCanAddImageToRow">
        <annotations>
            <features value="Pagebuilder"/>
            <stories value="MAGETWO-86533"/>
            <title value="Add an image content block into row"/>
            <description value="A user should be able to add an image into slideout of row."/>
            <severity value="CRITICAL"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-row"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdmin" stepKey="loginAsAdmin"/>
            <actionGroup ref="EnabledWYSIWYG" stepKey="enableWYSIWYG"/>
            <actionGroup ref="disablePageBuilderSetting" stepKey="disablePageBuilder"/>
            <createData entity="_defaultBlock" stepKey="createPreReqBlock" />
            <createData entity="_defaultCmsPage" stepKey="createPreReqCMSPage" />
        </before>
        <after>
            <deleteData createDataKey="createPreReqCMSPage" stepKey="deletePreReqCMSPage" />
            <deleteData createDataKey="createPreReqBlock" stepKey="deletePreReqBlock" />
            <actionGroup ref="DisabledWYSIWYG" stepKey="disableWYSIWYG"/>
            <actionGroup ref="enablePageBuilderSetting" stepKey="turnOnPageBuilder" after="disableWYSIWYG"/>
            <actionGroup ref="logout" stepKey="logout"/>
        </after>
        <!--Assign block to cms page-->
        <actionGroup ref="AssignBlockToCMSPage" stepKey="assignBlockToCMSPage">
            <argument name="Block" value="$$createPreReqBlock$$"/>
            <argument name="CmsPage" value="$$createPreReqCMSPage$$"/>
        </actionGroup>
        <actionGroup ref="DisabledWYSIWYG" stepKey="disableWYSIWYG"/>
        <actionGroup ref="enablePageBuilderSetting" stepKey="enablePageBuilderSetting"/>
        <actionGroup ref="navigateToCreatedCMSBlockPage" stepKey="navigateToCreatedCMSBlockPage1">
            <argument name="CMSBlockPage" value="$$createPreReqBlock$$"/>
        </actionGroup>
        <actionGroup ref="dragContentBlockToStage" stepKey="dragRowIntoStage">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="openPageBuilderEditPanel" stepKey="openEditMenuOnStage1">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <waitForElementVisible selector="{{UploadImageSection.SelectFromGalleryBtn('Background Image')}}" stepKey="seeSelectFromGalleryBtnOnImage"/>
        <seeElement selector="{{UploadImageSection.PlaceholderContent('Background Image')}}" stepKey="seeImagePlaceHolderOnImage1"/>

        <!--Upload image from local machine using image placeholder button-->
        <actionGroup ref="attachFileSlideOutPropertyGeneral" stepKey="attachImageFile1">
            <argument name="property" value="PageBuilderBackgroundImagePropertyJpg"/>
        </actionGroup>

        <waitForLoadingMaskToDisappear stepKey="waitForLoading1" />
        <waitForElementVisible  selector="{{ImageOnPreview.imageName(PageBuilderBackgroundImagePropertyJpg.value)}}" stepKey="waitForUploadImage1" />
        <seeElement selector="{{ImageOnPreview.imageName(PageBuilderBackgroundImagePropertyJpg.value)}}" stepKey="seeImageNameOnPreview1"/>
        <seeElement selector="{{ImageOnPreview.imageSource(PageBuilderBackgroundImagePropertyJpg.fileName)}}" stepKey="seeMainImageSource1"/>
        <seeElement selector="{{ImageOnPreview.imagePreview}}" stepKey="seeImageDisplayed1"/>

        <!--Remove uploaded image by TrashBin icon-->
        <click selector="{{ImageOnPreview.trashBinIcon}}" stepKey="removeUploadedImage1"/>
        <seeElement selector="{{UploadImageSection.PlaceholderContent('Background Image')}}" stepKey="seeImagePlaceHolderOnImage2"/>

        <!--Upload image from local machine using image placeholder button-->
        <actionGroup ref="attachFileSlideOutPropertyGeneral" stepKey="attachImageFile2">
            <argument name="property" value="PageBuilderBackgroundImagePropertyJpg"/>
        </actionGroup>
        <waitForLoadingMaskToDisappear stepKey="waitForLoading3" />
        <waitForElementVisible  selector="{{ImageOnPreview.imageName(PageBuilderBackgroundImagePropertyJpg.value)}}" stepKey="waitForUploadImage2" />
        <seeElement selector="{{ImageOnPreview.imageName(PageBuilderBackgroundImagePropertyJpg.value)}}" stepKey="seeImageNameOnPreview2"/>
        <seeElement selector="{{ImageOnPreview.imageSource(PageBuilderBackgroundImagePropertyJpg.fileName)}}" stepKey="seeMainImageSource2"/>
        <seeElement selector="{{ImageOnPreview.imagePreview}}" stepKey="seeImageDisplayed2"/>

        <!--Overwrite uploaded image by selecting image from Media Gallery Storage-->
        <click selector="{{UploadImageSection.SelectFromGalleryBtn('Background Image')}}" stepKey="clickImageSelectFromGalleryBtn"/>
        <waitForPageLoad stepKey="waitForPageLoad2" />
        <waitForLoadingMaskToDisappear stepKey="waitForLoading2" />
        <actionGroup ref="CreateImageFolder" stepKey="createImageFolder">
            <argument name="ImageFolder" value="ImageFolder"/>
        </actionGroup>
        <actionGroup ref="attachImage" stepKey="SelectImageFromMediaStorage">
            <argument name="Image" value="PageBuilderImagePropertyJpgCopy"/>
        </actionGroup>
        <actionGroup ref="saveImage" stepKey="saveImage"/>
        <seeElement selector="{{ImageOnPreview.imageName(PageBuilderImagePropertyJpgCopy.value)}}" stepKey="seeImageNameOnPreview3"/>
        <seeElement selector="{{ImageOnPreview.imageSource(PageBuilderImagePropertyJpgCopy.fileName)}}" stepKey="seeMainImageSource3"/>
        <seeElement selector="{{ImageOnPreview.trashBinIcon}}" stepKey="seeTrashBinBtn"/>
        <actionGroup ref="saveEditPanelSettings" stepKey="saveEditPanelSettings1"/>
        <actionGroup ref="dragContentBlockToStage" stepKey="dragButtonsOntoStage">
            <argument name="contentBlockType" value="PageBuilderTextContentBlock"/>
        </actionGroup>
        <actionGroup ref="openPageBuilderEditPanel" stepKey="openEditMenuOnStage2">
            <argument name="contentBlockType" value="PageBuilderTextContentBlock"/>
        </actionGroup>
        <fillField selector="{{TextOnConfiguration.textArea}}" userInput="Text from Row" stepKey="addTextToEditor"/>
        <actionGroup ref="saveEditPanelSettings" stepKey="saveEditPanelSettings2"/>
        <click selector="{{BlockNewPagePageActionsSection.saveAndContinueEdit}}" stepKey="saveBlock" />
        <amOnPage url="$$createPreReqCMSPage.identifier$$" stepKey="amOnCMSStorefront" />
        <waitForPageLoad stepKey="waitForContentLoaded"/>
        <seeElement selector="{{ImageOnFrontend.backgroundImageSource(PageBuilderImagePropertyJpgCopy.fileName)}}" stepKey="seeMainImageSource4"/>
    </test>
</tests>
