<?xml version="1.0" encoding="UTF-8"?>
<!--
 /**
  * Copyright Â© Magento, Inc. All rights reserved.
  * See COPYING.txt for license details.
  */
-->

<tests xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="../../../../../../vendor/magento/magento2-functional-testing-framework/src/Magento/FunctionalTestingFramework/Test/etc/testSchema.xsd">
    <test name="RowValidateBackgroundSectionDefaultValues">
        <annotations>
            <features value="Pagebuilder: Row"/>
            <stories value="MAGETWO-90461: Add Missing Tests For Row"/>
            <title value="Row - Validate Background Section Default Values"/>
            <description value="Validate the default values for every attribute in the Background section for Row. Validate Stage and Storefront as well."/>
            <severity value="AVERAGE"/>
            <testCaseId value="MAGETWO-90527"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-row"/>
            <group value="pagebuilder-rowBackground"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdmin" stepKey="loginAsAdmin"/>
            <actionGroup ref="EnabledWYSIWYG" stepKey="enableWYSIWYG"/>
            <actionGroup ref="enablePageBuilderSetting" stepKey="enablePageBuilderSetting"/>
            <actionGroup ref="navigateToAPageWithPageBuilder" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="switchToPageBuilderStage" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="DisabledWYSIWYG" stepKey="disableWYSIWYG"/>
            <actionGroup ref="logout" stepKey="logout"/>
        </after>
        <actionGroup ref="addPageBuilderPageTitle" stepKey="enterPageTitle">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="openPageBuilderEditPanel" stepKey="openEditMenuOnStage">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <!-- Validate Default Values -->
        <comment userInput="Validate Default Values" stepKey="CommentValidateDefaultValues"/>
        <grabValueFrom selector="{{PageBuilderActionsSection.panelFieldControl(PageBuilderRowBackgroundColor_Default.section, PageBuilderRowBackgroundColor_Default.fieldName)}}" stepKey="getBackgroundColor"/>
        <assertEmpty actual="getBackgroundColor" actualType="variable" message="Text field has text: $getBackgroundColor" stepKey="assertBackgroundColor"/>
        <actionGroup ref="seeNoImageUploadedOnSlideOut" stepKey="validateNoImage">
            <argument name="property" value="PageBuilderRowBackgroundImage_Default"/>
        </actionGroup>
        <actionGroup ref="seeOptionIsSelectedSlideOutProperty" stepKey="validateBackgroundPosition">
            <argument name="property" value="PageBuilderRowBackgroundPosition_Default"/>
        </actionGroup>
        <actionGroup ref="seeOptionIsSelectedSlideOutProperty" stepKey="validateBackgroundSize">
            <argument name="property" value="PageBuilderRowBackgroundSize_Default"/>
        </actionGroup>
        <actionGroup ref="seeOptionIsNotCheckedSlideOutProperty" stepKey="validateBackgroundRepeat">
            <argument name="property" value="PageBuilderRowBackgroundRepeat_Default"/>
        </actionGroup>
        <actionGroup ref="seeOptionIsSelectedSlideOutProperty" stepKey="validateBackgroundAttachment">
            <argument name="property" value="PageBuilderRowBackgroundAttachment_Default"/>
        </actionGroup>
        <actionGroup ref="closeEditPanelSettings" stepKey="closeEditPanelSettings"/>
        <!-- Validate Stage -->
        <comment userInput="Validate Stage" stepKey="commentValidateStage"/>
        <actionGroup ref="validateRowBackgroundAttributesWithNoImageOrColor" stepKey="validateStage">
            <argument name="page" value="RowOnStage"/>
            <argument name="index" value="1"/>
            <argument name="backgroundPosition" value="PageBuilderRowBackgroundPosition_Default"/>
            <argument name="backgroundSize" value="PageBuilderRowBackgroundSize_Default"/>
            <argument name="backgroundRepeat" value="PageBuilderRowBackgroundRepeat_Default"/>
            <argument name="backgroundAttachment" value="PageBuilderRowBackgroundAttachment_Default"/>
        </actionGroup>
        <actionGroup ref="saveAndContinueEditCmsPage" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="switchToPageBuilderStage" stepKey="switchToPageBuilderStage"/>
        <!-- Validate Stage After Save -->
        <comment userInput="Validate Stage After Save" stepKey="commentValidateStage2"/>
        <actionGroup ref="validateRowBackgroundAttributesWithNoImageOrColor" stepKey="validateStage2">
            <argument name="page" value="RowOnStage"/>
            <argument name="index" value="1"/>
            <argument name="backgroundPosition" value="PageBuilderRowBackgroundPosition_Default"/>
            <argument name="backgroundSize" value="PageBuilderRowBackgroundSize_Default"/>
            <argument name="backgroundRepeat" value="PageBuilderRowBackgroundRepeat_Default"/>
            <argument name="backgroundAttachment" value="PageBuilderRowBackgroundAttachment_Default"/>
        </actionGroup>
        <actionGroup ref="openPageBuilderEditPanel" stepKey="openEditMenuOnStage2">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <!-- Validate Edit Panel After Save -->
        <comment userInput="Validate Edit Panel After Save" stepKey="commentValidateEditPanel2"/>
        <grabValueFrom selector="{{PageBuilderActionsSection.panelFieldControl(PageBuilderRowBackgroundColor_Default.section, PageBuilderRowBackgroundColor_Default.fieldName)}}" stepKey="getBackgroundColor2"/>
        <assertEmpty actual="getBackgroundColor2" actualType="variable" message="Text field has text: $getBackgroundColor2" stepKey="assertBackgroundColor2"/>
        <actionGroup ref="seeNoImageUploadedOnSlideOut" stepKey="validateNoImage2">
            <argument name="property" value="PageBuilderRowBackgroundImage_Default"/>
        </actionGroup>
        <actionGroup ref="seeOptionIsSelectedSlideOutProperty" stepKey="validateBackgroundPosition2">
            <argument name="property" value="PageBuilderRowBackgroundPosition_Default"/>
        </actionGroup>
        <actionGroup ref="seeOptionIsSelectedSlideOutProperty" stepKey="validateBackgroundSize2">
            <argument name="property" value="PageBuilderRowBackgroundSize_Default"/>
        </actionGroup>
        <actionGroup ref="seeOptionIsNotCheckedSlideOutProperty" stepKey="validateBackgroundRepeat2">
            <argument name="property" value="PageBuilderRowBackgroundRepeat_Default"/>
        </actionGroup>
        <actionGroup ref="seeOptionIsSelectedSlideOutProperty" stepKey="validateBackgroundAttachment2">
            <argument name="property" value="PageBuilderRowBackgroundAttachment_Default"/>
        </actionGroup>
        <actionGroup ref="navigateToStoreFront" stepKey="navigateToStoreFront">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <!-- Validate Storefront -->
        <comment userInput="Validate Storefront" stepKey="commentValidateStorefront"/>
        <actionGroup ref="validateRowBackgroundAttributesWithNoImageOrColor" stepKey="validateStorefront">
            <argument name="page" value="RowOnStorefront"/>
            <argument name="index" value="1"/>
            <argument name="backgroundPosition" value="PageBuilderRowBackgroundPosition_Default"/>
            <argument name="backgroundSize" value="PageBuilderRowBackgroundSize_Default"/>
            <argument name="backgroundRepeat" value="PageBuilderRowBackgroundRepeat_Default"/>
            <argument name="backgroundAttachment" value="PageBuilderRowBackgroundAttachment_Default"/>
        </actionGroup>
    </test>
    <test name="RowEditBackgroundColorEmpty">
        <annotations>
            <features value="Pagebuilder: Row"/>
            <stories value="MAGETWO-90461: Add Missing Tests For Row"/>
            <title value="Row - Edit Background Color Attribute - Empty"/>
            <description value="Tests that the Background Color attribute functions as expected on Stage and Storefront for Row for empty value"/>
            <severity value="MAJOR"/>
            <testCaseId value="MAGETWO-90669"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-row"/>
            <group value="pagebuilder-rowBackground"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdmin" stepKey="loginAsAdmin"/>
            <actionGroup ref="EnabledWYSIWYG" stepKey="enableWYSIWYG"/>
            <actionGroup ref="enablePageBuilderSetting" stepKey="enablePageBuilderSetting"/>
            <actionGroup ref="navigateToAPageWithPageBuilder" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="switchToPageBuilderStage" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="DisabledWYSIWYG" stepKey="disableWYSIWYG"/>
            <actionGroup ref="logout" stepKey="logout"/>
        </after>
        <actionGroup ref="addPageBuilderPageTitle" stepKey="enterPageTitle">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <!-- Add Background Color -->
        <comment userInput="Add Background Color" stepKey="commentAddBackgroundColor"/>
        <actionGroup ref="openPageBuilderEditPanel" stepKey="openEditMenuOnStage1">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="clearSlideOutPanelFieldGeneral" stepKey="clearBackgroundColor">
            <argument name="property" value="PageBuilderRowBackgroundColor_Default"/>
        </actionGroup>
        <actionGroup ref="saveEditPanelSettings" stepKey="saveEditPanelSettings"/>
        <!-- Stage: Check Background Color -->
        <comment userInput="Stage: Check Background Color" stepKey="commentStageCheck"/>
        <actionGroup ref="validateRowNoBackgroundColor" stepKey="validateStage1">
            <argument name="page" value="RowOnStage"/>
            <argument name="index" value="1"/>
        </actionGroup>
        <actionGroup ref="saveAndContinueEditCmsPage" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="switchToPageBuilderStage" stepKey="switchToPageBuilderStage2"/>
        <!-- Stage: Check Background Color After Save -->
        <comment userInput="Stage: Check Background Color After Save" stepKey="commentStageCheckAfterSave"/>
        <actionGroup ref="validateRowNoBackgroundColor" stepKey="validateStage2">
            <argument name="page" value="RowOnStage"/>
            <argument name="index" value="1"/>
        </actionGroup>
        <!-- Edit Panel: Check Background Color -->
        <comment userInput="Edit Panel: Check Background Color" stepKey="commentValidateEditPanel"/>
        <actionGroup ref="openPageBuilderEditPanel" stepKey="openEditMenuOnStage2">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="seeNoColorInColorSwatch" stepKey="validateBackgroundColorSwatch">
            <argument name="property" value="PageBuilderRowBackgroundColor_Default"/>
        </actionGroup>
        <grabValueFrom selector="{{PageBuilderActionsSection.panelFieldControl(PageBuilderRowBackgroundColor_Default.section, PageBuilderRowBackgroundColor_Default.fieldName)}}" stepKey="getBackgroundColor"/>
        <assertEmpty actual="getBackgroundColor" actualType="variable" message="Text field has text: $getBackgroundColor" stepKey="assertBackgroundColor"/>
        <actionGroup ref="navigateToStoreFront" stepKey="navigateToStoreFront">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <!-- Storefront: Check Background Color -->
        <comment userInput="Storefront: Check Background Color" stepKey="commentStorefrontCheck"/>
        <actionGroup ref="validateRowNoBackgroundColor" stepKey="validateStorefront">
            <argument name="page" value="RowOnStorefront"/>
            <argument name="index" value="1"/>
        </actionGroup>
    </test>
    <test name="RowEditBackgroundColorPlainText">
        <annotations>
            <features value="Pagebuilder: Row"/>
            <stories value="MAGETWO-90461: Add Missing Tests For Row"/>
            <title value="Row - Edit Background Color Attribute - PlainText"/>
            <description value="Tests that the Background Color attribute functions as expected on Stage and Storefront for Row for PlainText value"/>
            <severity value="MAJOR"/>
            <testCaseId value="MAGETWO-90685"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-row"/>
            <group value="pagebuilder-rowBackground"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdmin" stepKey="loginAsAdmin"/>
            <actionGroup ref="EnabledWYSIWYG" stepKey="enableWYSIWYG"/>
            <actionGroup ref="enablePageBuilderSetting" stepKey="enablePageBuilderSetting"/>
            <actionGroup ref="navigateToAPageWithPageBuilder" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="switchToPageBuilderStage" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="DisabledWYSIWYG" stepKey="disableWYSIWYG"/>
            <actionGroup ref="logout" stepKey="logout"/>
        </after>
        <actionGroup ref="addPageBuilderPageTitle" stepKey="enterPageTitle">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <!-- Add Background Color -->
        <comment userInput="Add Background Color" stepKey="commentAddBackgroundColor"/>
        <actionGroup ref="openPageBuilderEditPanel" stepKey="openEditMenuOnStage1">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="fillSlideOutPanelFieldGeneral" stepKey="enterBackgroundColor">
            <argument name="property" value="PageBuilderRowBackgroundColor_green"/>
        </actionGroup>
        <actionGroup ref="saveEditPanelSettings" stepKey="saveEditPanelSettings"/>
        <!-- Stage: Check Background Color -->
        <comment userInput="Stage: Check Background Color" stepKey="commentStageCheck"/>
        <actionGroup ref="validateRowBackgroundColor" stepKey="validateStage1">
            <argument name="page" value="RowOnStage"/>
            <argument name="backgroundColor" value="PageBuilderRowBackgroundColor_green"/>
            <argument name="index" value="1"/>
        </actionGroup>
        <actionGroup ref="saveAndContinueEditCmsPage" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="switchToPageBuilderStage" stepKey="switchToPageBuilderStage2"/>
        <!-- Stage: Check Background Color After Save -->
        <comment userInput="Stage: Check Background Color After Save" stepKey="commentStageCheckAfterSave"/>
        <actionGroup ref="validateRowBackgroundColor" stepKey="validateStage2">
            <argument name="page" value="RowOnStage"/>
            <argument name="backgroundColor" value="PageBuilderRowBackgroundColor_green"/>
            <argument name="index" value="1"/>
        </actionGroup>
        <!-- Edit Panel: Check Background Color -->
        <comment userInput="Edit Panel: Check Background Color" stepKey="commentValidateEditPanel"/>
        <actionGroup ref="openPageBuilderEditPanel" stepKey="openEditMenuOnStage2">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="seeColorInColorSwatch" stepKey="validateBackgroundColorSwatch">
            <argument name="property" value="PageBuilderRowBackgroundColor_green"/>
        </actionGroup>
        <actionGroup ref="seeInFieldSlideOutPropertyAlternate" stepKey="validateBackgroundColorField">
            <argument name="property" value="PageBuilderRowBackgroundColor_green"/>
        </actionGroup>
        <actionGroup ref="navigateToStoreFront" stepKey="navigateToStoreFront">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <!-- Storefront: Check Background Color -->
        <comment userInput="Storefront: Check Background Color" stepKey="commentStorefrontCheck"/>
        <actionGroup ref="validateRowBackgroundColor" stepKey="validateStorefront">
            <argument name="page" value="RowOnStorefront"/>
            <argument name="backgroundColor" value="PageBuilderRowBackgroundColor_green"/>
            <argument name="index" value="1"/>
        </actionGroup>
    </test>
    <test name="RowEditBackgroundColorHex">
        <annotations>
            <features value="Pagebuilder: Row"/>
            <stories value="MAGETWO-90461: Add Missing Tests For Row"/>
            <title value="Row - Edit Background Color Attribute - Hex"/>
            <description value="Tests that the Background Color attribute functions as expected on Stage and Storefront for Row for Hex value"/>
            <severity value="MAJOR"/>
            <testCaseId value="MAGETWO-90686"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-row"/>
            <group value="pagebuilder-rowBackground"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdmin" stepKey="loginAsAdmin"/>
            <actionGroup ref="EnabledWYSIWYG" stepKey="enableWYSIWYG"/>
            <actionGroup ref="enablePageBuilderSetting" stepKey="enablePageBuilderSetting"/>
            <actionGroup ref="navigateToAPageWithPageBuilder" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="switchToPageBuilderStage" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="DisabledWYSIWYG" stepKey="disableWYSIWYG"/>
            <actionGroup ref="logout" stepKey="logout"/>
        </after>
        <actionGroup ref="addPageBuilderPageTitle" stepKey="enterPageTitle">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <!-- Add Background Color -->
        <comment userInput="Add Background Color" stepKey="commentAddBackgroundColor"/>
        <actionGroup ref="openPageBuilderEditPanel" stepKey="openEditMenuOnStage1">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="fillSlideOutPanelFieldGeneral" stepKey="enterBackgroundColor">
            <argument name="property" value="PageBuilderRowBackgroundColor_FF0000"/>
        </actionGroup>
        <actionGroup ref="saveEditPanelSettings" stepKey="saveEditPanelSettings"/>
        <!-- Stage: Check Background Color -->
        <comment userInput="Stage: Check Background Color" stepKey="commentStageCheck"/>
        <actionGroup ref="validateRowBackgroundColor" stepKey="validateStage1">
            <argument name="page" value="RowOnStage"/>
            <argument name="backgroundColor" value="PageBuilderRowBackgroundColor_FF0000"/>
            <argument name="index" value="1"/>
        </actionGroup>
        <actionGroup ref="saveAndContinueEditCmsPage" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="switchToPageBuilderStage" stepKey="switchToPageBuilderStage2"/>
        <!-- Stage: Check Background Color After Save -->
        <comment userInput="Stage: Check Background Color After Save" stepKey="commentStageCheckAfterSave"/>
        <actionGroup ref="validateRowBackgroundColor" stepKey="validateStage2">
            <argument name="page" value="RowOnStage"/>
            <argument name="backgroundColor" value="PageBuilderRowBackgroundColor_FF0000"/>
            <argument name="index" value="1"/>
        </actionGroup>
        <!-- Edit Panel: Check Background Color -->
        <comment userInput="Edit Panel: Check Background Color" stepKey="commentValidateEditPanel"/>
        <actionGroup ref="openPageBuilderEditPanel" stepKey="openEditMenuOnStage2">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="seeColorInColorSwatch" stepKey="validateBackgroundColorSwatch">
            <argument name="property" value="PageBuilderRowBackgroundColor_FF0000"/>
        </actionGroup>
        <actionGroup ref="seeInFieldSlideOutProperty" stepKey="validateBackgroundColorField">
            <argument name="property" value="PageBuilderRowBackgroundColor_FF0000"/>
        </actionGroup>
        <actionGroup ref="navigateToStoreFront" stepKey="navigateToStoreFront">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <!-- Storefront: Check Background Color -->
        <comment userInput="Storefront: Check Background Color" stepKey="commentStorefrontCheck"/>
        <actionGroup ref="validateRowBackgroundColor" stepKey="validateStorefront">
            <argument name="page" value="RowOnStorefront"/>
            <argument name="backgroundColor" value="PageBuilderRowBackgroundColor_FF0000"/>
            <argument name="index" value="1"/>
        </actionGroup>
    </test>
    <test name="RowEditBackgroundColorRGB">
        <annotations>
            <features value="Pagebuilder: Row"/>
            <stories value="MAGETWO-90461: Add Missing Tests For Row"/>
            <title value="Row - Edit Background Color Attribute - RGB"/>
            <description value="Tests that the Background Color attribute functions as expected on Stage and Storefront for Row for RGB value"/>
            <severity value="MAJOR"/>
            <testCaseId value="MAGETWO-90687"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-row"/>
            <group value="pagebuilder-rowBackground"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdmin" stepKey="loginAsAdmin"/>
            <actionGroup ref="EnabledWYSIWYG" stepKey="enableWYSIWYG"/>
            <actionGroup ref="enablePageBuilderSetting" stepKey="enablePageBuilderSetting"/>
            <actionGroup ref="navigateToAPageWithPageBuilder" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="switchToPageBuilderStage" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="DisabledWYSIWYG" stepKey="disableWYSIWYG"/>
            <actionGroup ref="logout" stepKey="logout"/>
        </after>
        <actionGroup ref="addPageBuilderPageTitle" stepKey="enterPageTitle">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <!-- Add Background Color -->
        <comment userInput="Add Background Color" stepKey="commentAddBackgroundColor"/>
        <actionGroup ref="openPageBuilderEditPanel" stepKey="openEditMenuOnStage1">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="fillSlideOutPanelFieldGeneral" stepKey="enterBackgroundColor">
            <argument name="property" value="PageBuilderRowBackgroundColor_rgb_0_0_255"/>
        </actionGroup>
        <actionGroup ref="saveEditPanelSettings" stepKey="saveEditPanelSettings"/>
        <!-- Stage: Check Background Color -->
        <comment userInput="Stage: Check Background Color" stepKey="commentStageCheck"/>
        <actionGroup ref="validateRowBackgroundColor" stepKey="validateStage1">
            <argument name="page" value="RowOnStage"/>
            <argument name="backgroundColor" value="PageBuilderRowBackgroundColor_rgb_0_0_255"/>
            <argument name="index" value="1"/>
        </actionGroup>
        <actionGroup ref="saveAndContinueEditCmsPage" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="switchToPageBuilderStage" stepKey="switchToPageBuilderStage2"/>
        <!-- Stage: Check Background Color After Save -->
        <comment userInput="Stage: Check Background Color After Save" stepKey="commentStageCheckAfterSave"/>
        <actionGroup ref="validateRowBackgroundColor" stepKey="validateStage2">
            <argument name="page" value="RowOnStage"/>
            <argument name="backgroundColor" value="PageBuilderRowBackgroundColor_rgb_0_0_255"/>
            <argument name="index" value="1"/>
        </actionGroup>
        <!-- Edit Panel: Check Background Color -->
        <comment userInput="Edit Panel: Check Background Color" stepKey="commentValidateEditPanel"/>
        <actionGroup ref="openPageBuilderEditPanel" stepKey="openEditMenuOnStage2">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="seeColorInColorSwatch" stepKey="validateBackgroundColorSwatch">
            <argument name="property" value="PageBuilderRowBackgroundColor_rgb_0_0_255"/>
        </actionGroup>
        <actionGroup ref="seeInFieldSlideOutPropertyAlternate" stepKey="validateBackgroundColorField">
            <argument name="property" value="PageBuilderRowBackgroundColor_rgb_0_0_255"/>
        </actionGroup>
        <actionGroup ref="navigateToStoreFront" stepKey="navigateToStoreFront">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <!-- Storefront: Check Background Color -->
        <comment userInput="Storefront: Check Background Color" stepKey="commentStorefrontCheck"/>
        <actionGroup ref="validateRowBackgroundColor" stepKey="validateStorefront">
            <argument name="page" value="RowOnStorefront"/>
            <argument name="backgroundColor" value="PageBuilderRowBackgroundColor_rgb_0_0_255"/>
            <argument name="index" value="1"/>
        </actionGroup>
    </test>
    <test name="RowEditBackgroundColorRGBa">
        <annotations>
            <features value="Pagebuilder: Row"/>
            <stories value="MAGETWO-90461: Add Missing Tests For Row"/>
            <title value="Row - Edit Background Color Attribute - RGBa"/>
            <description value="Tests that the Background Color attribute functions as expected on Stage and Storefront for Row for RGBa value"/>
            <severity value="MAJOR"/>
            <testCaseId value="MAGETWO-90688"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-row"/>
            <group value="pagebuilder-rowBackground"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdmin" stepKey="loginAsAdmin"/>
            <actionGroup ref="EnabledWYSIWYG" stepKey="enableWYSIWYG"/>
            <actionGroup ref="enablePageBuilderSetting" stepKey="enablePageBuilderSetting"/>
            <actionGroup ref="navigateToAPageWithPageBuilder" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="switchToPageBuilderStage" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="DisabledWYSIWYG" stepKey="disableWYSIWYG"/>
            <actionGroup ref="logout" stepKey="logout"/>
        </after>
        <actionGroup ref="addPageBuilderPageTitle" stepKey="enterPageTitle">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <!-- Add Background Color -->
        <comment userInput="Add Background Color" stepKey="commentAddBackgroundColor"/>
        <actionGroup ref="openPageBuilderEditPanel" stepKey="openEditMenuOnStage1">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="fillSlideOutPanelFieldGeneral" stepKey="enterBackgroundColor">
            <argument name="property" value="PageBuilderRowBackgroundColor_BlueRGBa"/>
        </actionGroup>
        <actionGroup ref="saveEditPanelSettings" stepKey="saveEditPanelSettings"/>
        <!-- Stage: Check Background Color -->
        <comment userInput="Stage: Check Background Color" stepKey="commentStageCheck"/>
        <!-- Not using action group due to open issue for inconsistent background color on Stage in DOM before page save: MAGETWO-90694 -->
        <waitForElementVisible selector="{{RowOnStage.base('1')}}" stepKey="waitForRow"/>
        <waitForElementVisible selector="{{RowOnStage.backgroundColor('1', PageBuilderRowBackgroundColor_BlueRGBa.value)}}" stepKey="waitForBackgroundColor"/>
        <actionGroup ref="saveAndContinueEditCmsPage" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="switchToPageBuilderStage" stepKey="switchToPageBuilderStage2"/>
        <!-- Stage: Check Background Color After Save -->
        <comment userInput="Stage: Check Background Color After Save" stepKey="commentStageCheckAfterSave"/>
        <actionGroup ref="validateRowBackgroundColor" stepKey="validateStage2">
            <argument name="page" value="RowOnStage"/>
            <argument name="backgroundColor" value="PageBuilderRowBackgroundColor_BlueRGBa"/>
            <argument name="index" value="1"/>
        </actionGroup>
        <!-- Edit Panel: Check Background Color -->
        <comment userInput="Edit Panel: Check Background Color" stepKey="commentValidateEditPanel"/>
        <actionGroup ref="openPageBuilderEditPanel" stepKey="openEditMenuOnStage2">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="seeColorInColorSwatch" stepKey="validateBackgroundColorSwatch">
            <argument name="property" value="PageBuilderRowBackgroundColor_BlueRGBa"/>
        </actionGroup>
        <actionGroup ref="seeInFieldSlideOutPropertyAlternate" stepKey="validateBackgroundColorField">
            <argument name="property" value="PageBuilderRowBackgroundColor_BlueRGBa"/>
        </actionGroup>
        <actionGroup ref="navigateToStoreFront" stepKey="navigateToStoreFront">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <!-- Storefront: Check Background Color -->
        <comment userInput="Storefront: Check Background Color" stepKey="commentStorefrontCheck"/>
        <!-- Not using action group due to open issue for inconsistent background color on Storefront in DOM: MAGETWO-90694 -->
        <waitForElementVisible selector="{{RowOnStorefront.base('1')}}" stepKey="waitForRow2"/>
        <waitForElementVisible selector="{{RowOnStorefront.backgroundColor('1', PageBuilderRowBackgroundColor_BlueRGBa.value)}}" stepKey="waitForBackgroundColor2"/>
    </test>
    <test name="RowEditBackgroundColorHSL">
        <annotations>
            <features value="Pagebuilder: Row"/>
            <stories value="MAGETWO-90461: Add Missing Tests For Row"/>
            <title value="Row - Edit Background Color Attribute - HSL"/>
            <description value="Tests that the Background Color attribute functions as expected on Stage and Storefront for Row for HSL value"/>
            <severity value="MAJOR"/>
            <testCaseId value="MAGETWO-90689"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-row"/>
            <group value="pagebuilder-rowBackground"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdmin" stepKey="loginAsAdmin"/>
            <actionGroup ref="EnabledWYSIWYG" stepKey="enableWYSIWYG"/>
            <actionGroup ref="enablePageBuilderSetting" stepKey="enablePageBuilderSetting"/>
            <actionGroup ref="navigateToAPageWithPageBuilder" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="switchToPageBuilderStage" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="DisabledWYSIWYG" stepKey="disableWYSIWYG"/>
            <actionGroup ref="logout" stepKey="logout"/>
        </after>
        <actionGroup ref="addPageBuilderPageTitle" stepKey="enterPageTitle">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <!-- Add Background Color -->
        <comment userInput="Add Background Color" stepKey="commentAddBackgroundColor"/>
        <actionGroup ref="openPageBuilderEditPanel" stepKey="openEditMenuOnStage1">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="fillSlideOutPanelFieldGeneral" stepKey="enterBackgroundColor">
            <argument name="property" value="PageBuilderRowBackgroundColor_OrangeHSL"/>
        </actionGroup>
        <actionGroup ref="saveEditPanelSettings" stepKey="saveEditPanelSettings"/>
        <!-- Stage: Check Background Color -->
        <comment userInput="Stage: Check Background Color" stepKey="commentStageCheck"/>
        <actionGroup ref="validateRowBackgroundColor" stepKey="validateStage1">
            <argument name="page" value="RowOnStage"/>
            <argument name="backgroundColor" value="PageBuilderRowBackgroundColor_OrangeHSL"/>
            <argument name="index" value="1"/>
        </actionGroup>
        <actionGroup ref="saveAndContinueEditCmsPage" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="switchToPageBuilderStage" stepKey="switchToPageBuilderStage2"/>
        <!-- Stage: Check Background Color After Save -->
        <comment userInput="Stage: Check Background Color After Save" stepKey="commentStageCheckAfterSave"/>
        <actionGroup ref="validateRowBackgroundColor" stepKey="validateStage2">
            <argument name="page" value="RowOnStage"/>
            <argument name="backgroundColor" value="PageBuilderRowBackgroundColor_OrangeHSL"/>
            <argument name="index" value="1"/>
        </actionGroup>
        <!-- Edit Panel: Check Background Color -->
        <comment userInput="Edit Panel: Check Background Color" stepKey="commentValidateEditPanel"/>
        <actionGroup ref="openPageBuilderEditPanel" stepKey="openEditMenuOnStage2">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="seeColorInColorSwatch" stepKey="validateBackgroundColorSwatch">
            <argument name="property" value="PageBuilderRowBackgroundColor_OrangeHSL"/>
        </actionGroup>
        <actionGroup ref="seeInFieldSlideOutPropertyAlternate" stepKey="validateBackgroundColorField">
            <argument name="property" value="PageBuilderRowBackgroundColor_OrangeHSL"/>
        </actionGroup>
        <actionGroup ref="navigateToStoreFront" stepKey="navigateToStoreFront">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <!-- Storefront: Check Background Color -->
        <comment userInput="Storefront: Check Background Color" stepKey="commentStorefrontCheck"/>
        <actionGroup ref="validateRowBackgroundColor" stepKey="validateStorefront">
            <argument name="page" value="RowOnStorefront"/>
            <argument name="backgroundColor" value="PageBuilderRowBackgroundColor_OrangeHSL"/>
            <argument name="index" value="1"/>
        </actionGroup>
    </test>
    <test name="RowEditBackgroundColorColorPicker">
        <annotations>
            <features value="Pagebuilder: Row"/>
            <stories value="MAGETWO-90461: Add Missing Tests For Row"/>
            <title value="Row - Edit Background Color Attribute - Color Picker"/>
            <description value="Tests that the Background Color attribute functions as expected on Stage and Storefront for Row for Color Picker value"/>
            <severity value="MAJOR"/>
            <testCaseId value="MAGETWO-90690"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-row"/>
            <group value="pagebuilder-rowBackground"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdmin" stepKey="loginAsAdmin"/>
            <actionGroup ref="EnabledWYSIWYG" stepKey="enableWYSIWYG"/>
            <actionGroup ref="enablePageBuilderSetting" stepKey="enablePageBuilderSetting"/>
            <actionGroup ref="navigateToAPageWithPageBuilder" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="switchToPageBuilderStage" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="DisabledWYSIWYG" stepKey="disableWYSIWYG"/>
            <actionGroup ref="logout" stepKey="logout"/>
        </after>
        <actionGroup ref="addPageBuilderPageTitle" stepKey="enterPageTitle">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <!-- Add Background Color -->
        <comment userInput="Add Background Color" stepKey="commentAddBackgroundColor"/>
        <actionGroup ref="openPageBuilderEditPanel" stepKey="openEditMenuOnStage1">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="pickColorSwatchCell" stepKey="enterBackgroundColor">
            <argument name="property" value="PageBuilderRowBackgroundColor_Yellow"/>
        </actionGroup>
        <actionGroup ref="saveEditPanelSettings" stepKey="saveEditPanelSettings"/>
        <!-- Stage: Check Background Color -->
        <comment userInput="Stage: Check Background Color" stepKey="commentStageCheck"/>
        <actionGroup ref="validateRowBackgroundColor" stepKey="validateStage1">
            <argument name="page" value="RowOnStage"/>
            <argument name="backgroundColor" value="PageBuilderRowBackgroundColor_Yellow"/>
            <argument name="index" value="1"/>
        </actionGroup>
        <actionGroup ref="saveAndContinueEditCmsPage" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="switchToPageBuilderStage" stepKey="switchToPageBuilderStage2"/>
        <!-- Stage: Check Background Color After Save -->
        <comment userInput="Stage: Check Background Color After Save" stepKey="commentStageCheckAfterSave"/>
        <actionGroup ref="validateRowBackgroundColor" stepKey="validateStage2">
            <argument name="page" value="RowOnStage"/>
            <argument name="backgroundColor" value="PageBuilderRowBackgroundColor_Yellow"/>
            <argument name="index" value="1"/>
        </actionGroup>
        <!-- Edit Panel: Check Background Color -->
        <comment userInput="Edit Panel: Check Background Color" stepKey="commentValidateEditPanel"/>
        <actionGroup ref="openPageBuilderEditPanel" stepKey="openEditMenuOnStage2">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="seeColorInColorSwatch" stepKey="validateBackgroundColorSwatch">
            <argument name="property" value="PageBuilderRowBackgroundColor_Yellow"/>
        </actionGroup>
        <actionGroup ref="seeInFieldSlideOutProperty" stepKey="validateBackgroundColorField">
            <argument name="property" value="PageBuilderRowBackgroundColor_Yellow"/>
        </actionGroup>
        <actionGroup ref="navigateToStoreFront" stepKey="navigateToStoreFront">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <!-- Storefront: Check Background Color -->
        <comment userInput="Storefront: Check Background Color" stepKey="commentStorefrontCheck"/>
        <actionGroup ref="validateRowBackgroundColor" stepKey="validateStorefront">
            <argument name="page" value="RowOnStorefront"/>
            <argument name="backgroundColor" value="PageBuilderRowBackgroundColor_Yellow"/>
            <argument name="index" value="1"/>
        </actionGroup>
    </test>
    <test name="RowEditBackgroundColorInvalid">
        <annotations>
            <features value="Pagebuilder: Row"/>
            <stories value="MAGETWO-90461: Add Missing Tests For Row"/>
            <title value="Row - Edit Background Color Attribute - Invalid"/>
            <description value="Tests that the Background Color attribute functions as expected on Stage and Storefront for Row for Invalid value"/>
            <severity value="MAJOR"/>
            <testCaseId value="MAGETWO-90691"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-row"/>
            <group value="pagebuilder-rowBackground"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdmin" stepKey="loginAsAdmin"/>
            <actionGroup ref="EnabledWYSIWYG" stepKey="enableWYSIWYG"/>
            <actionGroup ref="enablePageBuilderSetting" stepKey="enablePageBuilderSetting"/>
            <actionGroup ref="navigateToAPageWithPageBuilder" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="switchToPageBuilderStage" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="DisabledWYSIWYG" stepKey="disableWYSIWYG"/>
            <actionGroup ref="logout" stepKey="logout"/>
        </after>
        <actionGroup ref="addPageBuilderPageTitle" stepKey="enterPageTitle">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <!-- Add Background Color -->
        <comment userInput="Add Background Color" stepKey="commentAddBackgroundColor"/>
        <actionGroup ref="openPageBuilderEditPanel" stepKey="openEditMenuOnStage1">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="fillSlideOutPanelFieldGeneral" stepKey="enterBackgroundColor">
            <argument name="property" value="PageBuilderRowBackgroundColor_invalid"/>
        </actionGroup>
        <actionGroup ref="saveEditPanelAndValidateFieldError" stepKey="validateError">
            <argument name="property" value="PageBuilderRowBackgroundColor_invalid"/>
        </actionGroup>
        <actionGroup ref="closeEditPanelSettings" stepKey="closeEditPanelSettings"/>
        <!-- Stage: Check Background Color -->
        <comment userInput="Stage: Check Background Color" stepKey="commentStageCheck"/>
        <actionGroup ref="validateRowNoBackgroundColor" stepKey="validateStage1">
            <argument name="page" value="RowOnStage"/>
            <argument name="index" value="1"/>
        </actionGroup>
    </test>
    <test name="RowEditBackgroundImage">
        <annotations>
            <features value="Pagebuilder: Row"/>
            <stories value="MAGETWO-86533: [UI component] MediaGalleryImage: inside form"/>
            <title value="Add an image content block into row"/>
            <description value="A user should be able to add an image into slideout of row."/>
            <severity value="CRITICAL"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-row"/>
            <group value="pagebuilder-rowBackground"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdmin" stepKey="loginAsAdmin"/>
            <actionGroup ref="EnabledWYSIWYG" stepKey="enableWYSIWYG"/>
            <actionGroup ref="disablePageBuilderSetting" stepKey="disablePageBuilder"/>
            <createData entity="_defaultBlock" stepKey="createPreReqBlock" />
            <createData entity="_defaultCmsPage" stepKey="createPreReqCMSPage" />
        </before>
        <after>
            <deleteData createDataKey="createPreReqCMSPage" stepKey="deletePreReqCMSPage" />
            <deleteData createDataKey="createPreReqBlock" stepKey="deletePreReqBlock" />
            <actionGroup ref="DisabledWYSIWYG" stepKey="disableWYSIWYG"/>
            <actionGroup ref="enablePageBuilderSetting" stepKey="turnOnPageBuilder" after="disableWYSIWYG"/>
            <actionGroup ref="logout" stepKey="logout"/>
        </after>
        <!--Assign block to cms page-->
        <actionGroup ref="AssignBlockToCMSPage" stepKey="assignBlockToCMSPage">
            <argument name="Block" value="$$createPreReqBlock$$"/>
            <argument name="CmsPage" value="$$createPreReqCMSPage$$"/>
        </actionGroup>
        <actionGroup ref="DisabledWYSIWYG" stepKey="disableWYSIWYG"/>
        <actionGroup ref="enablePageBuilderSetting" stepKey="enablePageBuilderSetting"/>
        <actionGroup ref="navigateToCreatedCMSBlockPage" stepKey="navigateToCreatedCMSBlockPage1">
            <argument name="CMSBlockPage" value="$$createPreReqBlock$$"/>
        </actionGroup>
        <actionGroup ref="dragContentBlockToStage" stepKey="dragRowIntoStage">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="openPageBuilderEditPanel" stepKey="openEditMenuOnStage1">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <waitForElementVisible time="2" selector="{{RowOnBackend.backgroundSectionName}}" stepKey="waitForBackgroundForm"/>
        <seeElement selector="{{ImageOnConfigurationPanel.selectFromGalleryBtn('Background Image')}}" stepKey="seeSelectFromGalleryBtnOnImage"/>
        <seeElement selector="{{ImageOnConfigurationPanel.placeholderContent('Background Image')}}" stepKey="seeImagePlaceHolderOnImage1"/>

        <!--Upload image from local machine using image placeholder button-->
        <actionGroup ref="attachFileSlideOutPropertyGeneral" stepKey="attachImageFile1">
            <argument name="property" value="PageBuilderBackgroundImagePropertyJpg"/>
        </actionGroup>

        <waitForLoadingMaskToDisappear stepKey="waitForLoading1" />
        <waitForElementVisible  selector="{{ImageOnConfigurationPanel.imageName(PageBuilderBackgroundImagePropertyJpg.value)}}" stepKey="waitForUploadImage1" />
        <seeElement selector="{{ImageOnConfigurationPanel.imageName(PageBuilderBackgroundImagePropertyJpg.value)}}" stepKey="seeImageNameOnPreview1"/>
        <seeElement selector="{{ImageOnConfigurationPanel.imageSource(PageBuilderBackgroundImagePropertyJpg.fileName)}}" stepKey="seeMainImageSource1"/>
        <seeElement selector="{{ImageOnConfigurationPanel.imagePreview}}" stepKey="seeImageDisplayed1"/>

        <!--Remove uploaded image by TrashBin icon-->
        <click selector="{{ImageOnConfigurationPanel.trashBinIcon}}" stepKey="removeUploadedImage1"/>
        <seeElement selector="{{ImageOnConfigurationPanel.placeholderContent('Background Image')}}" stepKey="seeImagePlaceHolderOnImage2"/>

        <!--Upload image from local machine using image placeholder button-->
        <actionGroup ref="attachFileSlideOutPropertyGeneral" stepKey="attachImageFile2">
            <argument name="property" value="PageBuilderBackgroundImagePropertyJpg"/>
        </actionGroup>
        <waitForLoadingMaskToDisappear stepKey="waitForLoading3" />
        <waitForElementVisible  selector="{{ImageOnConfigurationPanel.imageName(PageBuilderBackgroundImagePropertyJpg.value)}}" stepKey="waitForUploadImage2" />
        <seeElement selector="{{ImageOnConfigurationPanel.imageName(PageBuilderBackgroundImagePropertyJpg.value)}}" stepKey="seeImageNameOnPreview2"/>
        <seeElement selector="{{ImageOnConfigurationPanel.imageSource(PageBuilderBackgroundImagePropertyJpg.fileName)}}" stepKey="seeMainImageSource2"/>
        <seeElement selector="{{ImageOnConfigurationPanel.imagePreview}}" stepKey="seeImageDisplayed2"/>

        <!--Overwrite uploaded image by selecting image from Media Gallery Storage-->
        <click selector="{{ImageOnConfigurationPanel.selectFromGalleryBtn('Background Image')}}" stepKey="clickImageSelectFromGalleryBtn"/>
        <waitForPageLoad stepKey="waitForPageLoad2" />
        <waitForLoadingMaskToDisappear stepKey="waitForLoading2" />
        <actionGroup ref="CreateImageFolder" stepKey="createImageFolder">
            <argument name="ImageFolder" value="ImageFolder"/>
        </actionGroup>
        <actionGroup ref="attachImage" stepKey="SelectImageFromMediaStorage">
            <argument name="Image" value="PageBuilderImagePropertyJpgCopy"/>
        </actionGroup>
        <actionGroup ref="saveImage" stepKey="saveImage"/>
        <seeElement selector="{{ImageOnConfigurationPanel.imageName(PageBuilderImagePropertyJpgCopy.value)}}" stepKey="seeImageNameOnPreview3"/>
        <seeElement selector="{{ImageOnConfigurationPanel.imageSource(PageBuilderImagePropertyJpgCopy.fileName)}}" stepKey="seeMainImageSource3"/>
        <seeElement selector="{{ImageOnConfigurationPanel.trashBinIcon}}" stepKey="seeTrashBinBtn"/>
        <actionGroup ref="saveEditPanelSettings" stepKey="saveEditPanelSettings1"/>
        <actionGroup ref="dragContentBlockToStage" stepKey="dragButtonsOntoStage">
            <argument name="contentBlockType" value="PageBuilderTextContentBlock"/>
        </actionGroup>
        <actionGroup ref="openPageBuilderEditPanel" stepKey="openEditMenuOnStage2">
            <argument name="contentBlockType" value="PageBuilderTextContentBlock"/>
        </actionGroup>
        <fillField selector="{{TextOnConfiguration.textArea}}" userInput="Text from Row" stepKey="addTextToEditor"/>
        <actionGroup ref="saveEditPanelSettings" stepKey="saveEditPanelSettings2"/>
        <click selector="{{BlockNewPagePageActionsSection.saveAndContinueEdit}}" stepKey="saveBlock" />
        <amOnPage url="$$createPreReqCMSPage.identifier$$" stepKey="amOnCMSStorefront" />
        <waitForPageLoad stepKey="waitForContentLoaded"/>
        <seeElement selector="{{ImageOnStorefront.backgroundImageSource(PageBuilderImagePropertyJpgCopy.fileName)}}" stepKey="seeMainImageSource4"/>
    </test>
    <test name="RowUpdateAllBackgroundSectionAttributes">
        <annotations>
            <features value="Pagebuilder: Row"/>
            <stories value="MAGETWO-66349: Bluefoot Row Configuration "/>
            <title value="Row - Update All Background Form Attributes"/>
            <description value="See that the background tab in row form works"/>
            <severity value="CRITICAL"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-row"/>
            <group value="pagebuilder-rowBackground"/>
            <!-- Skipped; see MAGETWO-88218 -->
            <group value="skip"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdmin" stepKey="loginAsAdmin"/>
            <actionGroup ref="EnabledWYSIWYG" stepKey="enableWYSIWYG"/>
            <actionGroup ref="enablePageBuilderSetting" stepKey="enablePageBuilderSetting"/>
            <actionGroup ref="navigateToAPageWithPageBuilder" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="switchToPageBuilderStage" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="DisabledWYSIWYG" stepKey="disableWYSIWYG"/>
            <actionGroup ref="logout" stepKey="logout"/>
        </after>
        <actionGroup ref="addPageBuilderPageTitle" stepKey="enterPageTitle">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="openPageBuilderEditPanel" stepKey="openEditMenuOnStage">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <actionGroup ref="fillSlideOutPanelFieldGeneral" stepKey="enterIdentifierProperty">
            <argument name="property" value="PageBuilderRowBackgroundColor_CCCCCC"/>
        </actionGroup>
        <actionGroup ref="attachFileSlideOutProperty" stepKey="attachPageBuilderFile">
            <argument name="property" value="PageBuilderRowBackgroundImage_MagentoJpg"/>
        </actionGroup>
        <actionGroup ref="selectSlideOutPanelField" stepKey="enterBackgroundPositionProperty">
            <argument name="property" value="PageBuilderRowBackgroundPosition_TopAligned"/>
        </actionGroup>
        <actionGroup ref="selectSlideOutPanelField" stepKey="enterSizeProperty">
            <argument name="property" value="PageBuilderRowBackgroundSize_Cover"/>
        </actionGroup>
        <actionGroup ref="clickSlideOutPanelFieldGeneral" stepKey="clickBackgroundRepeat">
            <argument name="property" value="PageBuilderRowBackgroundRepeat_Enabled"/>
        </actionGroup>
        <actionGroup ref="selectSlideOutPanelField" stepKey="enterAttachmentProperty">
            <argument name="property" value="PageBuilderRowBackgroundAttachment_Fixed"/>
        </actionGroup>
        <actionGroup ref="saveEditPanelSettings" stepKey="saveEditPanelSettings"/>
        <actionGroup ref="saveAndContinueEditCmsPage" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="switchToPageBuilderStage" stepKey="switchToPageBuilderStage"/>
        <!-- Validate Stage -->
        <comment userInput="Validate Stage" stepKey="commentValidateStage"/>
        <waitForElementVisible selector="{{RowOnStage.backgroundColor('1', PageBuilderRowBackgroundColor_CCCCCC.rgb)}}" stepKey="seeBackgroundColorAdminPreview"/>
        <waitForElementVisible selector="{{RowOnStage.backgroundImage('1', PageBuilderRowBackgroundImage_MagentoJpg.baseFileName, PageBuilderRowBackgroundImage_MagentoJpg.fileType)}}" stepKey="seeBackgroundImageAdminPreview"/>
        <waitForElementVisible selector="{{RowOnStage.backgroundPosition('1', PageBuilderRowBackgroundPosition_TopAligned.styleValue)}}" stepKey="seeBackgroundPositionAdminPreview"/>
        <waitForElementVisible selector="{{RowOnStage.backgroundSize('1', PageBuilderRowBackgroundSize_Cover.value)}}" stepKey="seeBackgroundSizeAdminPreview"/>
        <waitForElementVisible selector="{{RowOnStage.backgroundRepeat('1', PageBuilderRowBackgroundRepeat_Enabled.styleValue)}}" stepKey="seeBackgroundRepeatAdminPreview"/>
        <waitForElementVisible selector="{{RowOnStage.backgroundAttachment('1', PageBuilderRowBackgroundAttachment_Fixed.value)}}" stepKey="seeBackgroundAttachmentAdminPreview"/>
        <actionGroup ref="openPageBuilderEditPanel" stepKey="openSavedEditMenuOnStage">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <!-- Validate Edit Panel -->
        <comment userInput="Validate Edit Panel" stepKey="commentValidateEditPanel"/>
        <actionGroup ref="seeInFieldSlideOutProperty" stepKey="validateBackgroundColor">
            <argument name="property" value="PageBuilderRowBackgroundColor_CCCCCC"/>
        </actionGroup>
        <actionGroup ref="seeImageUploadedOnSlideOut" stepKey="validateUploadedImage">
            <argument name="property" value="PageBuilderRowBackgroundImage_MagentoJpg"/>
        </actionGroup>
        <actionGroup ref="seeOptionIsSelectedSlideOutProperty" stepKey="validateBackgroundPosition">
            <argument name="property" value="PageBuilderRowBackgroundPosition_TopAligned"/>
        </actionGroup>
        <actionGroup ref="seeOptionIsSelectedSlideOutProperty" stepKey="validateBackgroundSize">
            <argument name="property" value="PageBuilderRowBackgroundSize_Cover"/>
        </actionGroup>
        <actionGroup ref="seeOptionIsCheckedSlideOutProperty" stepKey="validateBackgroundRepeat">
            <argument name="property" value="PageBuilderRowBackgroundRepeat_Enabled"/>
        </actionGroup>
        <actionGroup ref="seeOptionIsSelectedSlideOutProperty" stepKey="validateBackgroundAttachment">
            <argument name="property" value="PageBuilderRowBackgroundAttachment_Fixed"/>
        </actionGroup>
        <actionGroup ref="navigateToStoreFront" stepKey="navigateToStoreFront">
            <argument name="contentBlockType" value="PageBuilderRowContentBlock"/>
        </actionGroup>
        <!-- Validate Storefront -->
        <comment userInput="Validate Storefront" stepKey="commentValidateStorefront"/>
        <waitForElementVisible selector="{{RowOnStorefront.backgroundColor('1', PageBuilderRowBackgroundColor_CCCCCC.rgb)}}" stepKey="seeBackgroundColorSet"/>
        <waitForElementVisible selector="{{RowOnStorefront.backgroundImage('1', PageBuilderRowBackgroundImage_MagentoJpg.baseFileName, PageBuilderRowBackgroundImage_MagentoJpg.fileType)}}" stepKey="seeBackgroundImageSet"/>
        <waitForElementVisible selector="{{RowOnStorefront.backgroundPosition('1', PageBuilderRowBackgroundPosition_TopAligned.styleValue)}}" stepKey="seeBackgroundPositionSet"/>
        <waitForElementVisible selector="{{RowOnStorefront.backgroundSize('1', PageBuilderRowBackgroundSize_Cover.value)}}" stepKey="seeBackgroundSizeSet"/>
        <waitForElementVisible selector="{{RowOnStorefront.backgroundRepeat('1', PageBuilderRowBackgroundRepeat_Enabled.styleValue)}}" stepKey="seeBackgroundRepeatSet"/>
        <waitForElementVisible selector="{{RowOnStorefront.backgroundAttachment('1', PageBuilderRowBackgroundAttachment_Fixed.value)}}" stepKey="seeBackgroundAttachmentSet"/>
    </test>
</tests>