<?xml version="1.0" encoding="UTF-8"?>
<!--
 /**
  * Copyright Â© Magento, Inc. All rights reserved.
  * See COPYING.txt for license details.
  */
-->

<tests xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:noNamespaceSchemaLocation="urn:magento:mftf:Test/etc/testSchema.xsd">
    <test name="BackgroundColorEmpty">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="Background Form"/>
            <title value="Background Color - Empty"/>
            <description value="Tests that the Background Color attribute functions as expected on Stage and Storefront for Banner for Empty value"/>
            <severity value="MAJOR"/>
            <useCaseId value="MAGETWO-90828"/>
            <testCaseId value="MC-2495"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-banner"/>
            <group value="pagebuilder-backgroundForm"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdminActionGroup" stepKey="loginAsAdmin"/>
            <actionGroup ref="NavigateToAPageWithPageBuilderActionGroup" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="LogoutActionGroup" stepKey="logout"/>
        </after>
        <actionGroup ref="AddPageBuilderPageTitleActionGroup" stepKey="enterPageTitle">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ExpandPageBuilderPanelMenuSectionActionGroup" stepKey="expandPageBuilderPanelMenuSection">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="DragContentTypeToStageActionGroup" stepKey="dragBannerIntoStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <!-- Set Background Color -->
        <comment userInput="Set Background Color" stepKey="commentSetBackgroundColor"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="FillSlideOutPanelFieldGeneralActionGroup" stepKey="enterBackgroundColor">
            <argument name="property" value="PageBuilderBackgroundColor_Empty"/>
        </actionGroup>
        <!-- Fill URL field so it will show on storefront -->
        <actionGroup ref="FillSlideOutPanelLinkUrlFieldActionGroup" stepKey="enterBannerLinkUrl">
            <argument name="property" value="PageBuilderBannerLinkUrlProperty"/>
            <argument name="selection" value="{{ExternalLink.url}}"/>
            <argument name="newTab" value="PageBuilderBannerNewTabProperty"/>
        </actionGroup>
        <actionGroup ref="SaveEditPanelSettingsActionGroup" stepKey="saveEditPanelSettings"/>
        <!-- Stage: Check No Background Color -->
        <comment userInput="Stage: Check No Background Color" stepKey="commentStageCheck"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageOrColorActionGroup" stepKey="validateStage1">
            <argument name="section" value="BannerOnBackend"/>
        </actionGroup>
        <actionGroup ref="SaveAndContinueEditCmsPageActionGroup" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage2"/>
        <!-- Stage: Check No Background Color After Save -->
        <comment userInput="Stage: Check No Background Color After Save" stepKey="commentStageCheckAfterSave"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageOrColorActionGroup" stepKey="validateStage2">
            <argument name="section" value="BannerOnBackend"/>
        </actionGroup>
        <!-- Edit Panel: Check No Background Color -->
        <comment userInput="Edit Panel: Check Background Color" stepKey="commentValidateEditPanel"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage2">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="SeeNoColorInColorSwatchActionGroup" stepKey="validateColorSwatch">
            <argument name="property" value="PageBuilderBackgroundColor_Default"/>
        </actionGroup>
        <actionGroup ref="SeeInFieldSlideOutPropertyActionGroup" stepKey="validateBackgroundColorField">
            <argument name="property" value="PageBuilderBackgroundColor_Empty"/>
        </actionGroup>
        <!-- Storefront: Check No Background Color -->
        <comment userInput="Storefront: Check Background Color" stepKey="commentStorefrontCheck"/>
        <actionGroup ref="NavigateToStoreFrontActionGroup" stepKey="navigateToStoreFront">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageOrColorActionGroup" stepKey="validateStorefront">
            <argument name="section" value="BannerOnFrontend"/>
        </actionGroup>
    </test>
    <test name="BackgroundColorPlainText">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="Background Form"/>
            <title value="Background Color - PlainText"/>
            <description value="Tests that the Background Color attribute functions as expected on Stage and Storefront for Banner for PlainText value"/>
            <severity value="MAJOR"/>
            <useCaseId value="MAGETWO-90828"/>
            <testCaseId value="MC-2791"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-banner"/>
            <group value="pagebuilder-backgroundForm"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdminActionGroup" stepKey="loginAsAdmin"/>
            <actionGroup ref="NavigateToAPageWithPageBuilderActionGroup" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="LogoutActionGroup" stepKey="logout"/>
        </after>
        <actionGroup ref="AddPageBuilderPageTitleActionGroup" stepKey="enterPageTitle">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ExpandPageBuilderPanelMenuSectionActionGroup" stepKey="expandPageBuilderPanelMenuSection">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="DragContentTypeToStageActionGroup" stepKey="dragBannerIntoStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <!-- Set Background Color -->
        <comment userInput="Set Background Color" stepKey="commentSetBackgroundColor"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="FillSlideOutPanelFieldGeneralActionGroup" stepKey="enterBackgroundColor">
            <argument name="property" value="PageBuilderBackgroundColor_Plaintext_Green"/>
        </actionGroup>
        <actionGroup ref="SaveEditPanelSettingsActionGroup" stepKey="saveEditPanelSettings"/>
        <!-- Stage: Check Background Color -->
        <comment userInput="Stage: Check Background Color" stepKey="commentStageCheck"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageActionGroup" stepKey="validateStage1">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundColor" value="PageBuilderBackgroundColor_Plaintext_Green"/>
        </actionGroup>
        <actionGroup ref="SaveAndContinueEditCmsPageActionGroup" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage2"/>
        <!-- Stage: Check Background Color After Save -->
        <comment userInput="Stage: Check Background Color After Save" stepKey="commentStageCheckAfterSave"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageActionGroup" stepKey="validateStage2">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundColor" value="PageBuilderBackgroundColor_Plaintext_Green"/>
        </actionGroup>
        <!-- Edit Panel: Check Background Color -->
        <comment userInput="Edit Panel: Check Background Color" stepKey="commentValidateEditPanel"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage2">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="SeeColorInColorSwatchActionGroup" stepKey="validateBackgroundColorSwatch">
            <argument name="property" value="PageBuilderBackgroundColor_Plaintext_Green"/>
        </actionGroup>
        <actionGroup ref="SeeInFieldSlideOutPropertyAlternateActionGroup" stepKey="validateBackgroundColorField">
            <argument name="property" value="PageBuilderBackgroundColor_Plaintext_Green"/>
        </actionGroup>
        <!-- Storefront: Check Background Color -->
        <comment userInput="Storefront: Check Background Color" stepKey="commentStorefrontCheck"/>
        <actionGroup ref="NavigateToStoreFrontActionGroup" stepKey="navigateToStoreFront">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageActionGroup" stepKey="validateStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundColor" value="PageBuilderBackgroundColor_Plaintext_Green"/>
        </actionGroup>
    </test>
    <test name="BackgroundColorHex">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="Background Form"/>
            <title value="Background Color - Hex"/>
            <description value="Tests that the Background Color attribute functions as expected on Stage and Storefront for Banner for Hex value"/>
            <severity value="MAJOR"/>
            <useCaseId value="MAGETWO-90828"/>
            <testCaseId value="MC-2572"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-banner"/>
            <group value="pagebuilder-backgroundForm"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdminActionGroup" stepKey="loginAsAdmin"/>
            <actionGroup ref="NavigateToAPageWithPageBuilderActionGroup" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="LogoutActionGroup" stepKey="logout"/>
        </after>
        <actionGroup ref="AddPageBuilderPageTitleActionGroup" stepKey="enterPageTitle">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ExpandPageBuilderPanelMenuSectionActionGroup" stepKey="expandPageBuilderPanelMenuSection">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="DragContentTypeToStageActionGroup" stepKey="dragBannerIntoStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <!-- Set Background Color -->
        <comment userInput="Set Background Color" stepKey="commentSetBackgroundColor"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="FillSlideOutPanelFieldGeneralActionGroup" stepKey="enterBackgroundColor">
            <argument name="property" value="PageBuilderBackgroundColor_Hex_White"/>
        </actionGroup>
        <actionGroup ref="SaveEditPanelSettingsActionGroup" stepKey="saveEditPanelSettings"/>
        <!-- Stage: Check Background Color -->
        <comment userInput="Stage: Check Background Color" stepKey="commentStageCheck"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageActionGroup" stepKey="validateStage1">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundColor" value="PageBuilderBackgroundColor_Hex_White"/>
        </actionGroup>
        <actionGroup ref="SaveAndContinueEditCmsPageActionGroup" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage2"/>
        <!-- Stage: Check Background Color After Save -->
        <comment userInput="Stage: Check Background Color After Save" stepKey="commentStageCheckAfterSave"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageActionGroup" stepKey="validateStage2">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundColor" value="PageBuilderBackgroundColor_Hex_White"/>
        </actionGroup>
        <!-- Edit Panel: Check Background Color -->
        <comment userInput="Edit Panel: Check Background Color" stepKey="commentValidateEditPanel"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage2">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="SeeColorInColorSwatchActionGroup" stepKey="validateBackgroundColorSwatch">
            <argument name="property" value="PageBuilderBackgroundColor_Hex_White"/>
        </actionGroup>
        <actionGroup ref="SeeInFieldSlideOutPropertyAlternateActionGroup" stepKey="validateBackgroundColorField">
            <argument name="property" value="PageBuilderBackgroundColor_Hex_White"/>
        </actionGroup>
        <!-- Storefront: Check Background Color -->
        <comment userInput="Storefront: Check Background Color" stepKey="commentStorefrontCheck"/>
        <actionGroup ref="NavigateToStoreFrontActionGroup" stepKey="navigateToStoreFront">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageActionGroup" stepKey="validateStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundColor" value="PageBuilderBackgroundColor_Hex_White"/>
        </actionGroup>
    </test>
    <test name="BackgroundColorRGB">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="Background Form"/>
            <title value="Background Color - RGB"/>
            <description value="Tests that the Background Color attribute functions as expected on Stage and Storefront for Banner for RGB value"/>
            <severity value="MAJOR"/>
            <useCaseId value="MAGETWO-90828"/>
            <testCaseId value="MC-2641"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-banner"/>
            <group value="pagebuilder-backgroundForm"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdminActionGroup" stepKey="loginAsAdmin"/>
            <actionGroup ref="NavigateToAPageWithPageBuilderActionGroup" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="LogoutActionGroup" stepKey="logout"/>
        </after>
        <actionGroup ref="AddPageBuilderPageTitleActionGroup" stepKey="enterPageTitle">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ExpandPageBuilderPanelMenuSectionActionGroup" stepKey="expandPageBuilderPanelMenuSection">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="DragContentTypeToStageActionGroup" stepKey="dragBannerIntoStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <!-- Set Background Color -->
        <comment userInput="Set Background Color" stepKey="commentSetBackgroundColor"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="FillSlideOutPanelFieldGeneralActionGroup" stepKey="enterBackgroundColor">
            <argument name="property" value="PageBuilderBackgroundColor_RGB_Blue"/>
        </actionGroup>
        <actionGroup ref="SaveEditPanelSettingsActionGroup" stepKey="saveEditPanelSettings"/>
        <!-- Stage: Check Background Color -->
        <comment userInput="Stage: Check Background Color" stepKey="commentStageCheck"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageActionGroup" stepKey="validateStage1">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundColor" value="PageBuilderBackgroundColor_RGB_Blue"/>
        </actionGroup>
        <actionGroup ref="SaveAndContinueEditCmsPageActionGroup" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage2"/>
        <!-- Stage: Check Background Color After Save -->
        <comment userInput="Stage: Check Background Color After Save" stepKey="commentStageCheckAfterSave"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageActionGroup" stepKey="validateStage2">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundColor" value="PageBuilderBackgroundColor_RGB_Blue"/>
        </actionGroup>
        <!-- Edit Panel: Check Background Color -->
        <comment userInput="Edit Panel: Check Background Color" stepKey="commentValidateEditPanel"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage2">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="SeeColorInColorSwatchActionGroup" stepKey="validateBackgroundColorSwatch">
            <argument name="property" value="PageBuilderBackgroundColor_RGB_Blue"/>
        </actionGroup>
        <actionGroup ref="SeeInFieldSlideOutPropertyAlternateActionGroup" stepKey="validateBackgroundColorField">
            <argument name="property" value="PageBuilderBackgroundColor_RGB_Blue"/>
        </actionGroup>
        <!-- Storefront: Check Background Color -->
        <comment userInput="Storefront: Check Background Color" stepKey="commentStorefrontCheck"/>
        <actionGroup ref="NavigateToStoreFrontActionGroup" stepKey="navigateToStoreFront">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageActionGroup" stepKey="validateStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundColor" value="PageBuilderBackgroundColor_RGB_Blue"/>
        </actionGroup>
    </test>
    <test name="BackgroundColorRGBa">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="Background Form"/>
            <title value="Background Color - RGBa"/>
            <description value="Tests that the Background Color attribute functions as expected on Stage and Storefront for Banner for RGBa value"/>
            <severity value="MAJOR"/>
            <useCaseId value="MAGETWO-90828"/>
            <testCaseId value="MC-2515"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-banner"/>
            <group value="pagebuilder-backgroundForm"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdminActionGroup" stepKey="loginAsAdmin"/>
            <actionGroup ref="NavigateToAPageWithPageBuilderActionGroup" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="LogoutActionGroup" stepKey="logout"/>
        </after>
        <actionGroup ref="AddPageBuilderPageTitleActionGroup" stepKey="enterPageTitle">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ExpandPageBuilderPanelMenuSectionActionGroup" stepKey="expandPageBuilderPanelMenuSection">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="DragContentTypeToStageActionGroup" stepKey="dragBannerIntoStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <!-- Set Background Color -->
        <comment userInput="Set Background Color" stepKey="commentSetBackgroundColor"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="FillSlideOutPanelFieldGeneralActionGroup" stepKey="enterBackgroundColor">
            <argument name="property" value="PageBuilderBackgroundColor_RGBa_Blue"/>
        </actionGroup>
        <actionGroup ref="SaveEditPanelSettingsActionGroup" stepKey="saveEditPanelSettings"/>
        <!-- Stage: Check Background Color -->
        <comment userInput="Stage: Check Background Color" stepKey="commentStageCheck"/>
        <!-- Not using action group due to open issue for inconsistent background color on Stage in DOM before page save: MAGETWO-90694 -->
        <waitForElementVisible selector="{{BannerOnBackend.base('1')}}" stepKey="waitForBanner"/>
        <waitForElementVisible selector="{{BannerOnBackend.backgroundColor('1', PageBuilderBackgroundColor_RGBa_Blue.value)}}" stepKey="waitForBackgroundColor"/>
        <actionGroup ref="SaveAndContinueEditCmsPageActionGroup" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage2"/>
        <!-- Stage: Check Background Color After Save -->
        <comment userInput="Stage: Check Background Color After Save" stepKey="commentStageCheckAfterSave"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageActionGroup" stepKey="validateStage2">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundColor" value="PageBuilderBackgroundColor_RGBa_Blue"/>
        </actionGroup>
        <!-- Edit Panel: Check Background Color -->
        <comment userInput="Edit Panel: Check Background Color" stepKey="commentValidateEditPanel"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage2">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="SeeColorInColorSwatchActionGroup" stepKey="validateBackgroundColorSwatch">
            <argument name="property" value="PageBuilderBackgroundColor_RGBa_Blue"/>
        </actionGroup>
        <actionGroup ref="SeeInFieldSlideOutPropertyAlternateActionGroup" stepKey="validateBackgroundColorField">
            <argument name="property" value="PageBuilderBackgroundColor_RGBa_Blue"/>
        </actionGroup>
        <!-- Storefront: Check Background Color -->
        <comment userInput="Storefront: Check Background Color" stepKey="commentStorefrontCheck"/>
        <actionGroup ref="NavigateToStoreFrontActionGroup" stepKey="navigateToStoreFront">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <!-- Not using action group due to open issue for inconsistent background color on Storefront in DOM: MAGETWO-90694 -->
        <waitForElementVisible selector="{{BannerOnFrontend.base('1')}}" stepKey="waitForBanner2"/>
        <waitForElementVisible selector="{{BannerOnFrontend.backgroundColor('1', PageBuilderBackgroundColor_RGBa_Blue.value)}}" stepKey="waitForBackgroundColor2"/>
    </test>
    <test name="BackgroundColorHSV">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="Background Form"/>
            <title value="Background Color - HSV"/>
            <description value="Tests that the Background Color attribute functions as expected on Stage and Storefront for Banner for HSV value"/>
            <severity value="MAJOR"/>
            <useCaseId value="MAGETWO-90828"/>
            <testCaseId value="MC-2541"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-banner"/>
            <group value="pagebuilder-backgroundForm"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdminActionGroup" stepKey="loginAsAdmin"/>
            <actionGroup ref="NavigateToAPageWithPageBuilderActionGroup" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="LogoutActionGroup" stepKey="logout"/>
        </after>
        <actionGroup ref="AddPageBuilderPageTitleActionGroup" stepKey="enterPageTitle">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ExpandPageBuilderPanelMenuSectionActionGroup" stepKey="expandPageBuilderPanelMenuSection">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="DragContentTypeToStageActionGroup" stepKey="dragBannerIntoStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <!-- Set Background Color -->
        <comment userInput="Set Background Color" stepKey="commentSetBackgroundColor"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="FillSlideOutPanelFieldGeneralActionGroup" stepKey="enterBackgroundColor">
            <argument name="property" value="PageBuilderBackgroundColor_HSV_Orange"/>
        </actionGroup>
        <actionGroup ref="SaveEditPanelSettingsActionGroup" stepKey="saveEditPanelSettings"/>
        <!-- Stage: Check Background Color -->
        <comment userInput="Stage: Check Background Color" stepKey="commentStageCheck"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageActionGroup" stepKey="validateStage1">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundColor" value="PageBuilderBackgroundColor_HSV_Orange"/>
        </actionGroup>
        <actionGroup ref="SaveAndContinueEditCmsPageActionGroup" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage2"/>
        <!-- Stage: Check Background Color After Save -->
        <comment userInput="Stage: Check Background Color After Save" stepKey="commentStageCheckAfterSave"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageActionGroup" stepKey="validateStage2">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundColor" value="PageBuilderBackgroundColor_HSV_Orange"/>
        </actionGroup>
        <!-- Edit Panel: Check Background Color -->
        <comment userInput="Edit Panel: Check Background Color" stepKey="commentValidateEditPanel"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage2">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="SeeColorInColorSwatchActionGroup" stepKey="validateBackgroundColorSwatch">
            <argument name="property" value="PageBuilderBackgroundColor_HSV_Orange"/>
        </actionGroup>
        <actionGroup ref="SeeInFieldSlideOutPropertyAlternateActionGroup" stepKey="validateBackgroundColorField">
            <argument name="property" value="PageBuilderBackgroundColor_HSV_Orange"/>
        </actionGroup>
        <!-- Storefront: Check Background Color -->
        <comment userInput="Storefront: Check Background Color" stepKey="commentStorefrontCheck"/>
        <actionGroup ref="NavigateToStoreFrontActionGroup" stepKey="navigateToStoreFront">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageActionGroup" stepKey="validateStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundColor" value="PageBuilderBackgroundColor_HSV_Orange"/>
        </actionGroup>
    </test>
    <test name="BackgroundColorHSL">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="Background Form"/>
            <title value="Background Color - HSL"/>
            <description value="Tests that the Background Color attribute functions as expected on Stage and Storefront for Banner for HSL value"/>
            <severity value="MAJOR"/>
            <useCaseId value="MAGETWO-90828"/>
            <testCaseId value="MC-2573"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-banner"/>
            <group value="pagebuilder-backgroundForm"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdminActionGroup" stepKey="loginAsAdmin"/>
            <actionGroup ref="NavigateToAPageWithPageBuilderActionGroup" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="LogoutActionGroup" stepKey="logout"/>
        </after>
        <actionGroup ref="AddPageBuilderPageTitleActionGroup" stepKey="enterPageTitle">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ExpandPageBuilderPanelMenuSectionActionGroup" stepKey="expandPageBuilderPanelMenuSection">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="DragContentTypeToStageActionGroup" stepKey="dragBannerIntoStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <!-- Set Background Color -->
        <comment userInput="Set Background Color" stepKey="commentSetBackgroundColor"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="FillSlideOutPanelFieldGeneralActionGroup" stepKey="enterBackgroundColor">
            <argument name="property" value="PageBuilderBackgroundColor_HSL_Orange"/>
        </actionGroup>
        <actionGroup ref="SaveEditPanelSettingsActionGroup" stepKey="saveEditPanelSettings"/>
        <!-- Stage: Check Background Color -->
        <comment userInput="Stage: Check Background Color" stepKey="commentStageCheck"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageActionGroup" stepKey="validateStage1">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundColor" value="PageBuilderBackgroundColor_HSL_Orange"/>
        </actionGroup>
        <actionGroup ref="SaveAndContinueEditCmsPageActionGroup" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage2"/>
        <!-- Stage: Check Background Color After Save -->
        <comment userInput="Stage: Check Background Color After Save" stepKey="commentStageCheckAfterSave"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageActionGroup" stepKey="validateStage2">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundColor" value="PageBuilderBackgroundColor_HSL_Orange"/>
        </actionGroup>
        <!-- Edit Panel: Check Background Color -->
        <comment userInput="Edit Panel: Check Background Color" stepKey="commentValidateEditPanel"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage2">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="SeeColorInColorSwatchActionGroup" stepKey="validateBackgroundColorSwatch">
            <argument name="property" value="PageBuilderBackgroundColor_HSL_Orange"/>
        </actionGroup>
        <actionGroup ref="SeeInFieldSlideOutPropertyAlternateActionGroup" stepKey="validateBackgroundColorField">
            <argument name="property" value="PageBuilderBackgroundColor_HSL_Orange"/>
        </actionGroup>
        <!-- Storefront: Check Background Color -->
        <comment userInput="Storefront: Check Background Color" stepKey="commentStorefrontCheck"/>
        <actionGroup ref="NavigateToStoreFrontActionGroup" stepKey="navigateToStoreFront">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageActionGroup" stepKey="validateStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundColor" value="PageBuilderBackgroundColor_HSL_Orange"/>
        </actionGroup>
    </test>
    <test name="BackgroundColorInvalid">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="Background Form"/>
            <title value="Background Color - Invalid"/>
            <description value="Tests that the Background Color attribute functions as expected on Stage and Storefront for Banner for Invalid value"/>
            <severity value="MAJOR"/>
            <useCaseId value="MAGETWO-90828"/>
            <testCaseId value="MC-2681"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-banner"/>
            <group value="pagebuilder-backgroundForm"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdminActionGroup" stepKey="loginAsAdmin"/>
            <actionGroup ref="NavigateToAPageWithPageBuilderActionGroup" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="LogoutActionGroup" stepKey="logout"/>
        </after>
        <actionGroup ref="AddPageBuilderPageTitleActionGroup" stepKey="enterPageTitle">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ExpandPageBuilderPanelMenuSectionActionGroup" stepKey="expandPageBuilderPanelMenuSection">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="DragContentTypeToStageActionGroup" stepKey="dragBannerIntoStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <!-- Set Background Color -->
        <comment userInput="Set Background Color" stepKey="commentSetBackgroundColor"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="FillSlideOutPanelFieldGeneralActionGroup" stepKey="enterBackgroundColor">
            <argument name="property" value="PageBuilderBackgroundColor_Invalid"/>
        </actionGroup>
        <actionGroup ref="SaveEditPanelAndValidateFieldErrorActionGroup" stepKey="validateError">
            <argument name="property" value="PageBuilderBackgroundColor_Invalid"/>
        </actionGroup>
        <actionGroup ref="CloseEditPanelSettingsActionGroup" stepKey="closeEditPanelSettings"/>
        <!-- Stage: Check Background Color -->
        <comment userInput="Stage: Check Background Color" stepKey="commentStageCheck"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageOrColorActionGroup" stepKey="validateStage">
            <argument name="section" value="BannerOnBackend"/>
        </actionGroup>
        <!-- Set Valid After Invalid Background Color -->
        <comment userInput="Set Valid After Invalid Background Color" stepKey="commentSetBackgroundColor2"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage2">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="FillSlideOutPanelFieldGeneralActionGroup" stepKey="enterBackgroundColor2">
            <argument name="property" value="PageBuilderBackgroundColor_Invalid"/>
        </actionGroup>
        <actionGroup ref="SaveEditPanelAndValidateFieldErrorActionGroup" stepKey="validateError2">
            <argument name="property" value="PageBuilderBackgroundColor_Invalid"/>
        </actionGroup>
        <actionGroup ref="FillSlideOutPanelFieldGeneralActionGroup" stepKey="enterBackgroundColor3">
            <argument name="property" value="PageBuilderBackgroundColor_Plaintext_Green"/>
        </actionGroup>
        <actionGroup ref="SaveEditPanelSettingsActionGroup" stepKey="saveEditPanelSettings"/>
        <!-- Stage: Check Background Color After Valid Save -->
        <comment userInput="Stage: Check Background Color After Valid Save" stepKey="commentStageCheck2"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageActionGroup" stepKey="validateStage1">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundColor" value="PageBuilderBackgroundColor_Plaintext_Green"/>
        </actionGroup>
    </test>
    <test name="BackgroundImageJPG">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="Background Form"/>
            <title value="Background Image - JPG"/>
            <description value="Tests that the Background Image attribute functions as expected on Stage and Storefront for Banner for JPG file type"/>
            <severity value="MAJOR"/>
            <useCaseId value="MAGETWO-90828"/>
            <testCaseId value="MC-2826"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-banner"/>
            <group value="pagebuilder-backgroundForm"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdminActionGroup" stepKey="loginAsAdmin"/>
            <actionGroup ref="NavigateToAPageWithPageBuilderActionGroup" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="NavigateToMediaGalleryActionGroup" stepKey="navigateToMediaGallery"/>
            <actionGroup ref="NavigateToMediaFolderActionGroup" stepKey="navigateToFolder">
                <argument name="FolderName" value="{{PageBuilderBackgroundImage_JPG.path}}"/>
            </actionGroup>
            <actionGroup ref="DeleteImageFromStorageActionGroup" stepKey="deleteImageFromStorage">
                <argument name="Image" value="PageBuilderBackgroundImage_JPG"/>
            </actionGroup>
            <actionGroup ref="LogoutActionGroup" stepKey="logout"/>
        </after>
        <actionGroup ref="AddPageBuilderPageTitleActionGroup" stepKey="enterPageTitle">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ExpandPageBuilderPanelMenuSectionActionGroup" stepKey="expandPageBuilderPanelMenuSection">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="DragContentTypeToStageActionGroup" stepKey="dragBannerIntoStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <!-- Set Background Image -->
        <comment userInput="Set Background Image" stepKey="commentSetBackgroundImage"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="AttachFileSlideOutPropertyActionGroup" stepKey="attachFileSlideOutProperty">
            <argument name="property" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <actionGroup ref="SaveEditPanelSettingsActionGroup" stepKey="saveEditPanelSettings"/>
        <!-- Stage: Check Background Image -->
        <comment userInput="Stage: Check Background Image" stepKey="commentStageCheck"/>
        <actionGroup ref="ValidateBackgroundImageActionGroup" stepKey="validateImageStage1">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <actionGroup ref="SaveAndContinueEditCmsPageActionGroup" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage2"/>
        <!-- Stage: Check Background Image After Save -->
        <comment userInput="Stage: Check Background Image After Save" stepKey="commentStageCheckAfterSave"/>
        <actionGroup ref="ValidateBackgroundImageActionGroup" stepKey="validateImageStage2">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <!-- Edit Panel: Check Background Image -->
        <comment userInput="Edit Panel: Check Background Image" stepKey="commentValidateEditPanel"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage2">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="SeeImageUploadedOnSlideOutActionGroup" stepKey="validateBackgroundImage">
            <argument name="property" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <!-- Storefront: Check Background Image -->
        <comment userInput="Storefront: Check Background Image" stepKey="commentStorefrontCheck"/>
        <actionGroup ref="NavigateToStoreFrontActionGroup" stepKey="navigateToStoreFront">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageContainerActionGroup" stepKey="validateImageOnStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
    </test>
    <test name="BackgroundImageSelectFromGalleryJPG">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="Background Form"/>
            <title value="Background Image - Select From Gallery JPG"/>
            <description value="Tests that the Background Image attribute functions as expected on Stage and Storefront for Banner for JPG file type by using the Select From Gallery button"/>
            <severity value="MAJOR"/>
            <useCaseId value="MAGETWO-90828"/>
            <testCaseId value="MC-2818"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-banner"/>
            <group value="pagebuilder-backgroundForm"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdminActionGroup" stepKey="loginAsAdmin"/>
            <actionGroup ref="NavigateToAPageWithPageBuilderActionGroup" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="NavigateToMediaGalleryActionGroup" stepKey="navigateToMediaGallery"/>
            <actionGroup ref="NavigateToMediaFolderActionGroup" stepKey="navigateToFolder">
                <argument name="FolderName" value="Storage Root"/>
            </actionGroup>
            <actionGroup ref="DeleteImageFromStorageActionGroup" stepKey="deleteImageFromStorage">
                <argument name="Image" value="PageBuilderBackgroundImageRoot_JPG"/>
            </actionGroup>
            <actionGroup ref="LogoutActionGroup" stepKey="logout"/>
        </after>
        <actionGroup ref="AddPageBuilderPageTitleActionGroup" stepKey="enterPageTitle">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ExpandPageBuilderPanelMenuSectionActionGroup" stepKey="expandPageBuilderPanelMenuSection">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="DragContentTypeToStageActionGroup" stepKey="dragBannerIntoStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <!-- Set Background Image -->
        <comment userInput="Set Background Image" stepKey="commentSetBackgroundImage"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ClickSelectFromGallerySlideOutActionGroup" stepKey="clickSelectFromGallerySlideOut">
            <argument name="property" value="PageBuilderBackgroundImageRoot_JPG"/>
        </actionGroup>
        <actionGroup ref="NavigateToMediaFolderActionGroup" stepKey="navigateToFolder">
            <argument name="FolderName" value="Storage Root"/>
        </actionGroup>
        <actionGroup ref="AttachImageActionGroup" stepKey="selectImageFromMediaStorage">
            <argument name="Image" value="PageBuilderBackgroundImageRoot_JPG"/>
        </actionGroup>
        <actionGroup ref="SaveImageActionGroup" stepKey="saveImage"/>
        <actionGroup ref="SaveEditPanelSettingsActionGroup" stepKey="saveEditPanelSettings"/>
        <!-- Stage: Check Background Image -->
        <comment userInput="Stage: Check Background Image" stepKey="commentStageCheck"/>
        <!-- Note that Base URL is not added to image url in DOM until after page save -->
        <waitForElementVisible selector="{{BannerOnBackend.base('1')}}" stepKey="waitForBaseElement"/>
        <waitForElementVisible selector="{{BannerOnBackend.backgroundImage('1', PageBuilderBackgroundImageRoot_JPG.fileName)}}" stepKey="waitForBackgroundImage"/>
        <grabAttributeFrom selector="{{BannerOnBackend.backgroundImage('1', PageBuilderBackgroundImageRoot_JPG.fileName)}}" userInput="style" stepKey="contentTypeStyle"/>
        <!-- Return the string value of background-image -->
        <executeJS function="return '{$contentTypeStyle}'.match(/((?&lt;=(background-image: url\((&quot;|\'))).+(?=(&quot;|\')\);))/)[0]" stepKey="backgroundImageValue"/>
        <assertRegExp stepKey="assertBackgroundImageContainsFileInformation">
            <expectedResult type="string">/\/pub\/media\/{{PageBuilderBackgroundImageRoot_JPG.fileName}}(_\d+)?\.{{PageBuilderBackgroundImageRoot_JPG.extension}}/</expectedResult>
            <actualResult type="variable">$backgroundImageValue</actualResult>
        </assertRegExp>
        <actionGroup ref="SaveAndContinueEditCmsPageActionGroup" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage2"/>
        <!-- Stage: Check Background Image After Save -->
        <comment userInput="Stage: Check Background Image After Save" stepKey="commentStageCheckAfterSave"/>
        <actionGroup ref="ValidateBackgroundImageActionGroup" stepKey="validateImageStage2">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImageRoot_JPG"/>
        </actionGroup>
        <!-- Edit Panel: Check Background Image -->
        <comment userInput="Edit Panel: Check Background Image" stepKey="commentValidateEditPanel"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage2">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="SeeImageUploadedOnSlideOutActionGroup" stepKey="validateBackgroundImage">
            <argument name="property" value="PageBuilderBackgroundImageRoot_JPG"/>
        </actionGroup>
        <!-- Storefront: Check Background Image -->
        <comment userInput="Storefront: Check Background Image" stepKey="commentStorefrontCheck"/>
        <actionGroup ref="NavigateToStoreFrontActionGroup" stepKey="navigateToStoreFront">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageContainerActionGroup" stepKey="validateImageOnStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImageRoot_JPG"/>
        </actionGroup>
    </test>
    <test name="BackgroundImageGIF">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="Background Form"/>
            <title value="Background Image - GIF"/>
            <description value="Tests that the Background Image attribute functions as expected on Stage and Storefront for Banner for GIF file type"/>
            <severity value="MAJOR"/>
            <useCaseId value="MAGETWO-90828"/>
            <testCaseId value="MC-2702"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-banner"/>
            <group value="pagebuilder-backgroundForm"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdminActionGroup" stepKey="loginAsAdmin"/>
            <actionGroup ref="NavigateToAPageWithPageBuilderActionGroup" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="NavigateToMediaGalleryActionGroup" stepKey="navigateToMediaGallery"/>
            <actionGroup ref="NavigateToMediaFolderActionGroup" stepKey="navigateToFolder">
                <argument name="FolderName" value="{{PageBuilderBackgroundImage_GIF.path}}"/>
            </actionGroup>
            <actionGroup ref="DeleteImageFromStorageActionGroup" stepKey="deleteImageFromStorage">
                <argument name="Image" value="PageBuilderBackgroundImage_GIF"/>
            </actionGroup>
            <actionGroup ref="LogoutActionGroup" stepKey="logout"/>
        </after>
        <actionGroup ref="AddPageBuilderPageTitleActionGroup" stepKey="enterPageTitle">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ExpandPageBuilderPanelMenuSectionActionGroup" stepKey="expandPageBuilderPanelMenuSection">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="DragContentTypeToStageActionGroup" stepKey="dragBannerIntoStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <!-- Set Background Image -->
        <comment userInput="Set Background Image" stepKey="commentSetBackgroundImage"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="AttachFileSlideOutPropertyActionGroup" stepKey="attachFileSlideOutProperty">
            <argument name="property" value="PageBuilderBackgroundImage_GIF"/>
        </actionGroup>
        <actionGroup ref="SaveEditPanelSettingsActionGroup" stepKey="saveEditPanelSettings"/>
        <!-- Stage: Check Background Image -->
        <comment userInput="Stage: Check Background Image" stepKey="commentStageCheck"/>
        <actionGroup ref="ValidateBackgroundImageActionGroup" stepKey="validateImageStage1">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_GIF"/>
        </actionGroup>
        <actionGroup ref="SaveAndContinueEditCmsPageActionGroup" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage2"/>
        <!-- Stage: Check Background Image After Save -->
        <comment userInput="Stage: Check Background Image After Save" stepKey="commentStageCheckAfterSave"/>
        <actionGroup ref="ValidateBackgroundImageActionGroup" stepKey="validateImageStage2">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_GIF"/>
        </actionGroup>
        <!-- Edit Panel: Check Background Image -->
        <comment userInput="Edit Panel: Check Background Image" stepKey="commentValidateEditPanel"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage2">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="SeeImageUploadedOnSlideOutActionGroup" stepKey="validateBackgroundImage">
            <argument name="property" value="PageBuilderBackgroundImage_GIF"/>
        </actionGroup>
        <!-- Storefront: Check Background Image -->
        <comment userInput="Storefront: Check Background Image" stepKey="commentStorefrontCheck"/>
        <actionGroup ref="NavigateToStoreFrontActionGroup" stepKey="navigateToStoreFront">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageContainerActionGroup" stepKey="validateImageOnStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_GIF"/>
        </actionGroup>
    </test>
    <test name="BackgroundImagePNG">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="Background Form"/>
            <title value="Background Image - PNG"/>
            <description value="Tests that the Background Image attribute functions as expected on Stage and Storefront for Banner for PNG file type"/>
            <severity value="MAJOR"/>
            <useCaseId value="MAGETWO-90828"/>
            <testCaseId value="MC-2920"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-banner"/>
            <group value="pagebuilder-backgroundForm"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdminActionGroup" stepKey="loginAsAdmin"/>
            <actionGroup ref="NavigateToAPageWithPageBuilderActionGroup" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="NavigateToMediaGalleryActionGroup" stepKey="navigateToMediaGallery"/>
            <actionGroup ref="NavigateToMediaFolderActionGroup" stepKey="navigateToFolder">
                <argument name="FolderName" value="{{PageBuilderBackgroundImage_PNG.path}}"/>
            </actionGroup>
            <actionGroup ref="DeleteImageFromStorageActionGroup" stepKey="deleteImageFromStorage">
                <argument name="Image" value="PageBuilderBackgroundImage_PNG"/>
            </actionGroup>
            <actionGroup ref="LogoutActionGroup" stepKey="logout"/>
        </after>
        <actionGroup ref="AddPageBuilderPageTitleActionGroup" stepKey="enterPageTitle">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ExpandPageBuilderPanelMenuSectionActionGroup" stepKey="expandPageBuilderPanelMenuSection">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="DragContentTypeToStageActionGroup" stepKey="dragBannerIntoStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <!-- Set Background Image -->
        <comment userInput="Set Background Image" stepKey="commentSetBackgroundImage"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="AttachFileSlideOutPropertyActionGroup" stepKey="attachFileSlideOutProperty">
            <argument name="property" value="PageBuilderBackgroundImage_PNG"/>
        </actionGroup>
        <actionGroup ref="SaveEditPanelSettingsActionGroup" stepKey="saveEditPanelSettings"/>
        <!-- Stage: Check Background Image -->
        <comment userInput="Stage: Check Background Image" stepKey="commentStageCheck"/>
        <actionGroup ref="ValidateBackgroundImageActionGroup" stepKey="validateImageStage1">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_PNG"/>
        </actionGroup>
        <actionGroup ref="SaveAndContinueEditCmsPageActionGroup" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage2"/>
        <!-- Stage: Check Background Image After Save -->
        <comment userInput="Stage: Check Background Image After Save" stepKey="commentStageCheckAfterSave"/>
        <actionGroup ref="ValidateBackgroundImageActionGroup" stepKey="validateImageStage2">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_PNG"/>
        </actionGroup>
        <!-- Edit Panel: Check Background Image -->
        <comment userInput="Edit Panel: Check Background Image" stepKey="commentValidateEditPanel"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage2">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="SeeImageUploadedOnSlideOutActionGroup" stepKey="validateBackgroundImage">
            <argument name="property" value="PageBuilderBackgroundImage_PNG"/>
        </actionGroup>
        <!-- Storefront: Check Background Image -->
        <comment userInput="Storefront: Check Background Image" stepKey="commentStorefrontCheck"/>
        <actionGroup ref="NavigateToStoreFrontActionGroup" stepKey="navigateToStoreFront">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageContainerActionGroup" stepKey="validateImageOnStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_PNG"/>
        </actionGroup>
    </test>
    <test name="BackgroundImageSpecialCharacters">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="Background Form"/>
            <title value="Background Image - Special Characters In File Name"/>
            <description value="Tests that the Background Image attribute functions as expected on Stage and Storefront for Banner for JPG file type with special characters in the name"/>
            <severity value="MAJOR"/>
            <useCaseId value="MAGETWO-90828"/>
            <testCaseId value="MC-2796"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-banner"/>
            <group value="pagebuilder-backgroundForm"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdminActionGroup" stepKey="loginAsAdmin"/>
            <actionGroup ref="NavigateToAPageWithPageBuilderActionGroup" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="NavigateToMediaGalleryActionGroup" stepKey="navigateToMediaGallery"/>
            <actionGroup ref="NavigateToMediaFolderActionGroup" stepKey="navigateToFolder">
                <argument name="FolderName" value="{{PageBuilderBackgroundImage_SpecialCharacters.path}}"/>
            </actionGroup>
            <actionGroup ref="DeleteImageFromStorageActionGroup" stepKey="deleteImageFromStorage">
                <argument name="Image" value="PageBuilderBackgroundImage_SpecialCharacters"/>
            </actionGroup>
            <actionGroup ref="LogoutActionGroup" stepKey="logout"/>
        </after>
        <actionGroup ref="AddPageBuilderPageTitleActionGroup" stepKey="enterPageTitle">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ExpandPageBuilderPanelMenuSectionActionGroup" stepKey="expandPageBuilderPanelMenuSection">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="DragContentTypeToStageActionGroup" stepKey="dragBannerIntoStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <!-- Set Background Image -->
        <comment userInput="Set Background Image" stepKey="commentSetBackgroundImage"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="AttachFileSlideOutPropertyActionGroup" stepKey="attachFileSlideOutProperty">
            <argument name="property" value="PageBuilderBackgroundImage_SpecialCharacters"/>
        </actionGroup>
        <actionGroup ref="SaveEditPanelSettingsActionGroup" stepKey="saveEditPanelSettings"/>
        <!-- Stage: Check Background Image -->
        <comment userInput="Stage: Check Background Image" stepKey="commentStageCheck"/>
        <actionGroup ref="ValidateBackgroundImageActionGroup" stepKey="validateImageStage1">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_SpecialCharacters"/>
        </actionGroup>
        <actionGroup ref="SaveAndContinueEditCmsPageActionGroup" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage2"/>
        <!-- Stage: Check Background Image After Save -->
        <comment userInput="Stage: Check Background Image After Save" stepKey="commentStageCheckAfterSave"/>
        <actionGroup ref="ValidateBackgroundImageActionGroup" stepKey="validateImageStage2">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_SpecialCharacters"/>
        </actionGroup>
        <!-- Edit Panel: Check Background Image -->
        <comment userInput="Edit Panel: Check Background Image" stepKey="commentValidateEditPanel"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage2">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="SeeImageUploadedOnSlideOutActionGroup" stepKey="validateBackgroundImage">
            <argument name="property" value="PageBuilderBackgroundImage_SpecialCharacters"/>
        </actionGroup>
        <!-- Storefront: Check Background Image -->
        <comment userInput="Storefront: Check Background Image" stepKey="commentStorefrontCheck"/>
        <actionGroup ref="NavigateToStoreFrontActionGroup" stepKey="navigateToStoreFront">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageContainerActionGroup" stepKey="validateImageOnStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_SpecialCharacters"/>
        </actionGroup>
    </test>
    <test name="BackgroundImageInvalidFileType">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="Background Form"/>
            <title value="Background Image - Invalid File Type"/>
            <description value="Tests that the Background Image attribute functions as expected for invalid file type"/>
            <severity value="MAJOR"/>
            <useCaseId value="MAGETWO-90828"/>
            <testCaseId value="MC-2806"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-banner"/>
            <group value="pagebuilder-backgroundForm"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdminActionGroup" stepKey="loginAsAdmin"/>
            <actionGroup ref="NavigateToAPageWithPageBuilderActionGroup" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="NavigateToMediaGalleryActionGroup" stepKey="navigateToMediaGallery"/>
            <actionGroup ref="NavigateToMediaFolderActionGroup" stepKey="navigateToFolder">
                <argument name="FolderName" value="{{PageBuilderBackgroundImage_JPG.path}}"/>
            </actionGroup>
            <actionGroup ref="DeleteImageFromStorageActionGroup" stepKey="deleteImageFromStorage">
                <argument name="Image" value="PageBuilderBackgroundImage_JPG"/>
            </actionGroup>
            <actionGroup ref="LogoutActionGroup" stepKey="logout"/>
        </after>
        <actionGroup ref="AddPageBuilderPageTitleActionGroup" stepKey="enterPageTitle">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ExpandPageBuilderPanelMenuSectionActionGroup" stepKey="expandPageBuilderPanelMenuSection">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="DragContentTypeToStageActionGroup" stepKey="dragBannerIntoStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <!-- Set Invalid Background Image -->
        <comment userInput="Set Invalid Background Image" stepKey="commentSetInvalidBackgroundImage"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="AttachInvalidFileOnSlideOutActionGroup" stepKey="attachInvalidFileOnSlideOut">
            <argument name="property" value="PageBuilderBackgroundImage_InvalidFileType"/>
        </actionGroup>
        <actionGroup ref="CloseEditPanelSettingsActionGroup" stepKey="closeEditPanelSettings"/>
        <!-- Stage: Check No Background Image -->
        <comment userInput="Stage: Check No Background Image" stepKey="commentStageCheck1"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageOrColorActionGroup" stepKey="validateStage">
            <argument name="section" value="BannerOnBackend"/>
        </actionGroup>
        <!-- Set Valid After Invalid Background Image -->
        <comment userInput="Set Valid After Invalid Background Image" stepKey="commentSetBackgroundImage"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage2">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <!-- Set Valid Background Image -->
        <comment userInput="Set Valid Background Image" stepKey="commentSetValidBackgroundImage"/>
        <actionGroup ref="AttachInvalidFileOnSlideOutActionGroup" stepKey="attachInvalidFileOnSlideOut2">
            <argument name="property" value="PageBuilderBackgroundImage_InvalidFileType"/>
        </actionGroup>
        <actionGroup ref="AttachFileSlideOutPropertyActionGroup" stepKey="attachValidFileOnSlideOut">
            <argument name="property" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <actionGroup ref="SaveEditPanelSettingsActionGroup" stepKey="saveEditPanelSettings"/>
        <!-- Stage: Check Background Image -->
        <comment userInput="Stage: Check Background Image" stepKey="commentStageCheck2"/>
        <actionGroup ref="ValidateBackgroundImageActionGroup" stepKey="validateImageStage">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
    </test>
    <test name="BackgroundImageInvalidFileSize">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="Background Form"/>
            <title value="Background Image - Invalid File Size"/>
            <description value="Tests that the Background Image attribute functions as expected for file size >2MB"/>
            <severity value="MAJOR"/>
            <useCaseId value="MAGETWO-90828"/>
            <testCaseId value="MC-2864"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-banner"/>
            <group value="pagebuilder-backgroundForm"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdminActionGroup" stepKey="loginAsAdmin"/>
            <actionGroup ref="NavigateToAPageWithPageBuilderActionGroup" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="NavigateToMediaGalleryActionGroup" stepKey="navigateToMediaGallery"/>
            <actionGroup ref="NavigateToMediaFolderActionGroup" stepKey="navigateToFolder">
                <argument name="FolderName" value="{{PageBuilderBackgroundImage_JPG.path}}"/>
            </actionGroup>
            <actionGroup ref="DeleteImageFromStorageActionGroup" stepKey="deleteImageFromStorage">
                <argument name="Image" value="PageBuilderBackgroundImage_JPG"/>
            </actionGroup>
            <actionGroup ref="LogoutActionGroup" stepKey="logout"/>
        </after>
        <actionGroup ref="AddPageBuilderPageTitleActionGroup" stepKey="enterPageTitle">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ExpandPageBuilderPanelMenuSectionActionGroup" stepKey="expandPageBuilderPanelMenuSection">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="DragContentTypeToStageActionGroup" stepKey="dragBannerIntoStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <!-- Set Invalid Background Image -->
        <comment userInput="Set Invalid Background Image" stepKey="commentSetInvalidBackgroundImage"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="AttachInvalidFileOnSlideOutActionGroup" stepKey="attachInvalidFileOnSlideOut">
            <argument name="property" value="PageBuilderBackgroundImage_LargerThan2MB"/>
        </actionGroup>
        <actionGroup ref="CloseEditPanelSettingsActionGroup" stepKey="closeEditPanelSettings"/>
        <!-- Stage: Check No Background Image -->
        <comment userInput="Stage: Check No Background Image" stepKey="commentStageCheck1"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageOrColorActionGroup" stepKey="validateStage">
            <argument name="section" value="BannerOnBackend"/>
        </actionGroup>
        <!-- Set Valid After Invalid Background Image -->
        <comment userInput="Set Valid After Invalid Background Image" stepKey="commentSetBackgroundImage"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage2">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <!-- Set Valid Background Image -->
        <comment userInput="Set Valid Background Image" stepKey="commentSetValidBackgroundImage"/>
        <actionGroup ref="AttachInvalidFileOnSlideOutActionGroup" stepKey="attachInvalidFileOnSlideOut2">
            <argument name="property" value="PageBuilderBackgroundImage_LargerThan2MB"/>
        </actionGroup>
        <actionGroup ref="AttachFileSlideOutPropertyActionGroup" stepKey="attachValidFileOnSlideOut">
            <argument name="property" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <actionGroup ref="SaveEditPanelSettingsActionGroup" stepKey="saveEditPanelSettings"/>
        <!-- Stage: Check Background Image -->
        <comment userInput="Stage: Check Background Image" stepKey="commentStageCheck2"/>
        <actionGroup ref="ValidateBackgroundImageActionGroup" stepKey="validateImageStage">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
    </test>
    <test name="BackgroundImageInvalidMimeType" extends="BackgroundImageInvalidFileSize">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="Background Form"/>
            <title value="Background Image - Invalid Mime Type"/>
            <description value="Tests that the Background Image attribute functions as expected for files with correct extension but invalid mime type"/>
            <severity value="CRITICAL"/>
            <useCaseId value="MC-5054"/>
            <testCaseId value="MC-5071"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-banner"/>
            <group value="pagebuilder-backgroundForm"/>
        </annotations>
        <actionGroup ref="AttachInvalidFileOnSlideOutActionGroup" stepKey="attachInvalidFileOnSlideOut">
            <argument name="property" value="PageBuilderBackgroundImage_InvalidMimeType"/>
        </actionGroup>
        <actionGroup ref="AttachInvalidFileOnSlideOutActionGroup" stepKey="attachInvalidFileOnSlideOut2">
            <argument name="property" value="PageBuilderBackgroundImage_InvalidMimeType"/>
        </actionGroup>
    </test>
    <test name="BackgroundMobileImageJPG">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="Background Form"/>
            <title value="Background Mobile Image - JPG"/>
            <description value="Tests that the Background Mobile Image attribute functions as expected on Stage and Storefront for Banner for JPG file type"/>
            <severity value="MAJOR"/>
            <useCaseId value="MAGETWO-90828"/>
            <testCaseId value="MC-2728"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-banner"/>
            <group value="pagebuilder-backgroundForm"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdminActionGroup" stepKey="loginAsAdmin"/>
            <actionGroup ref="NavigateToAPageWithPageBuilderActionGroup" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <resizeWindow width="1280" height="1024" stepKey="resizeWindowToDesktop"/>
            <actionGroup ref="NavigateToMediaGalleryActionGroup" stepKey="navigateToMediaGallery"/>
            <actionGroup ref="NavigateToMediaFolderActionGroup" stepKey="navigateToFolder">
                <argument name="FolderName" value="{{PageBuilderBackgroundMobileImage_JPG.path}}"/>
            </actionGroup>
            <actionGroup ref="DeleteImageFromStorageActionGroup" stepKey="deleteImageFromStorage">
                <argument name="Image" value="PageBuilderBackgroundMobileImage_JPG"/>
            </actionGroup>
            <actionGroup ref="LogoutActionGroup" stepKey="logout"/>
        </after>
        <actionGroup ref="AddPageBuilderPageTitleActionGroup" stepKey="enterPageTitle">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ExpandPageBuilderPanelMenuSectionActionGroup" stepKey="expandPageBuilderPanelMenuSection">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="DragContentTypeToStageActionGroup" stepKey="dragBannerIntoStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <!-- Set Mobile Background Image -->
        <comment userInput="Set Mobile Background Image" stepKey="commentSetBackgroundImage"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="AttachFileSlideOutPropertyActionGroup" stepKey="attachFileSlideOutProperty">
            <argument name="property" value="PageBuilderBackgroundMobileImage_JPG"/>
        </actionGroup>
        <!-- Fill URL field so it will show on storefront -->
        <actionGroup ref="FillSlideOutPanelLinkUrlFieldActionGroup" stepKey="enterBannerLinkUrl">
            <argument name="property" value="PageBuilderBannerLinkUrlProperty"/>
            <argument name="selection" value="{{ExternalLink.url}}"/>
            <argument name="newTab" value="PageBuilderBannerNewTabProperty"/>
        </actionGroup>
        <actionGroup ref="SaveEditPanelSettingsActionGroup" stepKey="saveEditPanelSettings"/>
        <!-- Stage: Check No Mobile Background Image -->
        <comment userInput="Stage: Check No Mobile Background Image" stepKey="commentStageCheck"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageOrColorActionGroup" stepKey="validateNoImageStage1">
            <argument name="section" value="BannerOnBackend"/>
        </actionGroup>
        <actionGroup ref="SaveAndContinueEditCmsPageActionGroup" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage2"/>
        <!-- Stage: Check No Mobile Background Image After Save -->
        <comment userInput="Stage: Check No Mobile Background Image After Save" stepKey="commentStageCheckAfterSave"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageOrColorActionGroup" stepKey="validateNoImageStage2">
            <argument name="section" value="BannerOnBackend"/>
        </actionGroup>
        <!-- Edit Panel: Check Mobile Background Image -->
        <comment userInput="Edit Panel: Check Mobile Background Image" stepKey="commentValidateEditPanel"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage2">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="SeeImageUploadedOnSlideOutActionGroup" stepKey="validateBackgroundMobileImage">
            <argument name="property" value="PageBuilderBackgroundMobileImage_JPG"/>
        </actionGroup>
        <actionGroup ref="NavigateToStoreFrontActionGroup" stepKey="navigateToStoreFront">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <!-- Storefront: Check Mobile Background Image -->
        <comment userInput="Storefront: Check Mobile Background Image" stepKey="commentStorefrontCheck"/>
        <resizeWindow width="767" height="1000" stepKey="resizeWindowToMobile"/>
        <actionGroup ref="ValidateBackgroundImageContainerActionGroup" stepKey="validateImageOnStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundMobileImage_JPG"/>
        </actionGroup>
    </test>
    <test name="BackgroundMobileImageSelectFromGalleryJPG">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="Background Form"/>
            <title value="Background Mobile Image - Select From Gallery JPG"/>
            <description value="Tests that the Background Mobile Image attribute functions as expected on Stage and Storefront for Banner for JPG file type by using the Select From Gallery button"/>
            <severity value="MAJOR"/>
            <useCaseId value="MAGETWO-90828"/>
            <testCaseId value="MC-2829"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-banner"/>
            <group value="pagebuilder-backgroundForm"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdminActionGroup" stepKey="loginAsAdmin"/>
            <actionGroup ref="NavigateToAPageWithPageBuilderActionGroup" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <resizeWindow width="1280" height="1024" stepKey="resizeWindowToDesktop"/>
            <actionGroup ref="NavigateToMediaGalleryActionGroup" stepKey="navigateToMediaGallery"/>
            <actionGroup ref="NavigateToMediaFolderActionGroup" stepKey="navigateToFolder">
                <argument name="FolderName" value="Storage Root"/>
            </actionGroup>
            <actionGroup ref="DeleteImageFromStorageActionGroup" stepKey="deleteImageFromStorage">
                <argument name="Image" value="PageBuilderBackgroundMobileImageRoot_JPG"/>
            </actionGroup>
            <actionGroup ref="LogoutActionGroup" stepKey="logout"/>
        </after>
        <actionGroup ref="AddPageBuilderPageTitleActionGroup" stepKey="enterPageTitle">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ExpandPageBuilderPanelMenuSectionActionGroup" stepKey="expandPageBuilderPanelMenuSection">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="DragContentTypeToStageActionGroup" stepKey="dragBannerIntoStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <!-- Set Mobile Background Image -->
        <comment userInput="Set Mobile Background Image" stepKey="commentSetBackgroundImage"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ClickSelectFromGallerySlideOutActionGroup" stepKey="clickSelectFromGallerySlideOut">
            <argument name="property" value="PageBuilderBackgroundMobileImageRoot_JPG"/>
        </actionGroup>
        <actionGroup ref="NavigateToMediaFolderActionGroup" stepKey="navigateToFolder">
            <argument name="FolderName" value="Storage Root"/>
        </actionGroup>
        <actionGroup ref="AttachImageActionGroup" stepKey="selectImageFromMediaStorage">
            <argument name="Image" value="PageBuilderBackgroundMobileImageRoot_JPG"/>
        </actionGroup>
        <actionGroup ref="SaveImageActionGroup" stepKey="saveImage"/>
        <!-- Fill URL field so it will show on storefront -->
        <actionGroup ref="FillSlideOutPanelLinkUrlFieldActionGroup" stepKey="enterBannerLinkUrl">
            <argument name="property" value="PageBuilderBannerLinkUrlProperty"/>
            <argument name="selection" value="{{ExternalLink.url}}"/>
            <argument name="newTab" value="PageBuilderBannerNewTabProperty"/>
        </actionGroup>
        <actionGroup ref="SaveEditPanelSettingsActionGroup" stepKey="saveEditPanelSettings"/>
        <!-- Stage: Check No Mobile Background Image -->
        <comment userInput="Stage: Check No Mobile Background Image" stepKey="commentStageCheck"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageOrColorActionGroup" stepKey="validateNoImageStage1">
            <argument name="section" value="BannerOnBackend"/>
        </actionGroup>
        <actionGroup ref="SaveAndContinueEditCmsPageActionGroup" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage2"/>
        <!-- Stage: Check No Mobile Background Image After Save -->
        <comment userInput="Stage: Check No Mobile Background Image After Save" stepKey="commentStageCheckAfterSave"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageOrColorActionGroup" stepKey="validateNoImageStage2">
            <argument name="section" value="BannerOnBackend"/>
        </actionGroup>
        <!-- Edit Panel: Check Mobile Background Image -->
        <comment userInput="Edit Panel: Check Mobile Background Image" stepKey="commentValidateEditPanel"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage2">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="SeeImageUploadedOnSlideOutActionGroup" stepKey="validateBackgroundMobileImage">
            <argument name="property" value="PageBuilderBackgroundMobileImageRoot_JPG"/>
        </actionGroup>
        <!-- Storefront: Check Mobile Background Image -->
        <comment userInput="Storefront: Check Mobile Background Image" stepKey="commentStorefrontCheck"/>
        <resizeWindow width="767" height="1000" stepKey="resizeWindowToMobile"/>
        <actionGroup ref="NavigateToStoreFrontActionGroup" stepKey="navigateToStoreFront">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageContainerActionGroup" stepKey="validateImageOnStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundMobileImageRoot_JPG"/>
        </actionGroup>
    </test>
    <test name="BackgroundMobileImageGIF">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="Background Form"/>
            <title value="Background Mobile Image - GIF"/>
            <description value="Tests that the Background Mobile Image attribute functions as expected on Stage and Storefront for Banner for GIF file type"/>
            <severity value="MAJOR"/>
            <useCaseId value="MAGETWO-90828"/>
            <testCaseId value="MC-2737"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-banner"/>
            <group value="pagebuilder-backgroundForm"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdminActionGroup" stepKey="loginAsAdmin"/>
            <actionGroup ref="NavigateToAPageWithPageBuilderActionGroup" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <resizeWindow width="1280" height="1024" stepKey="resizeWindowToDesktop"/>
            <actionGroup ref="NavigateToMediaGalleryActionGroup" stepKey="navigateToMediaGallery"/>
            <actionGroup ref="NavigateToMediaFolderActionGroup" stepKey="navigateToFolder">
                <argument name="FolderName" value="{{PageBuilderBackgroundMobileImage_GIF.path}}"/>
            </actionGroup>
            <actionGroup ref="DeleteImageFromStorageActionGroup" stepKey="deleteImageFromStorage">
                <argument name="Image" value="PageBuilderBackgroundMobileImage_GIF"/>
            </actionGroup>
            <actionGroup ref="LogoutActionGroup" stepKey="logout"/>
        </after>
        <actionGroup ref="AddPageBuilderPageTitleActionGroup" stepKey="enterPageTitle">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ExpandPageBuilderPanelMenuSectionActionGroup" stepKey="expandPageBuilderPanelMenuSection">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="DragContentTypeToStageActionGroup" stepKey="dragBannerIntoStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <!-- Set Mobile Background Image -->
        <comment userInput="Set Mobile Background Image" stepKey="commentSetBackgroundImage"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="AttachFileSlideOutPropertyActionGroup" stepKey="attachFileSlideOutProperty">
            <argument name="property" value="PageBuilderBackgroundMobileImage_GIF"/>
        </actionGroup>
        <!-- Fill URL field so it will show on storefront -->
        <actionGroup ref="FillSlideOutPanelLinkUrlFieldActionGroup" stepKey="enterBannerLinkUrl">
            <argument name="property" value="PageBuilderBannerLinkUrlProperty"/>
            <argument name="selection" value="{{ExternalLink.url}}"/>
            <argument name="newTab" value="PageBuilderBannerNewTabProperty"/>
        </actionGroup>
        <actionGroup ref="SaveEditPanelSettingsActionGroup" stepKey="saveEditPanelSettings"/>
        <!-- Stage: Check No Mobile Background Image -->
        <comment userInput="Stage: Check No Mobile Background Image" stepKey="commentStageCheck"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageOrColorActionGroup" stepKey="validateNoImageStage1">
            <argument name="section" value="BannerOnBackend"/>
        </actionGroup>
        <actionGroup ref="SaveAndContinueEditCmsPageActionGroup" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage2"/>
        <!-- Stage: Check No Mobile Background Image After Save -->
        <comment userInput="Stage: Check No Mobile Background Image After Save" stepKey="commentStageCheckAfterSave"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageOrColorActionGroup" stepKey="validateNoImageStage2">
            <argument name="section" value="BannerOnBackend"/>
        </actionGroup>
        <!-- Edit Panel: Check Mobile Background Image -->
        <comment userInput="Edit Panel: Check Mobile Background Image" stepKey="commentValidateEditPanel"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage2">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="SeeImageUploadedOnSlideOutActionGroup" stepKey="validateBackgroundMobileImage">
            <argument name="property" value="PageBuilderBackgroundMobileImage_GIF"/>
        </actionGroup>
        <!-- Storefront: Check Mobile Background Image -->
        <comment userInput="Storefront: Check Mobile Background Image" stepKey="commentStorefrontCheck"/>
        <actionGroup ref="NavigateToStoreFrontActionGroup" stepKey="navigateToStoreFront">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <resizeWindow width="767" height="1000" stepKey="resizeWindowToMobile"/>
        <actionGroup ref="ValidateBackgroundImageContainerActionGroup" stepKey="validateImageOnStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundMobileImage_GIF"/>
        </actionGroup>
    </test>
    <test name="BackgroundMobileImagePNG">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="Background Form"/>
            <title value="Background Mobile Image - PNG"/>
            <description value="Tests that the Background Mobile Image attribute functions as expected on Stage and Storefront for Banner for PNG file type"/>
            <severity value="MAJOR"/>
            <useCaseId value="MAGETWO-90828"/>
            <testCaseId value="MC-2674"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-banner"/>
            <group value="pagebuilder-backgroundForm"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdminActionGroup" stepKey="loginAsAdmin"/>
            <actionGroup ref="NavigateToAPageWithPageBuilderActionGroup" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <resizeWindow width="1280" height="1024" stepKey="resizeWindowToDesktop"/>
            <actionGroup ref="NavigateToMediaGalleryActionGroup" stepKey="navigateToMediaGallery"/>
            <actionGroup ref="NavigateToMediaFolderActionGroup" stepKey="navigateToFolder">
                <argument name="FolderName" value="{{PageBuilderBackgroundMobileImage_PNG.path}}"/>
            </actionGroup>
            <actionGroup ref="DeleteImageFromStorageActionGroup" stepKey="deleteImageFromStorage">
                <argument name="Image" value="PageBuilderBackgroundMobileImage_PNG"/>
            </actionGroup>
            <actionGroup ref="LogoutActionGroup" stepKey="logout"/>
        </after>
        <actionGroup ref="AddPageBuilderPageTitleActionGroup" stepKey="enterPageTitle">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ExpandPageBuilderPanelMenuSectionActionGroup" stepKey="expandPageBuilderPanelMenuSection">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="DragContentTypeToStageActionGroup" stepKey="dragBannerIntoStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <!-- Set Mobile Background Image -->
        <comment userInput="Set Mobile Background Image" stepKey="commentSetBackgroundImage"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="AttachFileSlideOutPropertyActionGroup" stepKey="attachFileSlideOutProperty">
            <argument name="property" value="PageBuilderBackgroundMobileImage_PNG"/>
        </actionGroup>
        <!-- Fill URL field so it will show on storefront -->
        <actionGroup ref="FillSlideOutPanelLinkUrlFieldActionGroup" stepKey="enterBannerLinkUrl">
            <argument name="property" value="PageBuilderBannerLinkUrlProperty"/>
            <argument name="selection" value="{{ExternalLink.url}}"/>
            <argument name="newTab" value="PageBuilderBannerNewTabProperty"/>
        </actionGroup>
        <actionGroup ref="SaveEditPanelSettingsActionGroup" stepKey="saveEditPanelSettings"/>
        <!-- Stage: Check No Mobile Background Image -->
        <comment userInput="Stage: Check No Mobile Background Image" stepKey="commentStageCheck"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageOrColorActionGroup" stepKey="validateNoImageStage1">
            <argument name="section" value="BannerOnBackend"/>
        </actionGroup>
        <actionGroup ref="SaveAndContinueEditCmsPageActionGroup" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage2"/>
        <!-- Stage: Check No Mobile Background Image After Save -->
        <comment userInput="Stage: Check No Mobile Background Image After Save" stepKey="commentStageCheckAfterSave"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageOrColorActionGroup" stepKey="validateNoImageStage2">
            <argument name="section" value="BannerOnBackend"/>
        </actionGroup>
        <!-- Edit Panel: Check Mobile Background Image -->
        <comment userInput="Edit Panel: Check Mobile Background Image" stepKey="commentValidateEditPanel"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage2">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="SeeImageUploadedOnSlideOutActionGroup" stepKey="validateBackgroundMobileImage">
            <argument name="property" value="PageBuilderBackgroundMobileImage_PNG"/>
        </actionGroup>
        <actionGroup ref="NavigateToStoreFrontActionGroup" stepKey="navigateToStoreFront">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <!-- Storefront: Check Mobile Background Image -->
        <comment userInput="Storefront: Check Mobile Background Image" stepKey="commentStorefrontCheck"/>
        <resizeWindow width="767" height="1000" stepKey="resizeWindowToMobile"/>
        <actionGroup ref="ValidateBackgroundImageContainerActionGroup" stepKey="validateImageOnStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_PNG"/>
        </actionGroup>
    </test>
    <test name="BackgroundMobileImageSpecialCharacters">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="Background Form"/>
            <title value="Background Mobile Image - Special Characters In File Name"/>
            <description value="Tests that the Background Mobile Image attribute functions as expected on Stage and Storefront for Banner for JPG file type with special characters in the name"/>
            <severity value="MAJOR"/>
            <useCaseId value="MAGETWO-90828"/>
            <testCaseId value="MC-2735"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-banner"/>
            <group value="pagebuilder-backgroundForm"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdminActionGroup" stepKey="loginAsAdmin"/>
            <actionGroup ref="NavigateToAPageWithPageBuilderActionGroup" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <resizeWindow width="1280" height="1024" stepKey="resizeWindowToDesktop"/>
            <actionGroup ref="NavigateToMediaGalleryActionGroup" stepKey="navigateToMediaGallery"/>
            <actionGroup ref="NavigateToMediaFolderActionGroup" stepKey="navigateToFolder">
                <argument name="FolderName" value="{{PageBuilderBackgroundMobileImage_SpecialCharacters.path}}"/>
            </actionGroup>
            <actionGroup ref="DeleteImageFromStorageActionGroup" stepKey="deleteImageFromStorage">
                <argument name="Image" value="PageBuilderBackgroundMobileImage_SpecialCharacters"/>
            </actionGroup>
            <actionGroup ref="LogoutActionGroup" stepKey="logout"/>
        </after>
        <actionGroup ref="AddPageBuilderPageTitleActionGroup" stepKey="enterPageTitle">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ExpandPageBuilderPanelMenuSectionActionGroup" stepKey="expandPageBuilderPanelMenuSection">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="DragContentTypeToStageActionGroup" stepKey="dragBannerIntoStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <!-- Set Mobile Background Image -->
        <comment userInput="Set Mobile Background Image" stepKey="commentSetBackgroundImage"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="AttachFileSlideOutPropertyActionGroup" stepKey="attachFileSlideOutProperty">
            <argument name="property" value="PageBuilderBackgroundMobileImage_SpecialCharacters"/>
        </actionGroup>
        <!-- Fill URL field so it will show on storefront -->
        <actionGroup ref="FillSlideOutPanelLinkUrlFieldActionGroup" stepKey="enterBannerLinkUrl">
            <argument name="property" value="PageBuilderBannerLinkUrlProperty"/>
            <argument name="selection" value="{{ExternalLink.url}}"/>
            <argument name="newTab" value="PageBuilderBannerNewTabProperty"/>
        </actionGroup>
        <actionGroup ref="SaveEditPanelSettingsActionGroup" stepKey="saveEditPanelSettings"/>
        <!-- Stage: Check No Mobile Background Image -->
        <comment userInput="Stage: Check No Mobile Background Image" stepKey="commentStageCheck"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageOrColorActionGroup" stepKey="validateNoImageStage1">
            <argument name="section" value="BannerOnBackend"/>
        </actionGroup>
        <actionGroup ref="SaveAndContinueEditCmsPageActionGroup" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage2"/>
        <!-- Stage: Check No Mobile Background Image After Save -->
        <comment userInput="Stage: Check No Mobile Background Image After Save" stepKey="commentStageCheckAfterSave"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageOrColorActionGroup" stepKey="validateNoImageStage2">
            <argument name="section" value="BannerOnBackend"/>
        </actionGroup>
        <!-- Edit Panel: Check Mobile Background Image -->
        <comment userInput="Edit Panel: Check Mobile Background Image" stepKey="commentValidateEditPanel"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage2">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="SeeImageUploadedOnSlideOutActionGroup" stepKey="validateBackgroundMobileImage">
            <argument name="property" value="PageBuilderBackgroundMobileImage_SpecialCharacters"/>
        </actionGroup>
        <!-- Storefront: Check Mobile Background Image -->
        <comment userInput="Storefront: Check Mobile Background Image" stepKey="commentStorefrontCheck"/>
        <actionGroup ref="NavigateToStoreFrontActionGroup" stepKey="navigateToStoreFront">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <resizeWindow width="767" height="1000" stepKey="resizeWindowToMobile"/>
        <actionGroup ref="ValidateBackgroundImageContainerActionGroup" stepKey="validateImageOnStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundMobileImage_SpecialCharacters"/>
        </actionGroup>
    </test>
    <test name="BackgroundMobileImageInvalidFileType">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="Background Form"/>
            <title value="Background Mobile Image - Invalid File Type"/>
            <description value="Tests that the Background Mobile Image attribute functions as expected for invalid file type"/>
            <severity value="MAJOR"/>
            <useCaseId value="MAGETWO-90828"/>
            <testCaseId value="MC-2521"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-banner"/>
            <group value="pagebuilder-backgroundForm"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdminActionGroup" stepKey="loginAsAdmin"/>
            <actionGroup ref="NavigateToAPageWithPageBuilderActionGroup" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <resizeWindow width="1280" height="1024" stepKey="resizeWindowToDesktop"/>
            <actionGroup ref="NavigateToMediaGalleryActionGroup" stepKey="navigateToMediaGallery"/>
            <actionGroup ref="NavigateToMediaFolderActionGroup" stepKey="navigateToFolder">
                <argument name="FolderName" value="{{PageBuilderBackgroundMobileImage_JPG.path}}"/>
            </actionGroup>
            <actionGroup ref="DeleteImageFromStorageActionGroup" stepKey="deleteImageFromStorage">
                <argument name="Image" value="PageBuilderBackgroundMobileImage_JPG"/>
            </actionGroup>
            <actionGroup ref="LogoutActionGroup" stepKey="logout"/>
        </after>
        <actionGroup ref="AddPageBuilderPageTitleActionGroup" stepKey="enterPageTitle">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ExpandPageBuilderPanelMenuSectionActionGroup" stepKey="expandPageBuilderPanelMenuSection">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="DragContentTypeToStageActionGroup" stepKey="dragBannerIntoStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <!-- Set Invalid Mobile Background Image -->
        <comment userInput="Set Invalid Mobile Background Image" stepKey="commentSetInvalidBackgroundImage"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="AttachInvalidFileOnSlideOutActionGroup" stepKey="attachInvalidFileOnSlideOut">
            <argument name="property" value="PageBuilderBackgroundMobileImage_InvalidFileType"/>
        </actionGroup>
        <actionGroup ref="CloseEditPanelSettingsActionGroup" stepKey="closeEditPanelSettings"/>
        <!-- Stage: Check No Background Mobile Image -->
        <comment userInput="Stage: Check No Background Mobile Image" stepKey="commentStageCheck1"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageOrColorActionGroup" stepKey="validateStage">
            <argument name="section" value="BannerOnBackend"/>
        </actionGroup>
        <!-- Set Valid After Invalid Background Mobile Image -->
        <comment userInput="Set Valid After Invalid Background Mobile Image" stepKey="commentSetBackgroundImage"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage2">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="AttachInvalidFileOnSlideOutActionGroup" stepKey="attachInvalidFileOnSlideOut2">
            <argument name="property" value="PageBuilderBackgroundMobileImage_InvalidFileType"/>
        </actionGroup>
        <actionGroup ref="AttachFileSlideOutPropertyActionGroup" stepKey="attachValidFileOnSlideOut">
            <argument name="property" value="PageBuilderBackgroundMobileImage_JPG"/>
        </actionGroup>
        <!-- Fill URL field so it will show on storefront -->
        <actionGroup ref="FillSlideOutPanelLinkUrlFieldActionGroup" stepKey="enterBannerLinkUrl">
            <argument name="property" value="PageBuilderBannerLinkUrlProperty"/>
            <argument name="selection" value="{{ExternalLink.url}}"/>
            <argument name="newTab" value="PageBuilderBannerNewTabProperty"/>
        </actionGroup>
        <actionGroup ref="SaveEditPanelSettingsActionGroup" stepKey="saveEditPanelSettings"/>
        <!-- Stage: Check No Background Mobile Image -->
        <comment userInput="Stage: Check No Background Mobile Image" stepKey="commentStageCheck2"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageOrColorActionGroup" stepKey="validateNoImageStage1">
            <argument name="section" value="BannerOnBackend"/>
        </actionGroup>
        <actionGroup ref="SaveAndContinueEditCmsPageActionGroup" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="NavigateToStoreFrontActionGroup" stepKey="navigateToStoreFront">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <!-- Validate Storefront Mobile -->
        <comment userInput="Validate Storefront Mobile" stepKey="commentValidateStorefrontMobile"/>
        <resizeWindow width="767" height="1000" stepKey="resizeWindowToMobile"/>
        <actionGroup ref="ValidateBackgroundImageContainerActionGroup" stepKey="validateImageOnStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundMobileImage_JPG"/>
        </actionGroup>
    </test>
    <test name="BackgroundMobileImageInvalidFileSize">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="Background Form"/>
            <title value="Background Mobile Image - Invalid File Size"/>
            <description value="Tests that the Background Mobile Image attribute functions as expected for file size >2MB"/>
            <severity value="MAJOR"/>
            <useCaseId value="MAGETWO-90828"/>
            <testCaseId value="MC-2724"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-banner"/>
            <group value="pagebuilder-backgroundForm"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdminActionGroup" stepKey="loginAsAdmin"/>
            <actionGroup ref="NavigateToAPageWithPageBuilderActionGroup" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <resizeWindow width="1280" height="1024" stepKey="resizeWindowToDesktop"/>
            <actionGroup ref="NavigateToMediaGalleryActionGroup" stepKey="navigateToMediaGallery"/>
            <actionGroup ref="NavigateToMediaFolderActionGroup" stepKey="navigateToFolder">
                <argument name="FolderName" value="{{PageBuilderBackgroundMobileImage_JPG.path}}"/>
            </actionGroup>
            <actionGroup ref="DeleteImageFromStorageActionGroup" stepKey="deleteImageFromStorage">
                <argument name="Image" value="PageBuilderBackgroundMobileImage_JPG"/>
            </actionGroup>
            <actionGroup ref="LogoutActionGroup" stepKey="logout"/>
        </after>
        <actionGroup ref="AddPageBuilderPageTitleActionGroup" stepKey="enterPageTitle">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ExpandPageBuilderPanelMenuSectionActionGroup" stepKey="expandPageBuilderPanelMenuSection">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="DragContentTypeToStageActionGroup" stepKey="dragBannerIntoStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <!-- Set Invalid Mobile Background Image -->
        <comment userInput="Set Invalid Mobile Background Image" stepKey="commentSetInvalidBackgroundImage"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="AttachInvalidFileOnSlideOutActionGroup" stepKey="attachInvalidFileOnSlideOut">
            <argument name="property" value="PageBuilderBackgroundMobileImage_LargerThan2MB"/>
        </actionGroup>
        <actionGroup ref="CloseEditPanelSettingsActionGroup" stepKey="closeEditPanelSettings"/>
        <!-- Stage: Check No Background Mobile Image -->
        <comment userInput="Stage: Check No Background Mobile Image" stepKey="commentStageCheck1"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageOrColorActionGroup" stepKey="validateStage">
            <argument name="section" value="BannerOnBackend"/>
        </actionGroup>
        <!-- Set Valid After Invalid Background Mobile Image -->
        <comment userInput="Set Valid After Invalid Background Mobile Image" stepKey="commentSetBackgroundImage"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage2">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="AttachInvalidFileOnSlideOutActionGroup" stepKey="attachInvalidFileOnSlideOut2">
            <argument name="property" value="PageBuilderBackgroundMobileImage_LargerThan2MB"/>
        </actionGroup>
        <actionGroup ref="AttachFileSlideOutPropertyActionGroup" stepKey="attachValidFileOnSlideOut">
            <argument name="property" value="PageBuilderBackgroundMobileImage_JPG"/>
        </actionGroup>
        <!-- Fill URL field so it will show on storefront -->
        <actionGroup ref="FillSlideOutPanelLinkUrlFieldActionGroup" stepKey="enterBannerLinkUrl">
            <argument name="property" value="PageBuilderBannerLinkUrlProperty"/>
            <argument name="selection" value="{{ExternalLink.url}}"/>
            <argument name="newTab" value="PageBuilderBannerNewTabProperty"/>
        </actionGroup>
        <actionGroup ref="SaveEditPanelSettingsActionGroup" stepKey="saveEditPanelSettings"/>
        <!-- Stage: Check No Background Mobile Image -->
        <comment userInput="Stage: Check No Background Mobile Image" stepKey="commentStageCheck2"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageOrColorActionGroup" stepKey="validateNoImageStage1">
            <argument name="section" value="BannerOnBackend"/>
        </actionGroup>
        <actionGroup ref="SaveAndContinueEditCmsPageActionGroup" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="NavigateToStoreFrontActionGroup" stepKey="navigateToStoreFront">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <!-- Validate Storefront Mobile -->
        <comment userInput="Validate Storefront Mobile" stepKey="commentValidateStorefrontMobile"/>
        <resizeWindow width="767" height="1000" stepKey="resizeWindowToMobile"/>
        <actionGroup ref="ValidateBackgroundImageContainerActionGroup" stepKey="validateImageOnStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundMobileImage_JPG"/>
        </actionGroup>
    </test>
    <test name="BackgroundPositionTopLeft">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="Background Form"/>
            <title value="Background Position - Top Left"/>
            <description value="Tests that the Background Position attribute functions as expected on Stage and Storefront for Banner for Top Left value"/>
            <severity value="MAJOR"/>
            <useCaseId value="MAGETWO-90828"/>
            <testCaseId value="MC-2869"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-banner"/>
            <group value="pagebuilder-backgroundForm"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdminActionGroup" stepKey="loginAsAdmin"/>
            <actionGroup ref="NavigateToAPageWithPageBuilderActionGroup" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="NavigateToMediaGalleryActionGroup" stepKey="navigateToMediaGallery"/>
            <actionGroup ref="NavigateToMediaFolderActionGroup" stepKey="navigateToFolder">
                <argument name="FolderName" value="{{PageBuilderBackgroundImage_JPG.path}}"/>
            </actionGroup>
            <actionGroup ref="DeleteImageFromStorageActionGroup" stepKey="deleteImageFromStorage">
                <argument name="Image" value="PageBuilderBackgroundImage_JPG"/>
            </actionGroup>
            <actionGroup ref="LogoutActionGroup" stepKey="logout"/>
        </after>
        <actionGroup ref="AddPageBuilderPageTitleActionGroup" stepKey="enterPageTitle">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ExpandPageBuilderPanelMenuSectionActionGroup" stepKey="expandPageBuilderPanelMenuSection">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="DragContentTypeToStageActionGroup" stepKey="dragBannerIntoStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <!-- Set Background Position -->
        <comment userInput="Set Background Position" stepKey="commentSetBackgroundPosition"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="AttachFileSlideOutPropertyActionGroup" stepKey="attachFileSlideOutProperty">
            <argument name="property" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <actionGroup ref="SelectSlideOutPanelFieldActionGroup" stepKey="setBackgroundPosition">
            <argument name="property" value="PageBuilderBackgroundPosition_TopLeft"/>
        </actionGroup>
        <actionGroup ref="SaveEditPanelSettingsActionGroup" stepKey="saveEditPanelSettings"/>
        <!-- Stage: Check Background Position -->
        <comment userInput="Stage: Check Background Position" stepKey="commentStageCheck"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoColorActionGroup" stepKey="validateStage1">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
            <argument name="backgroundPosition" value="PageBuilderBackgroundPosition_TopLeft"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageActionGroup" stepKey="validateImageStage1">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <actionGroup ref="SaveAndContinueEditCmsPageActionGroup" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage2"/>
        <!-- Stage: Check Background Position After Save -->
        <comment userInput="Stage: Check Background Position After Save" stepKey="commentStageCheckAfterSave"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoColorActionGroup" stepKey="validateStage2">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
            <argument name="backgroundPosition" value="PageBuilderBackgroundPosition_TopLeft"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageActionGroup" stepKey="validateImageStage2">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <!-- Edit Panel: Check Background Position -->
        <comment userInput="Edit Panel: Check Background Position" stepKey="commentValidateEditPanel"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage2">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="SeeInFieldSlideOutPropertyActionGroup" stepKey="validateBackgroundPosition">
            <argument name="property" value="PageBuilderBackgroundPosition_TopLeft"/>
        </actionGroup>
        <!-- Storefront: Check Background Position -->
        <comment userInput="Storefront: Check Background Position" stepKey="commentStorefrontCheck"/>
        <actionGroup ref="NavigateToStoreFrontActionGroup" stepKey="navigateToStoreFront">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageOrColorActionGroup" stepKey="validateBackgroundOnStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundPosition" value="PageBuilderBackgroundPosition_TopLeft"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageContainerActionGroup" stepKey="validateImageOnStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
    </test>
    <test name="BackgroundPositionTopCenter">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="Background Form"/>
            <title value="Background Position - Top Center"/>
            <description value="Tests that the Background Position attribute functions as expected on Stage and Storefront for Banner for Top Center value"/>
            <severity value="MAJOR"/>
            <useCaseId value="MAGETWO-90828"/>
            <testCaseId value="MC-2726"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-banner"/>
            <group value="pagebuilder-backgroundForm"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdminActionGroup" stepKey="loginAsAdmin"/>
            <actionGroup ref="NavigateToAPageWithPageBuilderActionGroup" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="NavigateToMediaGalleryActionGroup" stepKey="navigateToMediaGallery"/>
            <actionGroup ref="NavigateToMediaFolderActionGroup" stepKey="navigateToFolder">
                <argument name="FolderName" value="{{PageBuilderBackgroundImage_JPG.path}}"/>
            </actionGroup>
            <actionGroup ref="DeleteImageFromStorageActionGroup" stepKey="deleteImageFromStorage">
                <argument name="Image" value="PageBuilderBackgroundImage_JPG"/>
            </actionGroup>
            <actionGroup ref="LogoutActionGroup" stepKey="logout"/>
        </after>
        <actionGroup ref="AddPageBuilderPageTitleActionGroup" stepKey="enterPageTitle">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ExpandPageBuilderPanelMenuSectionActionGroup" stepKey="expandPageBuilderPanelMenuSection">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="DragContentTypeToStageActionGroup" stepKey="dragBannerIntoStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <!-- Set Background Position -->
        <comment userInput="Set Background Position" stepKey="commentSetBackgroundPosition"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="AttachFileSlideOutPropertyActionGroup" stepKey="attachFileSlideOutProperty">
            <argument name="property" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <actionGroup ref="SelectSlideOutPanelFieldActionGroup" stepKey="setBackgroundPosition">
            <argument name="property" value="PageBuilderBackgroundPosition_TopCenter"/>
        </actionGroup>
        <actionGroup ref="SaveEditPanelSettingsActionGroup" stepKey="saveEditPanelSettings"/>
        <!-- Stage: Check Background Position -->
        <comment userInput="Stage: Check Background Position" stepKey="commentStageCheck"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoColorActionGroup" stepKey="validateStage1">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
            <argument name="backgroundPosition" value="PageBuilderBackgroundPosition_TopCenter"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageActionGroup" stepKey="validateImageStage1">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <actionGroup ref="SaveAndContinueEditCmsPageActionGroup" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage2"/>
        <!-- Stage: Check Background Position After Save -->
        <comment userInput="Stage: Check Background Position After Save" stepKey="commentStageCheckAfterSave"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoColorActionGroup" stepKey="validateStage2">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
            <argument name="backgroundPosition" value="PageBuilderBackgroundPosition_TopCenter"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageActionGroup" stepKey="validateImageStage2">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <!-- Edit Panel: Check Background Position -->
        <comment userInput="Edit Panel: Check Background Position" stepKey="commentValidateEditPanel"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage2">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="SeeInFieldSlideOutPropertyActionGroup" stepKey="validateBackgroundPosition">
            <argument name="property" value="PageBuilderBackgroundPosition_TopCenter"/>
        </actionGroup>
        <!-- Storefront: Check Background Position -->
        <comment userInput="Storefront: Check Background Position" stepKey="commentStorefrontCheck"/>
        <actionGroup ref="NavigateToStoreFrontActionGroup" stepKey="navigateToStoreFront">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageOrColorActionGroup" stepKey="validateBackgroundOnStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundPosition" value="PageBuilderBackgroundPosition_TopCenter"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageContainerActionGroup" stepKey="validateImageOnStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
    </test>
    <test name="BackgroundPositionTopRight">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="Background Form"/>
            <title value="Background Position - Top Right"/>
            <description value="Tests that the Background Position attribute functions as expected on Stage and Storefront for Banner for Top Right value"/>
            <severity value="MAJOR"/>
            <useCaseId value="MAGETWO-90828"/>
            <testCaseId value="MC-2880"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-banner"/>
            <group value="pagebuilder-backgroundForm"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdminActionGroup" stepKey="loginAsAdmin"/>
            <actionGroup ref="NavigateToAPageWithPageBuilderActionGroup" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="NavigateToMediaGalleryActionGroup" stepKey="navigateToMediaGallery"/>
            <actionGroup ref="NavigateToMediaFolderActionGroup" stepKey="navigateToFolder">
                <argument name="FolderName" value="{{PageBuilderBackgroundImage_JPG.path}}"/>
            </actionGroup>
            <actionGroup ref="DeleteImageFromStorageActionGroup" stepKey="deleteImageFromStorage">
                <argument name="Image" value="PageBuilderBackgroundImage_JPG"/>
            </actionGroup>
            <actionGroup ref="LogoutActionGroup" stepKey="logout"/>
        </after>
        <actionGroup ref="AddPageBuilderPageTitleActionGroup" stepKey="enterPageTitle">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ExpandPageBuilderPanelMenuSectionActionGroup" stepKey="expandPageBuilderPanelMenuSection">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="DragContentTypeToStageActionGroup" stepKey="dragBannerIntoStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <!-- Set Background Position -->
        <comment userInput="Set Background Position" stepKey="commentSetBackgroundPosition"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="AttachFileSlideOutPropertyActionGroup" stepKey="attachFileSlideOutProperty">
            <argument name="property" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <actionGroup ref="SelectSlideOutPanelFieldActionGroup" stepKey="setBackgroundPosition">
            <argument name="property" value="PageBuilderBackgroundPosition_TopRight"/>
        </actionGroup>
        <actionGroup ref="SaveEditPanelSettingsActionGroup" stepKey="saveEditPanelSettings"/>
        <!-- Stage: Check Background Position -->
        <comment userInput="Stage: Check Background Position" stepKey="commentStageCheck"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoColorActionGroup" stepKey="validateStage1">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
            <argument name="backgroundPosition" value="PageBuilderBackgroundPosition_TopRight"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageActionGroup" stepKey="validateImageStage1">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <actionGroup ref="SaveAndContinueEditCmsPageActionGroup" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage2"/>
        <!-- Stage: Check Background Position After Save -->
        <comment userInput="Stage: Check Background Position After Save" stepKey="commentStageCheckAfterSave"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoColorActionGroup" stepKey="validateStage2">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
            <argument name="backgroundPosition" value="PageBuilderBackgroundPosition_TopRight"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageActionGroup" stepKey="validateImageStage2">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <!-- Edit Panel: Check Background Position -->
        <comment userInput="Edit Panel: Check Background Position" stepKey="commentValidateEditPanel"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage2">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="SeeInFieldSlideOutPropertyActionGroup" stepKey="validateBackgroundPosition">
            <argument name="property" value="PageBuilderBackgroundPosition_TopRight"/>
        </actionGroup>
        <!-- Storefront: Check Background Position -->
        <comment userInput="Storefront: Check Background Position" stepKey="commentStorefrontCheck"/>
        <actionGroup ref="NavigateToStoreFrontActionGroup" stepKey="navigateToStoreFront">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageOrColorActionGroup" stepKey="validateBackgroundOnStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundPosition" value="PageBuilderBackgroundPosition_TopRight"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageContainerActionGroup" stepKey="validateImageOnStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
    </test>
    <test name="BackgroundPositionCenterLeft">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="Background Form"/>
            <title value="Background Position - Center Left"/>
            <description value="Tests that the Background Position attribute functions as expected on Stage and Storefront for Banner for Center Left value"/>
            <severity value="MAJOR"/>
            <useCaseId value="MAGETWO-90828"/>
            <testCaseId value="MC-2669"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-banner"/>
            <group value="pagebuilder-backgroundForm"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdminActionGroup" stepKey="loginAsAdmin"/>
            <actionGroup ref="NavigateToAPageWithPageBuilderActionGroup" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="NavigateToMediaGalleryActionGroup" stepKey="navigateToMediaGallery"/>
            <actionGroup ref="NavigateToMediaFolderActionGroup" stepKey="navigateToFolder">
                <argument name="FolderName" value="{{PageBuilderBackgroundImage_JPG.path}}"/>
            </actionGroup>
            <actionGroup ref="DeleteImageFromStorageActionGroup" stepKey="deleteImageFromStorage">
                <argument name="Image" value="PageBuilderBackgroundImage_JPG"/>
            </actionGroup>
            <actionGroup ref="LogoutActionGroup" stepKey="logout"/>
        </after>
        <actionGroup ref="AddPageBuilderPageTitleActionGroup" stepKey="enterPageTitle">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ExpandPageBuilderPanelMenuSectionActionGroup" stepKey="expandPageBuilderPanelMenuSection">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="DragContentTypeToStageActionGroup" stepKey="dragBannerIntoStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <!-- Set Background Position -->
        <comment userInput="Set Background Position" stepKey="commentSetBackgroundPosition"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="AttachFileSlideOutPropertyActionGroup" stepKey="attachFileSlideOutProperty">
            <argument name="property" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <actionGroup ref="SelectSlideOutPanelFieldActionGroup" stepKey="setBackgroundPosition">
            <argument name="property" value="PageBuilderBackgroundPosition_CenterLeft"/>
        </actionGroup>
        <actionGroup ref="SaveEditPanelSettingsActionGroup" stepKey="saveEditPanelSettings"/>
        <!-- Stage: Check Background Position -->
        <comment userInput="Stage: Check Background Position" stepKey="commentStageCheck"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoColorActionGroup" stepKey="validateStage1">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
            <argument name="backgroundPosition" value="PageBuilderBackgroundPosition_CenterLeft"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageActionGroup" stepKey="validateImageStage1">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <actionGroup ref="SaveAndContinueEditCmsPageActionGroup" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage2"/>
        <!-- Stage: Check Background Position After Save -->
        <comment userInput="Stage: Check Background Position After Save" stepKey="commentStageCheckAfterSave"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoColorActionGroup" stepKey="validateStage2">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
            <argument name="backgroundPosition" value="PageBuilderBackgroundPosition_CenterLeft"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageActionGroup" stepKey="validateImageStage2">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <!-- Edit Panel: Check Background Position -->
        <comment userInput="Edit Panel: Check Background Position" stepKey="commentValidateEditPanel"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage2">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="SeeInFieldSlideOutPropertyActionGroup" stepKey="validateBackgroundPosition">
            <argument name="property" value="PageBuilderBackgroundPosition_CenterLeft"/>
        </actionGroup>
        <!-- Storefront: Check Background Position -->
        <comment userInput="Storefront: Check Background Position" stepKey="commentStorefrontCheck"/>
        <actionGroup ref="NavigateToStoreFrontActionGroup" stepKey="navigateToStoreFront">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageOrColorActionGroup" stepKey="validateBackgroundOnStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundPosition" value="PageBuilderBackgroundPosition_CenterLeft"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageContainerActionGroup" stepKey="validateImageOnStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
    </test>
    <test name="BackgroundPositionCenter">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="Background Form"/>
            <title value="Background Position - Center"/>
            <description value="Tests that the Background Position attribute functions as expected on Stage and Storefront for Banner for Center value"/>
            <severity value="MAJOR"/>
            <useCaseId value="MAGETWO-90828"/>
            <testCaseId value="MC-2601"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-banner"/>
            <group value="pagebuilder-backgroundForm"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdminActionGroup" stepKey="loginAsAdmin"/>
            <actionGroup ref="NavigateToAPageWithPageBuilderActionGroup" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="NavigateToMediaGalleryActionGroup" stepKey="navigateToMediaGallery"/>
            <actionGroup ref="NavigateToMediaFolderActionGroup" stepKey="navigateToFolder">
                <argument name="FolderName" value="{{PageBuilderBackgroundImage_JPG.path}}"/>
            </actionGroup>
            <actionGroup ref="DeleteImageFromStorageActionGroup" stepKey="deleteImageFromStorage">
                <argument name="Image" value="PageBuilderBackgroundImage_JPG"/>
            </actionGroup>
            <actionGroup ref="LogoutActionGroup" stepKey="logout"/>
        </after>
        <actionGroup ref="AddPageBuilderPageTitleActionGroup" stepKey="enterPageTitle">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ExpandPageBuilderPanelMenuSectionActionGroup" stepKey="expandPageBuilderPanelMenuSection">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="DragContentTypeToStageActionGroup" stepKey="dragBannerIntoStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <!-- Set Background Position -->
        <comment userInput="Set Background Position" stepKey="commentSetBackgroundPosition"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="AttachFileSlideOutPropertyActionGroup" stepKey="attachFileSlideOutProperty">
            <argument name="property" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <actionGroup ref="SelectSlideOutPanelFieldActionGroup" stepKey="setBackgroundPosition">
            <argument name="property" value="PageBuilderBackgroundPosition_Center"/>
        </actionGroup>
        <actionGroup ref="SaveEditPanelSettingsActionGroup" stepKey="saveEditPanelSettings"/>
        <!-- Stage: Check Background Position -->
        <comment userInput="Stage: Check Background Position" stepKey="commentStageCheck"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoColorActionGroup" stepKey="validateStage1">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
            <argument name="backgroundPosition" value="PageBuilderBackgroundPosition_Center"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageActionGroup" stepKey="validateImageStage1">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <actionGroup ref="SaveAndContinueEditCmsPageActionGroup" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage2"/>
        <!-- Stage: Check Background Position After Save -->
        <comment userInput="Stage: Check Background Position After Save" stepKey="commentStageCheckAfterSave"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoColorActionGroup" stepKey="validateStage2">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
            <argument name="backgroundPosition" value="PageBuilderBackgroundPosition_Center"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageActionGroup" stepKey="validateImageStage2">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <!-- Edit Panel: Check Background Position -->
        <comment userInput="Edit Panel: Check Background Position" stepKey="commentValidateEditPanel"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage2">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="SeeInFieldSlideOutPropertyActionGroup" stepKey="validateBackgroundPosition">
            <argument name="property" value="PageBuilderBackgroundPosition_Center"/>
        </actionGroup>
        <!-- Storefront: Check Background Position -->
        <comment userInput="Storefront: Check Background Position" stepKey="commentStorefrontCheck"/>
        <actionGroup ref="NavigateToStoreFrontActionGroup" stepKey="navigateToStoreFront">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageOrColorActionGroup" stepKey="validateBackgroundOnStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundPosition" value="PageBuilderBackgroundPosition_Center"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageContainerActionGroup" stepKey="validateImageOnStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
    </test>
    <test name="BackgroundPositionCenterRight">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="Background Form"/>
            <title value="Background Position - Center Right"/>
            <description value="Tests that the Background Position attribute functions as expected on Stage and Storefront for Banner for Center Right value"/>
            <severity value="MAJOR"/>
            <useCaseId value="MAGETWO-90828"/>
            <testCaseId value="MC-2896"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-banner"/>
            <group value="pagebuilder-backgroundForm"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdminActionGroup" stepKey="loginAsAdmin"/>
            <actionGroup ref="NavigateToAPageWithPageBuilderActionGroup" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="NavigateToMediaGalleryActionGroup" stepKey="navigateToMediaGallery"/>
            <actionGroup ref="NavigateToMediaFolderActionGroup" stepKey="navigateToFolder">
                <argument name="FolderName" value="{{PageBuilderBackgroundImage_JPG.path}}"/>
            </actionGroup>
            <actionGroup ref="DeleteImageFromStorageActionGroup" stepKey="deleteImageFromStorage">
                <argument name="Image" value="PageBuilderBackgroundImage_JPG"/>
            </actionGroup>
            <actionGroup ref="LogoutActionGroup" stepKey="logout"/>
        </after>
        <actionGroup ref="AddPageBuilderPageTitleActionGroup" stepKey="enterPageTitle">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ExpandPageBuilderPanelMenuSectionActionGroup" stepKey="expandPageBuilderPanelMenuSection">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="DragContentTypeToStageActionGroup" stepKey="dragBannerIntoStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <!-- Set Background Position -->
        <comment userInput="Set Background Position" stepKey="commentSetBackgroundPosition"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="AttachFileSlideOutPropertyActionGroup" stepKey="attachFileSlideOutProperty">
            <argument name="property" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <actionGroup ref="SelectSlideOutPanelFieldActionGroup" stepKey="setBackgroundPosition">
            <argument name="property" value="PageBuilderBackgroundPosition_CenterRight"/>
        </actionGroup>
        <actionGroup ref="SaveEditPanelSettingsActionGroup" stepKey="saveEditPanelSettings"/>
        <!-- Stage: Check Background Position -->
        <comment userInput="Stage: Check Background Position" stepKey="commentStageCheck"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoColorActionGroup" stepKey="validateStage1">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
            <argument name="backgroundPosition" value="PageBuilderBackgroundPosition_CenterRight"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageActionGroup" stepKey="validateImageStage1">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <actionGroup ref="SaveAndContinueEditCmsPageActionGroup" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage2"/>
        <!-- Stage: Check Background Position After Save -->
        <comment userInput="Stage: Check Background Position After Save" stepKey="commentStageCheckAfterSave"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoColorActionGroup" stepKey="validateStage2">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
            <argument name="backgroundPosition" value="PageBuilderBackgroundPosition_CenterRight"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageActionGroup" stepKey="validateImageStage2">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <!-- Edit Panel: Check Background Position -->
        <comment userInput="Edit Panel: Check Background Position" stepKey="commentValidateEditPanel"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage2">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="SeeInFieldSlideOutPropertyActionGroup" stepKey="validateBackgroundPosition">
            <argument name="property" value="PageBuilderBackgroundPosition_CenterRight"/>
        </actionGroup>
        <!-- Storefront: Check Background Position -->
        <comment userInput="Storefront: Check Background Position" stepKey="commentStorefrontCheck"/>
        <actionGroup ref="NavigateToStoreFrontActionGroup" stepKey="navigateToStoreFront">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageOrColorActionGroup" stepKey="validateBackgroundOnStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundPosition" value="PageBuilderBackgroundPosition_CenterRight"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageContainerActionGroup" stepKey="validateImageOnStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
    </test>
    <test name="BackgroundPositionBottomLeft">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="Background Form"/>
            <title value="Background Position - Bottom Left"/>
            <description value="Tests that the Background Position attribute functions as expected on Stage and Storefront for Banner for Bottom Left value"/>
            <severity value="MAJOR"/>
            <useCaseId value="MAGETWO-90828"/>
            <testCaseId value="MC-2486"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-banner"/>
            <group value="pagebuilder-backgroundForm"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdminActionGroup" stepKey="loginAsAdmin"/>
            <actionGroup ref="NavigateToAPageWithPageBuilderActionGroup" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="NavigateToMediaGalleryActionGroup" stepKey="navigateToMediaGallery"/>
            <actionGroup ref="NavigateToMediaFolderActionGroup" stepKey="navigateToFolder">
                <argument name="FolderName" value="{{PageBuilderBackgroundImage_JPG.path}}"/>
            </actionGroup>
            <actionGroup ref="DeleteImageFromStorageActionGroup" stepKey="deleteImageFromStorage">
                <argument name="Image" value="PageBuilderBackgroundImage_JPG"/>
            </actionGroup>
            <actionGroup ref="LogoutActionGroup" stepKey="logout"/>
        </after>
        <actionGroup ref="AddPageBuilderPageTitleActionGroup" stepKey="enterPageTitle">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ExpandPageBuilderPanelMenuSectionActionGroup" stepKey="expandPageBuilderPanelMenuSection">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="DragContentTypeToStageActionGroup" stepKey="dragBannerIntoStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <!-- Set Background Position -->
        <comment userInput="Set Background Position" stepKey="commentSetBackgroundPosition"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="AttachFileSlideOutPropertyActionGroup" stepKey="attachFileSlideOutProperty">
            <argument name="property" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <actionGroup ref="SelectSlideOutPanelFieldActionGroup" stepKey="setBackgroundPosition">
            <argument name="property" value="PageBuilderBackgroundPosition_BottomLeft"/>
        </actionGroup>
        <actionGroup ref="SaveEditPanelSettingsActionGroup" stepKey="saveEditPanelSettings"/>
        <!-- Stage: Check Background Position -->
        <comment userInput="Stage: Check Background Position" stepKey="commentStageCheck"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoColorActionGroup" stepKey="validateStage1">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
            <argument name="backgroundPosition" value="PageBuilderBackgroundPosition_BottomLeft"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageActionGroup" stepKey="validateImageStage1">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <actionGroup ref="SaveAndContinueEditCmsPageActionGroup" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage2"/>
        <!-- Stage: Check Background Position After Save -->
        <comment userInput="Stage: Check Background Position After Save" stepKey="commentStageCheckAfterSave"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoColorActionGroup" stepKey="validateStage2">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
            <argument name="backgroundPosition" value="PageBuilderBackgroundPosition_BottomLeft"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageActionGroup" stepKey="validateImageStage2">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <!-- Edit Panel: Check Background Position -->
        <comment userInput="Edit Panel: Check Background Position" stepKey="commentValidateEditPanel"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage2">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="SeeInFieldSlideOutPropertyActionGroup" stepKey="validateBackgroundPosition">
            <argument name="property" value="PageBuilderBackgroundPosition_BottomLeft"/>
        </actionGroup>
        <!-- Storefront: Check Background Position -->
        <comment userInput="Storefront: Check Background Position" stepKey="commentStorefrontCheck"/>
        <actionGroup ref="NavigateToStoreFrontActionGroup" stepKey="navigateToStoreFront">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageOrColorActionGroup" stepKey="validateBackgroundOnStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundPosition" value="PageBuilderBackgroundPosition_BottomLeft"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageContainerActionGroup" stepKey="validateImageOnStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
    </test>
    <test name="BackgroundPositionBottomCenter">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="Background Form"/>
            <title value="Background Position - Bottom Center"/>
            <description value="Tests that the Background Position attribute functions as expected on Stage and Storefront for Banner for Bottom Center value"/>
            <severity value="MAJOR"/>
            <useCaseId value="MAGETWO-90828"/>
            <testCaseId value="MC-2761"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-banner"/>
            <group value="pagebuilder-backgroundForm"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdminActionGroup" stepKey="loginAsAdmin"/>
            <actionGroup ref="NavigateToAPageWithPageBuilderActionGroup" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="NavigateToMediaGalleryActionGroup" stepKey="navigateToMediaGallery"/>
            <actionGroup ref="NavigateToMediaFolderActionGroup" stepKey="navigateToFolder">
                <argument name="FolderName" value="{{PageBuilderBackgroundImage_JPG.path}}"/>
            </actionGroup>
            <actionGroup ref="DeleteImageFromStorageActionGroup" stepKey="deleteImageFromStorage">
                <argument name="Image" value="PageBuilderBackgroundImage_JPG"/>
            </actionGroup>
            <actionGroup ref="LogoutActionGroup" stepKey="logout"/>
        </after>
        <actionGroup ref="AddPageBuilderPageTitleActionGroup" stepKey="enterPageTitle">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ExpandPageBuilderPanelMenuSectionActionGroup" stepKey="expandPageBuilderPanelMenuSection">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="DragContentTypeToStageActionGroup" stepKey="dragBannerIntoStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <!-- Set Background Position -->
        <comment userInput="Set Background Position" stepKey="commentSetBackgroundPosition"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="AttachFileSlideOutPropertyActionGroup" stepKey="attachFileSlideOutProperty">
            <argument name="property" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <actionGroup ref="SelectSlideOutPanelFieldActionGroup" stepKey="setBackgroundPosition">
            <argument name="property" value="PageBuilderBackgroundPosition_BottomCenter"/>
        </actionGroup>
        <actionGroup ref="SaveEditPanelSettingsActionGroup" stepKey="saveEditPanelSettings"/>
        <!-- Stage: Check Background Position -->
        <comment userInput="Stage: Check Background Position" stepKey="commentStageCheck"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoColorActionGroup" stepKey="validateStage1">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
            <argument name="backgroundPosition" value="PageBuilderBackgroundPosition_BottomCenter"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageActionGroup" stepKey="validateImageStage1">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <actionGroup ref="SaveAndContinueEditCmsPageActionGroup" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage2"/>
        <!-- Stage: Check Background Position After Save -->
        <comment userInput="Stage: Check Background Position After Save" stepKey="commentStageCheckAfterSave"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoColorActionGroup" stepKey="validateStage2">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
            <argument name="backgroundPosition" value="PageBuilderBackgroundPosition_BottomCenter"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageActionGroup" stepKey="validateImageStage2">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <!-- Edit Panel: Check Background Position -->
        <comment userInput="Edit Panel: Check Background Position" stepKey="commentValidateEditPanel"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage2">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="SeeInFieldSlideOutPropertyActionGroup" stepKey="validateBackgroundPosition">
            <argument name="property" value="PageBuilderBackgroundPosition_BottomCenter"/>
        </actionGroup>
        <!-- Storefront: Check Background Position -->
        <comment userInput="Storefront: Check Background Position" stepKey="commentStorefrontCheck"/>
        <actionGroup ref="NavigateToStoreFrontActionGroup" stepKey="navigateToStoreFront">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageOrColorActionGroup" stepKey="validateBackgroundOnStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundPosition" value="PageBuilderBackgroundPosition_BottomCenter"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageContainerActionGroup" stepKey="validateImageOnStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
    </test>
    <test name="BackgroundPositionBottomRight">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="Background Form"/>
            <title value="Background Position - Bottom Right"/>
            <description value="Tests that the Background Position attribute functions as expected on Stage and Storefront for Banner for Bottom Right value"/>
            <severity value="MAJOR"/>
            <useCaseId value="MAGETWO-90828"/>
            <testCaseId value="MC-2815"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-banner"/>
            <group value="pagebuilder-backgroundForm"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdminActionGroup" stepKey="loginAsAdmin"/>
            <actionGroup ref="NavigateToAPageWithPageBuilderActionGroup" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="NavigateToMediaGalleryActionGroup" stepKey="navigateToMediaGallery"/>
            <actionGroup ref="NavigateToMediaFolderActionGroup" stepKey="navigateToFolder">
                <argument name="FolderName" value="{{PageBuilderBackgroundImage_JPG.path}}"/>
            </actionGroup>
            <actionGroup ref="DeleteImageFromStorageActionGroup" stepKey="deleteImageFromStorage">
                <argument name="Image" value="PageBuilderBackgroundImage_JPG"/>
            </actionGroup>
            <actionGroup ref="LogoutActionGroup" stepKey="logout"/>
        </after>
        <actionGroup ref="AddPageBuilderPageTitleActionGroup" stepKey="enterPageTitle">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ExpandPageBuilderPanelMenuSectionActionGroup" stepKey="expandPageBuilderPanelMenuSection">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="DragContentTypeToStageActionGroup" stepKey="dragBannerIntoStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <!-- Set Background Position -->
        <comment userInput="Set Background Position" stepKey="commentSetBackgroundPosition"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="AttachFileSlideOutPropertyActionGroup" stepKey="attachFileSlideOutProperty">
            <argument name="property" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <actionGroup ref="SelectSlideOutPanelFieldActionGroup" stepKey="setBackgroundPosition">
            <argument name="property" value="PageBuilderBackgroundPosition_BottomRight"/>
        </actionGroup>
        <actionGroup ref="SaveEditPanelSettingsActionGroup" stepKey="saveEditPanelSettings"/>
        <!-- Stage: Check Background Position -->
        <comment userInput="Stage: Check Background Position" stepKey="commentStageCheck"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoColorActionGroup" stepKey="validateStage1">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
            <argument name="backgroundPosition" value="PageBuilderBackgroundPosition_BottomRight"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageActionGroup" stepKey="validateImageStage1">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <actionGroup ref="SaveAndContinueEditCmsPageActionGroup" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage2"/>
        <!-- Stage: Check Background Position After Save -->
        <comment userInput="Stage: Check Background Position After Save" stepKey="commentStageCheckAfterSave"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoColorActionGroup" stepKey="validateStage2">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
            <argument name="backgroundPosition" value="PageBuilderBackgroundPosition_BottomRight"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageActionGroup" stepKey="validateImageStage2">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <!-- Edit Panel: Check Background Position -->
        <comment userInput="Edit Panel: Check Background Position" stepKey="commentValidateEditPanel"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage2">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="SeeInFieldSlideOutPropertyActionGroup" stepKey="validateBackgroundPosition">
            <argument name="property" value="PageBuilderBackgroundPosition_BottomRight"/>
        </actionGroup>
        <!-- Storefront: Check Background Position -->
        <comment userInput="Storefront: Check Background Position" stepKey="commentStorefrontCheck"/>
        <actionGroup ref="NavigateToStoreFrontActionGroup" stepKey="navigateToStoreFront">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageOrColorActionGroup" stepKey="validateBackgroundOnStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundPosition" value="PageBuilderBackgroundPosition_BottomRight"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageContainerActionGroup" stepKey="validateImageOnStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
    </test>
    <test name="BackgroundRepeatEnabled">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="Background Form"/>
            <title value="Background Repeat - Enabled"/>
            <description value="Tests that the Background Repeat attribute functions as expected on Stage and Storefront for Banner for Enabled value"/>
            <severity value="MAJOR"/>
            <useCaseId value="MAGETWO-90828"/>
            <testCaseId value="MC-2617"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-banner"/>
            <group value="pagebuilder-backgroundForm"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdminActionGroup" stepKey="loginAsAdmin"/>
            <actionGroup ref="NavigateToAPageWithPageBuilderActionGroup" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="NavigateToMediaGalleryActionGroup" stepKey="navigateToMediaGallery"/>
            <actionGroup ref="NavigateToMediaFolderActionGroup" stepKey="navigateToFolder">
                <argument name="FolderName" value="{{PageBuilderBackgroundImage_JPG.path}}"/>
            </actionGroup>
            <actionGroup ref="DeleteImageFromStorageActionGroup" stepKey="deleteImageFromStorage">
                <argument name="Image" value="PageBuilderBackgroundImage_JPG"/>
            </actionGroup>
            <actionGroup ref="LogoutActionGroup" stepKey="logout"/>
        </after>
        <actionGroup ref="AddPageBuilderPageTitleActionGroup" stepKey="enterPageTitle">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ExpandPageBuilderPanelMenuSectionActionGroup" stepKey="expandPageBuilderPanelMenuSection">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="DragContentTypeToStageActionGroup" stepKey="dragBannerIntoStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <!-- Set Background Repeat -->
        <comment userInput="Set Background Repeat" stepKey="commentSetBackgroundRepeat"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="AttachFileSlideOutPropertyActionGroup" stepKey="attachFileSlideOutProperty">
            <argument name="property" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <actionGroup ref="ConditionalClickSlideOutPanelFieldGeneralActionGroup" stepKey="setBackgroundRepeat">
            <argument name="property" value="PageBuilderBackgroundRepeat_Enabled"/>
        </actionGroup>
        <actionGroup ref="SaveEditPanelSettingsActionGroup" stepKey="saveEditPanelSettings"/>
        <!-- Stage: Check Background Repeat -->
        <comment userInput="Stage: Check Background Repeat" stepKey="commentStageCheck"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoColorActionGroup" stepKey="validateStage1">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
            <argument name="backgroundRepeat" value="PageBuilderBackgroundRepeat_Enabled"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageActionGroup" stepKey="validateImageStage1">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <actionGroup ref="SaveAndContinueEditCmsPageActionGroup" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage2"/>
        <!-- Stage: Check Background Repeat After Save -->
        <comment userInput="Stage: Check Background Repeat After Save" stepKey="commentStageCheckAfterSave"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoColorActionGroup" stepKey="validateStage2">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
            <argument name="backgroundRepeat" value="PageBuilderBackgroundRepeat_Enabled"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageActionGroup" stepKey="validateImageStage2">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <!-- Edit Panel: Check Background Repeat -->
        <comment userInput="Edit Panel: Check Background Repeat" stepKey="commentValidateEditPanel"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage2">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="SeeOptionIsCheckedSlideOutPropertyActionGroup" stepKey="validateBackgroundRepeat">
            <argument name="property" value="PageBuilderBackgroundRepeat_Enabled"/>
        </actionGroup>
        <!-- Storefront: Check Background Repeat -->
        <comment userInput="Storefront: Check Background Repeat" stepKey="commentStorefrontCheck"/>
        <actionGroup ref="NavigateToStoreFrontActionGroup" stepKey="navigateToStoreFront">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageOrColorActionGroup" stepKey="validateBackgroundOnStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundRepeat" value="PageBuilderBackgroundRepeat_Enabled"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageContainerActionGroup" stepKey="validateImageOnStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
    </test>
    <test name="BackgroundRepeatDisabled">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="Background Form"/>
            <title value="Background Repeat - Disabled"/>
            <description value="Tests that the Background Repeat attribute functions as expected on Stage and Storefront for Banner for Disabled value"/>
            <severity value="MAJOR"/>
            <useCaseId value="MAGETWO-90828"/>
            <testCaseId value="MC-2629"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-banner"/>
            <group value="pagebuilder-backgroundForm"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdminActionGroup" stepKey="loginAsAdmin"/>
            <actionGroup ref="NavigateToAPageWithPageBuilderActionGroup" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="NavigateToMediaGalleryActionGroup" stepKey="navigateToMediaGallery"/>
            <actionGroup ref="NavigateToMediaFolderActionGroup" stepKey="navigateToFolder">
                <argument name="FolderName" value="{{PageBuilderBackgroundImage_JPG.path}}"/>
            </actionGroup>
            <actionGroup ref="DeleteImageFromStorageActionGroup" stepKey="deleteImageFromStorage">
                <argument name="Image" value="PageBuilderBackgroundImage_JPG"/>
            </actionGroup>
            <actionGroup ref="LogoutActionGroup" stepKey="logout"/>
        </after>
        <actionGroup ref="AddPageBuilderPageTitleActionGroup" stepKey="enterPageTitle">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ExpandPageBuilderPanelMenuSectionActionGroup" stepKey="expandPageBuilderPanelMenuSection">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="DragContentTypeToStageActionGroup" stepKey="dragBannerIntoStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <!-- Set Background Repeat -->
        <comment userInput="Set Background Repeat" stepKey="commentSetBackgroundRepeat"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="AttachFileSlideOutPropertyActionGroup" stepKey="attachFileSlideOutProperty">
            <argument name="property" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <actionGroup ref="ConditionalClickSlideOutPanelFieldGeneralActionGroup" stepKey="setBackgroundRepeat">
            <argument name="property" value="PageBuilderBackgroundRepeat_Disabled"/>
        </actionGroup>
        <actionGroup ref="SaveEditPanelSettingsActionGroup" stepKey="saveEditPanelSettings"/>
        <!-- Stage: Check Background Repeat -->
        <comment userInput="Stage: Check Background Repeat" stepKey="commentStageCheck"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoColorActionGroup" stepKey="validateStage1">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
            <argument name="backgroundRepeat" value="PageBuilderBackgroundRepeat_Disabled"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageActionGroup" stepKey="validateImageStage1">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <actionGroup ref="SaveAndContinueEditCmsPageActionGroup" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage2"/>
        <!-- Stage: Check Background Repeat After Save -->
        <comment userInput="Stage: Check Background Repeat After Save" stepKey="commentStageCheckAfterSave"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoColorActionGroup" stepKey="validateStage2">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
            <argument name="backgroundRepeat" value="PageBuilderBackgroundRepeat_Disabled"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageActionGroup" stepKey="validateImageStage2">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <!-- Edit Panel: Check Background Repeat -->
        <comment userInput="Edit Panel: Check Background Repeat" stepKey="commentValidateEditPanel"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage2">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="SeeOptionIsNotCheckedSlideOutPropertyActionGroup" stepKey="validateBackgroundRepeat">
            <argument name="property" value="PageBuilderBackgroundRepeat_Disabled"/>
        </actionGroup>
        <!-- Storefront: Check Background Repeat -->
        <comment userInput="Storefront: Check Background Repeat" stepKey="commentStorefrontCheck"/>
        <actionGroup ref="NavigateToStoreFrontActionGroup" stepKey="navigateToStoreFront">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageOrColorActionGroup" stepKey="validateBackgroundOnStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundRepeat" value="PageBuilderBackgroundRepeat_Disabled"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageContainerActionGroup" stepKey="validateImageOnStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
    </test>
    <test name="BackgroundSizeAuto">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="Background Form"/>
            <title value="Background Size - Auto"/>
            <description value="Tests that the Background Size attribute functions as expected on Stage and Storefront for Banner for Auto value"/>
            <severity value="MAJOR"/>
            <useCaseId value="MAGETWO-90828"/>
            <testCaseId value="MC-2630"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-banner"/>
            <group value="pagebuilder-backgroundForm"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdminActionGroup" stepKey="loginAsAdmin"/>
            <actionGroup ref="NavigateToAPageWithPageBuilderActionGroup" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="NavigateToMediaGalleryActionGroup" stepKey="navigateToMediaGallery"/>
            <actionGroup ref="NavigateToMediaFolderActionGroup" stepKey="navigateToFolder">
                <argument name="FolderName" value="{{PageBuilderBackgroundImage_JPG.path}}"/>
            </actionGroup>
            <actionGroup ref="DeleteImageFromStorageActionGroup" stepKey="deleteImageFromStorage">
                <argument name="Image" value="PageBuilderBackgroundImage_JPG"/>
            </actionGroup>
            <actionGroup ref="LogoutActionGroup" stepKey="logout"/>
        </after>
        <actionGroup ref="AddPageBuilderPageTitleActionGroup" stepKey="enterPageTitle">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ExpandPageBuilderPanelMenuSectionActionGroup" stepKey="expandPageBuilderPanelMenuSection">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="DragContentTypeToStageActionGroup" stepKey="dragBannerIntoStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <!-- Set Background Size -->
        <comment userInput="Set Background Size" stepKey="commentSetBackgroundSize"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="AttachFileSlideOutPropertyActionGroup" stepKey="attachFileSlideOutProperty">
            <argument name="property" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <actionGroup ref="ChooseVisualSelectOptionActionGroup" stepKey="setBackgroundSize">
            <argument name="property" value="PageBuilderBackgroundSize_Auto"/>
        </actionGroup>
        <actionGroup ref="SaveEditPanelSettingsActionGroup" stepKey="saveEditPanelSettings"/>
        <!-- Stage: Check Background Size -->
        <comment userInput="Stage: Check Background Size" stepKey="commentStageCheck"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoColorActionGroup" stepKey="validateStage1">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
            <argument name="backgroundSize" value="PageBuilderBackgroundSize_Auto"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageActionGroup" stepKey="validateImageStage1">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <actionGroup ref="SaveAndContinueEditCmsPageActionGroup" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage2"/>
        <!-- Stage: Check Background Size After Save -->
        <comment userInput="Stage: Check Background Size After Save" stepKey="commentStageCheckAfterSave"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoColorActionGroup" stepKey="validateStage2">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
            <argument name="backgroundSize" value="PageBuilderBackgroundSize_Auto"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageActionGroup" stepKey="validateImageStage2">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <!-- Edit Panel: Check Background Size -->
        <comment userInput="Edit Panel: Check Background Size" stepKey="commentValidateEditPanel"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage2">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="SeeInFieldSlideOutPropertyActionGroup" stepKey="validateBackgroundSize">
            <argument name="property" value="PageBuilderBackgroundSize_Auto"/>
        </actionGroup>
        <!-- Storefront: Check Background Size -->
        <comment userInput="Storefront: Check Background Size" stepKey="commentStorefrontCheck"/>
        <actionGroup ref="NavigateToStoreFrontActionGroup" stepKey="navigateToStoreFront">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageOrColorActionGroup" stepKey="validateBackgroundOnStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundSize" value="PageBuilderBackgroundSize_Auto"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageContainerActionGroup" stepKey="validateImageOnStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
    </test>
    <test name="BackgroundSizeCover">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="Background Form"/>
            <title value="Background Size - Cover"/>
            <description value="Tests that the Background Size attribute functions as expected on Stage and Storefront for Banner for Cover value"/>
            <severity value="MAJOR"/>
            <useCaseId value="MAGETWO-90828"/>
            <testCaseId value="MC-2727"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-banner"/>
            <group value="pagebuilder-backgroundForm"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdminActionGroup" stepKey="loginAsAdmin"/>
            <actionGroup ref="NavigateToAPageWithPageBuilderActionGroup" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="NavigateToMediaGalleryActionGroup" stepKey="navigateToMediaGallery"/>
            <actionGroup ref="NavigateToMediaFolderActionGroup" stepKey="navigateToFolder">
                <argument name="FolderName" value="{{PageBuilderBackgroundImage_JPG.path}}"/>
            </actionGroup>
            <actionGroup ref="DeleteImageFromStorageActionGroup" stepKey="deleteImageFromStorage">
                <argument name="Image" value="PageBuilderBackgroundImage_JPG"/>
            </actionGroup>
            <actionGroup ref="LogoutActionGroup" stepKey="logout"/>
        </after>
        <actionGroup ref="AddPageBuilderPageTitleActionGroup" stepKey="enterPageTitle">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ExpandPageBuilderPanelMenuSectionActionGroup" stepKey="expandPageBuilderPanelMenuSection">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="DragContentTypeToStageActionGroup" stepKey="dragBannerIntoStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <!-- Set Background Size -->
        <comment userInput="Set Background Size" stepKey="commentSetBackgroundSize"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="AttachFileSlideOutPropertyActionGroup" stepKey="attachFileSlideOutProperty">
            <argument name="property" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <actionGroup ref="ChooseVisualSelectOptionActionGroup" stepKey="setBackgroundSize">
            <argument name="property" value="PageBuilderBackgroundSize_Cover"/>
        </actionGroup>
        <actionGroup ref="SaveEditPanelSettingsActionGroup" stepKey="saveEditPanelSettings"/>
        <!-- Stage: Check Background Size -->
        <comment userInput="Stage: Check Background Size" stepKey="commentStageCheck"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoColorActionGroup" stepKey="validateStage1">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
            <argument name="backgroundSize" value="PageBuilderBackgroundSize_Cover"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageActionGroup" stepKey="validateImageStage1">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <actionGroup ref="SaveAndContinueEditCmsPageActionGroup" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage2"/>
        <!-- Stage: Check Background Size After Save -->
        <comment userInput="Stage: Check Background Size After Save" stepKey="commentStageCheckAfterSave"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoColorActionGroup" stepKey="validateStage2">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
            <argument name="backgroundSize" value="PageBuilderBackgroundSize_Cover"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageActionGroup" stepKey="validateImageStage2">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <!-- Edit Panel: Check Background Size -->
        <comment userInput="Edit Panel: Check Background Size" stepKey="commentValidateEditPanel"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage2">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="SeeInFieldSlideOutPropertyActionGroup" stepKey="validateBackgroundSize">
            <argument name="property" value="PageBuilderBackgroundSize_Cover"/>
        </actionGroup>
        <!-- Storefront: Check Background Size -->
        <comment userInput="Storefront: Check Background Size" stepKey="commentStorefrontCheck"/>
        <actionGroup ref="NavigateToStoreFrontActionGroup" stepKey="navigateToStoreFront">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageOrColorActionGroup" stepKey="validateBackgroundOnStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundSize" value="PageBuilderBackgroundSize_Cover"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageContainerActionGroup" stepKey="validateImageOnStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
    </test>
    <test name="BackgroundSizeContain">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="Background Form"/>
            <title value="Background Size - Contain"/>
            <description value="Tests that the Background Size attribute functions as expected on Stage and Storefront for Banner for Contain value"/>
            <severity value="MAJOR"/>
            <useCaseId value="MAGETWO-90828"/>
            <testCaseId value="MC-2586"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-banner"/>
            <group value="pagebuilder-backgroundForm"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdminActionGroup" stepKey="loginAsAdmin"/>
            <actionGroup ref="NavigateToAPageWithPageBuilderActionGroup" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="NavigateToMediaGalleryActionGroup" stepKey="navigateToMediaGallery"/>
            <actionGroup ref="NavigateToMediaFolderActionGroup" stepKey="navigateToFolder">
                <argument name="FolderName" value="{{PageBuilderBackgroundImage_JPG.path}}"/>
            </actionGroup>
            <actionGroup ref="DeleteImageFromStorageActionGroup" stepKey="deleteImageFromStorage">
                <argument name="Image" value="PageBuilderBackgroundImage_JPG"/>
            </actionGroup>
            <actionGroup ref="LogoutActionGroup" stepKey="logout"/>
        </after>
        <actionGroup ref="AddPageBuilderPageTitleActionGroup" stepKey="enterPageTitle">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ExpandPageBuilderPanelMenuSectionActionGroup" stepKey="expandPageBuilderPanelMenuSection">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="DragContentTypeToStageActionGroup" stepKey="dragBannerIntoStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <!-- Set Background Size -->
        <comment userInput="Set Background Size" stepKey="commentSetBackgroundSize"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="AttachFileSlideOutPropertyActionGroup" stepKey="attachFileSlideOutProperty">
            <argument name="property" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <actionGroup ref="ChooseVisualSelectOptionActionGroup" stepKey="setBackgroundSize">
            <argument name="property" value="PageBuilderBackgroundSize_Contain"/>
        </actionGroup>
        <actionGroup ref="SaveEditPanelSettingsActionGroup" stepKey="saveEditPanelSettings"/>
        <!-- Stage: Check Background Size -->
        <comment userInput="Stage: Check Background Size" stepKey="commentStageCheck"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoColorActionGroup" stepKey="validateStage1">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
            <argument name="backgroundSize" value="PageBuilderBackgroundSize_Contain"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageActionGroup" stepKey="validateImageStage1">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <actionGroup ref="SaveAndContinueEditCmsPageActionGroup" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage2"/>
        <!-- Stage: Check Background Size After Save -->
        <comment userInput="Stage: Check Background Size After Save" stepKey="commentStageCheckAfterSave"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoColorActionGroup" stepKey="validateStage2">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
            <argument name="backgroundSize" value="PageBuilderBackgroundSize_Contain"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageActionGroup" stepKey="validateImageStage2">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <!-- Edit Panel: Check Background Size -->
        <comment userInput="Edit Panel: Check Background Size" stepKey="commentValidateEditPanel"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage2">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="SeeInFieldSlideOutPropertyActionGroup" stepKey="validateBackgroundSize">
            <argument name="property" value="PageBuilderBackgroundSize_Contain"/>
        </actionGroup>
        <!-- Storefront: Check Background Size -->
        <comment userInput="Storefront: Check Background Size" stepKey="commentStorefrontCheck"/>
        <actionGroup ref="NavigateToStoreFrontActionGroup" stepKey="navigateToStoreFront">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageOrColorActionGroup" stepKey="validateBackgroundOnStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundSize" value="PageBuilderBackgroundSize_Contain"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageContainerActionGroup" stepKey="validateImageOnStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
    </test>
    <test name="BackgroundAttachmentScroll">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="Background Form"/>
            <title value="Background Attachment - Scroll"/>
            <description value="Tests that the Background Attachment attribute functions as expected on Stage and Storefront for Banner for Scroll value"/>
            <severity value="MAJOR"/>
            <useCaseId value="MAGETWO-90828"/>
            <testCaseId value="MC-2595"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-banner"/>
            <group value="pagebuilder-backgroundForm"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdminActionGroup" stepKey="loginAsAdmin"/>
            <actionGroup ref="NavigateToAPageWithPageBuilderActionGroup" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <actionGroup ref="NavigateToMediaGalleryActionGroup" stepKey="navigateToMediaGallery"/>
            <actionGroup ref="NavigateToMediaFolderActionGroup" stepKey="navigateToFolder">
                <argument name="FolderName" value="{{PageBuilderBackgroundImage_JPG.path}}"/>
            </actionGroup>
            <actionGroup ref="DeleteImageFromStorageActionGroup" stepKey="deleteImageFromStorage">
                <argument name="Image" value="PageBuilderBackgroundImage_JPG"/>
            </actionGroup>
            <actionGroup ref="LogoutActionGroup" stepKey="logout"/>
        </after>
        <actionGroup ref="AddPageBuilderPageTitleActionGroup" stepKey="enterPageTitle">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ExpandPageBuilderPanelMenuSectionActionGroup" stepKey="expandPageBuilderPanelMenuSection">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="DragContentTypeToStageActionGroup" stepKey="dragBannerIntoStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <!-- Set Background Attachment -->
        <comment userInput="Set Background Attachment" stepKey="commentSetBackgroundAttachment"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="AttachFileSlideOutPropertyActionGroup" stepKey="attachFileSlideOutProperty">
            <argument name="property" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <actionGroup ref="SelectSlideOutPanelFieldActionGroup" stepKey="setBackgroundAttachment">
            <argument name="property" value="PageBuilderBackgroundAttachment_Scroll"/>
        </actionGroup>
        <actionGroup ref="SaveEditPanelSettingsActionGroup" stepKey="saveEditPanelSettings"/>
        <!-- Stage: Check Background Attachment -->
        <comment userInput="Stage: Check Background Attachment" stepKey="commentStageCheck"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoColorActionGroup" stepKey="validateStage1">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
            <argument name="backgroundAttachment" value="PageBuilderBackgroundAttachment_Scroll"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageActionGroup" stepKey="validateImageStage1">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <actionGroup ref="SaveAndContinueEditCmsPageActionGroup" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage2"/>
        <!-- Stage: Check Background Attachment After Save -->
        <comment userInput="Stage: Check Background Attachment After Save" stepKey="commentStageCheckAfterSave"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoColorActionGroup" stepKey="validateStage2">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
            <argument name="backgroundAttachment" value="PageBuilderBackgroundAttachment_Scroll"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageActionGroup" stepKey="validateImageStage2">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <!-- Edit Panel: Check Background Attachment -->
        <comment userInput="Edit Panel: Check Background Attachment" stepKey="commentValidateEditPanel"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage2">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="SeeInFieldSlideOutPropertyActionGroup" stepKey="validateBackgroundAttachment">
            <argument name="property" value="PageBuilderBackgroundAttachment_Scroll"/>
        </actionGroup>
        <!-- Storefront: Check Background Attachment -->
        <comment userInput="Storefront: Check Background Attachment" stepKey="commentStorefrontCheck"/>
        <actionGroup ref="NavigateToStoreFrontActionGroup" stepKey="navigateToStoreFront">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageOrColorActionGroup" stepKey="validateBackgroundOnStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundAttachment" value="PageBuilderBackgroundAttachment_Scroll"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageContainerActionGroup" stepKey="validateImageOnStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
    </test>
    <test name="BackgroundAttachmentFixed">
        <annotations>
            <features value="PageBuilder"/>
            <stories value="Background Form"/>
            <title value="Background Attachment - Fixed"/>
            <description value="Tests that the Background Attachment attribute functions as expected on Stage and Storefront for Banner for Fixed value"/>
            <severity value="MAJOR"/>
            <useCaseId value="MAGETWO-90828"/>
            <testCaseId value="MC-2634"/>
            <group value="pagebuilder"/>
            <group value="pagebuilder-banner"/>
            <group value="pagebuilder-backgroundForm"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdminActionGroup" stepKey="loginAsAdmin"/>
            <actionGroup ref="NavigateToAPageWithPageBuilderActionGroup" stepKey="navigateToAPageWithPageBuilder"/>
            <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage"/>
        </before>
        <after>
            <resizeWindow width="1280" height="1024" stepKey="resizeWindowToDesktop"/>
            <actionGroup ref="NavigateToMediaGalleryActionGroup" stepKey="navigateToMediaGallery"/>
            <actionGroup ref="NavigateToMediaFolderActionGroup" stepKey="navigateToFolder">
                <argument name="FolderName" value="{{PageBuilderBackgroundImage_JPG.path}}"/>
            </actionGroup>
            <actionGroup ref="DeleteImageFromStorageActionGroup" stepKey="deleteImageFromStorage">
                <argument name="Image" value="PageBuilderBackgroundImage_JPG"/>
            </actionGroup>
            <actionGroup ref="LogoutActionGroup" stepKey="logout"/>
        </after>
        <actionGroup ref="AddPageBuilderPageTitleActionGroup" stepKey="enterPageTitle">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ExpandPageBuilderPanelMenuSectionActionGroup" stepKey="expandPageBuilderPanelMenuSection">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="DragContentTypeToStageActionGroup" stepKey="dragBannerIntoStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <!-- Set Background Attachment -->
        <comment userInput="Set Background Attachment" stepKey="commentSetBackgroundAttachment"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="AttachFileSlideOutPropertyActionGroup" stepKey="attachFileSlideOutProperty">
            <argument name="property" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <actionGroup ref="SelectSlideOutPanelFieldActionGroup" stepKey="setBackgroundAttachment">
            <argument name="property" value="PageBuilderBackgroundAttachment_Fixed"/>
        </actionGroup>
        <actionGroup ref="SaveEditPanelSettingsActionGroup" stepKey="saveEditPanelSettings"/>
        <!-- Stage: Check Background Attachment -->
        <comment userInput="Stage: Check Background Attachment" stepKey="commentStageCheck"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoColorActionGroup" stepKey="validateStage1">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
            <argument name="backgroundAttachment" value="PageBuilderBackgroundAttachment_Fixed"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageActionGroup" stepKey="validateImageStage1">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <actionGroup ref="SaveAndContinueEditCmsPageActionGroup" stepKey="saveAndContinueEditCmsPage"/>
        <actionGroup ref="SwitchToPageBuilderStageActionGroup" stepKey="switchToPageBuilderStage2"/>
        <!-- Stage: Check Background Attachment After Save -->
        <comment userInput="Stage: Check Background Attachment After Save" stepKey="commentStageCheckAfterSave"/>
        <actionGroup ref="ValidateBackgroundAttributesWithNoColorActionGroup" stepKey="validateStage2">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
            <argument name="backgroundAttachment" value="PageBuilderBackgroundAttachment_Fixed"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageActionGroup" stepKey="validateImageStage2">
            <argument name="section" value="BannerOnBackend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <!-- Edit Panel: Check Background Attachment -->
        <comment userInput="Edit Panel: Check Background Attachment" stepKey="commentValidateEditPanel"/>
        <actionGroup ref="OpenPageBuilderEditPanelActionGroup" stepKey="openEditMenuOnStage2">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="SeeInFieldSlideOutPropertyActionGroup" stepKey="validateBackgroundAttachment">
            <argument name="property" value="PageBuilderBackgroundAttachment_Fixed"/>
        </actionGroup>
        <!-- Storefront: Check Background Attachment -->
        <comment userInput="Storefront: Check Background Attachment" stepKey="commentStorefrontCheck"/>
        <actionGroup ref="NavigateToStoreFrontActionGroup" stepKey="navigateToStoreFront">
            <argument name="contentType" value="PageBuilderBannerContentType"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundAttributesWithNoImageOrColorActionGroup" stepKey="validateBackgroundOnStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundAttachment" value="PageBuilderBackgroundAttachment_Fixed"/>
        </actionGroup>
        <actionGroup ref="ValidateBackgroundImageContainerActionGroup" stepKey="validateImageOnStorefront">
            <argument name="section" value="BannerOnFrontend"/>
            <argument name="backgroundImage" value="PageBuilderBackgroundImage_JPG"/>
        </actionGroup>
        <resizeWindow width="767" height="1000" stepKey="resizeWindowToMobile"/>
        <!-- Storefront: Check Background Attachment Mobile -->
        <comment userInput="Storefront: Check Background Attachment Mobile" stepKey="commentStorefrontCheckMobile"/>
        <executeJS function="return jQuery({{BannerOnFrontend.wrapperJS('1')}}).css('background-attachment')" stepKey="assignedBackgroundAttachment" />
        <assertEquals stepKey="assertEqualToEnteredValue">
            <expectedResult type="string">{{PageBuilderBackgroundAttachment_Scroll.value}}</expectedResult>
            <actualResult type="variable">$assignedBackgroundAttachment</actualResult>
        </assertEquals>
    </test>
</tests>
